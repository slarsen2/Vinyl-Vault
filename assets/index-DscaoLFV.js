var DF=Object.defineProperty;var rE=t=>{throw TypeError(t)};var OF=(t,e,n)=>e in t?DF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var j=(t,e,n)=>OF(t,typeof e!="symbol"?e+"":e,n),tg=(t,e,n)=>e.has(t)||rE("Cannot "+n);var V=(t,e,n)=>(tg(t,e,"read from private field"),n?n.call(t):e.get(t)),ve=(t,e,n)=>e.has(t)?rE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),le=(t,e,n,r)=>(tg(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ne=(t,e,n)=>(tg(t,e,"access private method"),n);var sh=(t,e,n,r)=>({set _(s){le(t,e,s,n)},get _(){return V(t,e,r)}});function MF(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function XA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var JA={exports:{}},Op={},eR={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dd=Symbol.for("react.element"),LF=Symbol.for("react.portal"),VF=Symbol.for("react.fragment"),jF=Symbol.for("react.strict_mode"),FF=Symbol.for("react.profiler"),UF=Symbol.for("react.provider"),$F=Symbol.for("react.context"),zF=Symbol.for("react.forward_ref"),BF=Symbol.for("react.suspense"),WF=Symbol.for("react.memo"),qF=Symbol.for("react.lazy"),sE=Symbol.iterator;function HF(t){return t===null||typeof t!="object"?null:(t=sE&&t[sE]||t["@@iterator"],typeof t=="function"?t:null)}var tR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nR=Object.assign,rR={};function Hl(t,e,n){this.props=t,this.context=e,this.refs=rR,this.updater=n||tR}Hl.prototype.isReactComponent={};Hl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Hl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function sR(){}sR.prototype=Hl.prototype;function S_(t,e,n){this.props=t,this.context=e,this.refs=rR,this.updater=n||tR}var I_=S_.prototype=new sR;I_.constructor=S_;nR(I_,Hl.prototype);I_.isPureReactComponent=!0;var iE=Array.isArray,iR=Object.prototype.hasOwnProperty,C_={current:null},oR={key:!0,ref:!0,__self:!0,__source:!0};function aR(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)iR.call(e,r)&&!oR.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:dd,type:t,key:i,ref:o,props:s,_owner:C_.current}}function KF(t,e){return{$$typeof:dd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function A_(t){return typeof t=="object"&&t!==null&&t.$$typeof===dd}function GF(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var oE=/\/+/g;function ng(t,e){return typeof t=="object"&&t!==null&&t.key!=null?GF(""+t.key):e.toString(36)}function jh(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case dd:case LF:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+ng(o,0):r,iE(s)?(n="",t!=null&&(n=t.replace(oE,"$&/")+"/"),jh(s,e,n,"",function(u){return u})):s!=null&&(A_(s)&&(s=KF(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(oE,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",iE(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+ng(i,a);o+=jh(i,e,n,l,s)}else if(l=HF(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+ng(i,a++),o+=jh(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ih(t,e,n){if(t==null)return t;var r=[],s=0;return jh(t,r,"","",function(i){return e.call(n,i,s++)}),r}function QF(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Nn={current:null},Fh={transition:null},YF={ReactCurrentDispatcher:Nn,ReactCurrentBatchConfig:Fh,ReactCurrentOwner:C_};function lR(){throw Error("act(...) is not supported in production builds of React.")}Fe.Children={map:ih,forEach:function(t,e,n){ih(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ih(t,function(){e++}),e},toArray:function(t){return ih(t,function(e){return e})||[]},only:function(t){if(!A_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Fe.Component=Hl;Fe.Fragment=VF;Fe.Profiler=FF;Fe.PureComponent=S_;Fe.StrictMode=jF;Fe.Suspense=BF;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YF;Fe.act=lR;Fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=nR({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=C_.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)iR.call(e,l)&&!oR.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:dd,type:t.type,key:s,ref:i,props:r,_owner:o}};Fe.createContext=function(t){return t={$$typeof:$F,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:UF,_context:t},t.Consumer=t};Fe.createElement=aR;Fe.createFactory=function(t){var e=aR.bind(null,t);return e.type=t,e};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(t){return{$$typeof:zF,render:t}};Fe.isValidElement=A_;Fe.lazy=function(t){return{$$typeof:qF,_payload:{_status:-1,_result:t},_init:QF}};Fe.memo=function(t,e){return{$$typeof:WF,type:t,compare:e===void 0?null:e}};Fe.startTransition=function(t){var e=Fh.transition;Fh.transition={};try{t()}finally{Fh.transition=e}};Fe.unstable_act=lR;Fe.useCallback=function(t,e){return Nn.current.useCallback(t,e)};Fe.useContext=function(t){return Nn.current.useContext(t)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(t){return Nn.current.useDeferredValue(t)};Fe.useEffect=function(t,e){return Nn.current.useEffect(t,e)};Fe.useId=function(){return Nn.current.useId()};Fe.useImperativeHandle=function(t,e,n){return Nn.current.useImperativeHandle(t,e,n)};Fe.useInsertionEffect=function(t,e){return Nn.current.useInsertionEffect(t,e)};Fe.useLayoutEffect=function(t,e){return Nn.current.useLayoutEffect(t,e)};Fe.useMemo=function(t,e){return Nn.current.useMemo(t,e)};Fe.useReducer=function(t,e,n){return Nn.current.useReducer(t,e,n)};Fe.useRef=function(t){return Nn.current.useRef(t)};Fe.useState=function(t){return Nn.current.useState(t)};Fe.useSyncExternalStore=function(t,e,n){return Nn.current.useSyncExternalStore(t,e,n)};Fe.useTransition=function(){return Nn.current.useTransition()};Fe.version="18.3.1";eR.exports=Fe;var y=eR.exports;const Me=XA(y),cR=MF({__proto__:null,default:Me},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZF=y,XF=Symbol.for("react.element"),JF=Symbol.for("react.fragment"),e4=Object.prototype.hasOwnProperty,t4=ZF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n4={key:!0,ref:!0,__self:!0,__source:!0};function uR(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)e4.call(e,r)&&!n4.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:XF,type:t,key:i,ref:o,props:s,_owner:t4.current}}Op.Fragment=JF;Op.jsx=uR;Op.jsxs=uR;JA.exports=Op;var h=JA.exports,dR={exports:{}},er={},hR={exports:{}},fR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,W){var re=$.length;$.push(W);e:for(;0<re;){var me=re-1>>>1,_e=$[me];if(0<s(_e,W))$[me]=W,$[re]=_e,re=me;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var W=$[0],re=$.pop();if(re!==W){$[0]=re;e:for(var me=0,_e=$.length,De=_e>>>1;me<De;){var rt=2*(me+1)-1,Et=$[rt],ot=rt+1,pe=$[ot];if(0>s(Et,re))ot<_e&&0>s(pe,Et)?($[me]=pe,$[ot]=re,me=ot):($[me]=Et,$[rt]=re,me=rt);else if(ot<_e&&0>s(pe,re))$[me]=pe,$[ot]=re,me=ot;else break e}}return W}function s($,W){var re=$.sortIndex-W.sortIndex;return re!==0?re:$.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,f=null,p=3,v=!1,I=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x($){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=$)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function N($){if(_=!1,x($),!I)if(n(l)!==null)I=!0,K(k);else{var W=n(u);W!==null&&te(N,W.startTime-$)}}function k($,W){I=!1,_&&(_=!1,E(b),b=-1),v=!0;var re=p;try{for(x(W),f=n(l);f!==null&&(!(f.expirationTime>W)||$&&!O());){var me=f.callback;if(typeof me=="function"){f.callback=null,p=f.priorityLevel;var _e=me(f.expirationTime<=W);W=t.unstable_now(),typeof _e=="function"?f.callback=_e:f===n(l)&&r(l),x(W)}else r(l);f=n(l)}if(f!==null)var De=!0;else{var rt=n(u);rt!==null&&te(N,rt.startTime-W),De=!1}return De}finally{f=null,p=re,v=!1}}var M=!1,T=null,b=-1,C=5,R=-1;function O(){return!(t.unstable_now()-R<C)}function D(){if(T!==null){var $=t.unstable_now();R=$;var W=!0;try{W=T(!0,$)}finally{W?P():(M=!1,T=null)}}else M=!1}var P;if(typeof g=="function")P=function(){g(D)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,B=H.port2;H.port1.onmessage=D,P=function(){B.postMessage(null)}}else P=function(){S(D,0)};function K($){T=$,M||(M=!0,P())}function te($,W){b=S(function(){$(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){I||v||(I=!0,K(k))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var re=p;p=W;try{return $()}finally{p=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,W){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var re=p;p=$;try{return W()}finally{p=re}},t.unstable_scheduleCallback=function($,W,re){var me=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?me+re:me):re=me,$){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=re+_e,$={id:d++,callback:W,priorityLevel:$,startTime:re,expirationTime:_e,sortIndex:-1},re>me?($.sortIndex=re,e(u,$),n(l)===null&&$===n(u)&&(_?(E(b),b=-1):_=!0,te(N,re-me))):($.sortIndex=_e,e(l,$),I||v||(I=!0,K(k))),$},t.unstable_shouldYield=O,t.unstable_wrapCallback=function($){var W=p;return function(){var re=p;p=W;try{return $.apply(this,arguments)}finally{p=re}}}})(fR);hR.exports=fR;var r4=hR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s4=y,Jn=r4;function ee(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pR=new Set,gu={};function ta(t,e){Tl(t,e),Tl(t+"Capture",e)}function Tl(t,e){for(gu[t]=e,t=0;t<e.length;t++)pR.add(e[t])}var Os=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_y=Object.prototype.hasOwnProperty,i4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,aE={},lE={};function o4(t){return _y.call(lE,t)?!0:_y.call(aE,t)?!1:i4.test(t)?lE[t]=!0:(aE[t]=!0,!1)}function a4(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function l4(t,e,n,r){if(e===null||typeof e>"u"||a4(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function kn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var sn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){sn[t]=new kn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];sn[e]=new kn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){sn[t]=new kn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){sn[t]=new kn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){sn[t]=new kn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){sn[t]=new kn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){sn[t]=new kn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){sn[t]=new kn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){sn[t]=new kn(t,5,!1,t.toLowerCase(),null,!1,!1)});var R_=/[\-:]([a-z])/g;function P_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(R_,P_);sn[e]=new kn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(R_,P_);sn[e]=new kn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(R_,P_);sn[e]=new kn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){sn[t]=new kn(t,1,!1,t.toLowerCase(),null,!1,!1)});sn.xlinkHref=new kn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){sn[t]=new kn(t,1,!1,t.toLowerCase(),null,!0,!0)});function N_(t,e,n,r){var s=sn.hasOwnProperty(e)?sn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(l4(e,n,s,r)&&(n=null),r||s===null?o4(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var qs=s4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,oh=Symbol.for("react.element"),Aa=Symbol.for("react.portal"),Ra=Symbol.for("react.fragment"),k_=Symbol.for("react.strict_mode"),wy=Symbol.for("react.profiler"),mR=Symbol.for("react.provider"),gR=Symbol.for("react.context"),D_=Symbol.for("react.forward_ref"),xy=Symbol.for("react.suspense"),Ey=Symbol.for("react.suspense_list"),O_=Symbol.for("react.memo"),si=Symbol.for("react.lazy"),yR=Symbol.for("react.offscreen"),cE=Symbol.iterator;function Ic(t){return t===null||typeof t!="object"?null:(t=cE&&t[cE]||t["@@iterator"],typeof t=="function"?t:null)}var wt=Object.assign,rg;function jc(t){if(rg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);rg=e&&e[1]||""}return`
`+rg+t}var sg=!1;function ig(t,e){if(!t||sg)return"";sg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{sg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?jc(t):""}function c4(t){switch(t.tag){case 5:return jc(t.type);case 16:return jc("Lazy");case 13:return jc("Suspense");case 19:return jc("SuspenseList");case 0:case 2:case 15:return t=ig(t.type,!1),t;case 11:return t=ig(t.type.render,!1),t;case 1:return t=ig(t.type,!0),t;default:return""}}function Ty(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ra:return"Fragment";case Aa:return"Portal";case wy:return"Profiler";case k_:return"StrictMode";case xy:return"Suspense";case Ey:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case gR:return(t.displayName||"Context")+".Consumer";case mR:return(t._context.displayName||"Context")+".Provider";case D_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O_:return e=t.displayName||null,e!==null?e:Ty(t.type)||"Memo";case si:e=t._payload,t=t._init;try{return Ty(t(e))}catch{}}return null}function u4(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ty(e);case 8:return e===k_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ji(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function d4(t){var e=vR(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ah(t){t._valueTracker||(t._valueTracker=d4(t))}function _R(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=vR(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function yf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function by(t,e){var n=e.checked;return wt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function uE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ji(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function wR(t,e){e=e.checked,e!=null&&N_(t,"checked",e,!1)}function Sy(t,e){wR(t,e);var n=ji(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Iy(t,e.type,n):e.hasOwnProperty("defaultValue")&&Iy(t,e.type,ji(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function dE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Iy(t,e,n){(e!=="number"||yf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Fc=Array.isArray;function Ba(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ji(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Cy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ee(91));return wt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function hE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ee(92));if(Fc(n)){if(1<n.length)throw Error(ee(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ji(n)}}function xR(t,e){var n=ji(e.value),r=ji(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function fE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ER(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ay(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ER(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var lh,TR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(lh=lh||document.createElement("div"),lh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=lh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function yu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var eu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},h4=["Webkit","ms","Moz","O"];Object.keys(eu).forEach(function(t){h4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),eu[e]=eu[t]})});function bR(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||eu.hasOwnProperty(t)&&eu[t]?(""+e).trim():e+"px"}function SR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=bR(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var f4=wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ry(t,e){if(e){if(f4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ee(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ee(62))}}function Py(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ny=null;function M_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ky=null,Wa=null,qa=null;function pE(t){if(t=pd(t)){if(typeof ky!="function")throw Error(ee(280));var e=t.stateNode;e&&(e=Fp(e),ky(t.stateNode,t.type,e))}}function IR(t){Wa?qa?qa.push(t):qa=[t]:Wa=t}function CR(){if(Wa){var t=Wa,e=qa;if(qa=Wa=null,pE(t),e)for(t=0;t<e.length;t++)pE(e[t])}}function AR(t,e){return t(e)}function RR(){}var og=!1;function PR(t,e,n){if(og)return t(e,n);og=!0;try{return AR(t,e,n)}finally{og=!1,(Wa!==null||qa!==null)&&(RR(),CR())}}function vu(t,e){var n=t.stateNode;if(n===null)return null;var r=Fp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ee(231,e,typeof n));return n}var Dy=!1;if(Os)try{var Cc={};Object.defineProperty(Cc,"passive",{get:function(){Dy=!0}}),window.addEventListener("test",Cc,Cc),window.removeEventListener("test",Cc,Cc)}catch{Dy=!1}function p4(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var tu=!1,vf=null,_f=!1,Oy=null,m4={onError:function(t){tu=!0,vf=t}};function g4(t,e,n,r,s,i,o,a,l){tu=!1,vf=null,p4.apply(m4,arguments)}function y4(t,e,n,r,s,i,o,a,l){if(g4.apply(this,arguments),tu){if(tu){var u=vf;tu=!1,vf=null}else throw Error(ee(198));_f||(_f=!0,Oy=u)}}function na(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function NR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function mE(t){if(na(t)!==t)throw Error(ee(188))}function v4(t){var e=t.alternate;if(!e){if(e=na(t),e===null)throw Error(ee(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return mE(s),t;if(i===r)return mE(s),e;i=i.sibling}throw Error(ee(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(ee(189))}}if(n.alternate!==r)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?t:e}function kR(t){return t=v4(t),t!==null?DR(t):null}function DR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=DR(t);if(e!==null)return e;t=t.sibling}return null}var OR=Jn.unstable_scheduleCallback,gE=Jn.unstable_cancelCallback,_4=Jn.unstable_shouldYield,w4=Jn.unstable_requestPaint,Nt=Jn.unstable_now,x4=Jn.unstable_getCurrentPriorityLevel,L_=Jn.unstable_ImmediatePriority,MR=Jn.unstable_UserBlockingPriority,wf=Jn.unstable_NormalPriority,E4=Jn.unstable_LowPriority,LR=Jn.unstable_IdlePriority,Mp=null,Jr=null;function T4(t){if(Jr&&typeof Jr.onCommitFiberRoot=="function")try{Jr.onCommitFiberRoot(Mp,t,void 0,(t.current.flags&128)===128)}catch{}}var Rr=Math.clz32?Math.clz32:I4,b4=Math.log,S4=Math.LN2;function I4(t){return t>>>=0,t===0?32:31-(b4(t)/S4|0)|0}var ch=64,uh=4194304;function Uc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function xf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Uc(a):(i&=o,i!==0&&(r=Uc(i)))}else o=n&~s,o!==0?r=Uc(o):i!==0&&(r=Uc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Rr(e),s=1<<n,r|=t[n],e&=~s;return r}function C4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function A4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Rr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=C4(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function My(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function VR(){var t=ch;return ch<<=1,!(ch&4194240)&&(ch=64),t}function ag(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function hd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Rr(e),t[e]=n}function R4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Rr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function V_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Rr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var nt=0;function jR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var FR,j_,UR,$R,zR,Ly=!1,dh=[],Si=null,Ii=null,Ci=null,_u=new Map,wu=new Map,oi=[],P4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yE(t,e){switch(t){case"focusin":case"focusout":Si=null;break;case"dragenter":case"dragleave":Ii=null;break;case"mouseover":case"mouseout":Ci=null;break;case"pointerover":case"pointerout":_u.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":wu.delete(e.pointerId)}}function Ac(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=pd(e),e!==null&&j_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function N4(t,e,n,r,s){switch(e){case"focusin":return Si=Ac(Si,t,e,n,r,s),!0;case"dragenter":return Ii=Ac(Ii,t,e,n,r,s),!0;case"mouseover":return Ci=Ac(Ci,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return _u.set(i,Ac(_u.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,wu.set(i,Ac(wu.get(i)||null,t,e,n,r,s)),!0}return!1}function BR(t){var e=_o(t.target);if(e!==null){var n=na(e);if(n!==null){if(e=n.tag,e===13){if(e=NR(n),e!==null){t.blockedOn=e,zR(t.priority,function(){UR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Vy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ny=r,n.target.dispatchEvent(r),Ny=null}else return e=pd(n),e!==null&&j_(e),t.blockedOn=n,!1;e.shift()}return!0}function vE(t,e,n){Uh(t)&&n.delete(e)}function k4(){Ly=!1,Si!==null&&Uh(Si)&&(Si=null),Ii!==null&&Uh(Ii)&&(Ii=null),Ci!==null&&Uh(Ci)&&(Ci=null),_u.forEach(vE),wu.forEach(vE)}function Rc(t,e){t.blockedOn===e&&(t.blockedOn=null,Ly||(Ly=!0,Jn.unstable_scheduleCallback(Jn.unstable_NormalPriority,k4)))}function xu(t){function e(s){return Rc(s,t)}if(0<dh.length){Rc(dh[0],t);for(var n=1;n<dh.length;n++){var r=dh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Si!==null&&Rc(Si,t),Ii!==null&&Rc(Ii,t),Ci!==null&&Rc(Ci,t),_u.forEach(e),wu.forEach(e),n=0;n<oi.length;n++)r=oi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<oi.length&&(n=oi[0],n.blockedOn===null);)BR(n),n.blockedOn===null&&oi.shift()}var Ha=qs.ReactCurrentBatchConfig,Ef=!0;function D4(t,e,n,r){var s=nt,i=Ha.transition;Ha.transition=null;try{nt=1,F_(t,e,n,r)}finally{nt=s,Ha.transition=i}}function O4(t,e,n,r){var s=nt,i=Ha.transition;Ha.transition=null;try{nt=4,F_(t,e,n,r)}finally{nt=s,Ha.transition=i}}function F_(t,e,n,r){if(Ef){var s=Vy(t,e,n,r);if(s===null)yg(t,e,r,Tf,n),yE(t,r);else if(N4(s,t,e,n,r))r.stopPropagation();else if(yE(t,r),e&4&&-1<P4.indexOf(t)){for(;s!==null;){var i=pd(s);if(i!==null&&FR(i),i=Vy(t,e,n,r),i===null&&yg(t,e,r,Tf,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else yg(t,e,r,null,n)}}var Tf=null;function Vy(t,e,n,r){if(Tf=null,t=M_(r),t=_o(t),t!==null)if(e=na(t),e===null)t=null;else if(n=e.tag,n===13){if(t=NR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Tf=t,null}function WR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(x4()){case L_:return 1;case MR:return 4;case wf:case E4:return 16;case LR:return 536870912;default:return 16}default:return 16}}var Ei=null,U_=null,$h=null;function qR(){if($h)return $h;var t,e=U_,n=e.length,r,s="value"in Ei?Ei.value:Ei.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return $h=s.slice(t,1<r?1-r:void 0)}function zh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function hh(){return!0}function _E(){return!1}function tr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?hh:_E,this.isPropagationStopped=_E,this}return wt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hh)},persist:function(){},isPersistent:hh}),e}var Kl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$_=tr(Kl),fd=wt({},Kl,{view:0,detail:0}),M4=tr(fd),lg,cg,Pc,Lp=wt({},fd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:z_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pc&&(Pc&&t.type==="mousemove"?(lg=t.screenX-Pc.screenX,cg=t.screenY-Pc.screenY):cg=lg=0,Pc=t),lg)},movementY:function(t){return"movementY"in t?t.movementY:cg}}),wE=tr(Lp),L4=wt({},Lp,{dataTransfer:0}),V4=tr(L4),j4=wt({},fd,{relatedTarget:0}),ug=tr(j4),F4=wt({},Kl,{animationName:0,elapsedTime:0,pseudoElement:0}),U4=tr(F4),$4=wt({},Kl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),z4=tr($4),B4=wt({},Kl,{data:0}),xE=tr(B4),W4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},q4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},H4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function K4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=H4[t])?!!e[t]:!1}function z_(){return K4}var G4=wt({},fd,{key:function(t){if(t.key){var e=W4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?q4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:z_,charCode:function(t){return t.type==="keypress"?zh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Q4=tr(G4),Y4=wt({},Lp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),EE=tr(Y4),Z4=wt({},fd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:z_}),X4=tr(Z4),J4=wt({},Kl,{propertyName:0,elapsedTime:0,pseudoElement:0}),eU=tr(J4),tU=wt({},Lp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),nU=tr(tU),rU=[9,13,27,32],B_=Os&&"CompositionEvent"in window,nu=null;Os&&"documentMode"in document&&(nu=document.documentMode);var sU=Os&&"TextEvent"in window&&!nu,HR=Os&&(!B_||nu&&8<nu&&11>=nu),TE=" ",bE=!1;function KR(t,e){switch(t){case"keyup":return rU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function GR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pa=!1;function iU(t,e){switch(t){case"compositionend":return GR(e);case"keypress":return e.which!==32?null:(bE=!0,TE);case"textInput":return t=e.data,t===TE&&bE?null:t;default:return null}}function oU(t,e){if(Pa)return t==="compositionend"||!B_&&KR(t,e)?(t=qR(),$h=U_=Ei=null,Pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return HR&&e.locale!=="ko"?null:e.data;default:return null}}var aU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function SE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!aU[t.type]:e==="textarea"}function QR(t,e,n,r){IR(r),e=bf(e,"onChange"),0<e.length&&(n=new $_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ru=null,Eu=null;function lU(t){oP(t,0)}function Vp(t){var e=Da(t);if(_R(e))return t}function cU(t,e){if(t==="change")return e}var YR=!1;if(Os){var dg;if(Os){var hg="oninput"in document;if(!hg){var IE=document.createElement("div");IE.setAttribute("oninput","return;"),hg=typeof IE.oninput=="function"}dg=hg}else dg=!1;YR=dg&&(!document.documentMode||9<document.documentMode)}function CE(){ru&&(ru.detachEvent("onpropertychange",ZR),Eu=ru=null)}function ZR(t){if(t.propertyName==="value"&&Vp(Eu)){var e=[];QR(e,Eu,t,M_(t)),PR(lU,e)}}function uU(t,e,n){t==="focusin"?(CE(),ru=e,Eu=n,ru.attachEvent("onpropertychange",ZR)):t==="focusout"&&CE()}function dU(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vp(Eu)}function hU(t,e){if(t==="click")return Vp(e)}function fU(t,e){if(t==="input"||t==="change")return Vp(e)}function pU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kr=typeof Object.is=="function"?Object.is:pU;function Tu(t,e){if(kr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!_y.call(e,s)||!kr(t[s],e[s]))return!1}return!0}function AE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function RE(t,e){var n=AE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=AE(n)}}function XR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?XR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function JR(){for(var t=window,e=yf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yf(t.document)}return e}function W_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function mU(t){var e=JR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&XR(n.ownerDocument.documentElement,n)){if(r!==null&&W_(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=RE(n,i);var o=RE(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gU=Os&&"documentMode"in document&&11>=document.documentMode,Na=null,jy=null,su=null,Fy=!1;function PE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fy||Na==null||Na!==yf(r)||(r=Na,"selectionStart"in r&&W_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),su&&Tu(su,r)||(su=r,r=bf(jy,"onSelect"),0<r.length&&(e=new $_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Na)))}function fh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ka={animationend:fh("Animation","AnimationEnd"),animationiteration:fh("Animation","AnimationIteration"),animationstart:fh("Animation","AnimationStart"),transitionend:fh("Transition","TransitionEnd")},fg={},eP={};Os&&(eP=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function jp(t){if(fg[t])return fg[t];if(!ka[t])return t;var e=ka[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in eP)return fg[t]=e[n];return t}var tP=jp("animationend"),nP=jp("animationiteration"),rP=jp("animationstart"),sP=jp("transitionend"),iP=new Map,NE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ji(t,e){iP.set(t,e),ta(e,[t])}for(var pg=0;pg<NE.length;pg++){var mg=NE[pg],yU=mg.toLowerCase(),vU=mg[0].toUpperCase()+mg.slice(1);Ji(yU,"on"+vU)}Ji(tP,"onAnimationEnd");Ji(nP,"onAnimationIteration");Ji(rP,"onAnimationStart");Ji("dblclick","onDoubleClick");Ji("focusin","onFocus");Ji("focusout","onBlur");Ji(sP,"onTransitionEnd");Tl("onMouseEnter",["mouseout","mouseover"]);Tl("onMouseLeave",["mouseout","mouseover"]);Tl("onPointerEnter",["pointerout","pointerover"]);Tl("onPointerLeave",["pointerout","pointerover"]);ta("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ta("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ta("onBeforeInput",["compositionend","keypress","textInput","paste"]);ta("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ta("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ta("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $c="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_U=new Set("cancel close invalid load scroll toggle".split(" ").concat($c));function kE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,y4(r,e,void 0,t),t.currentTarget=null}function oP(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;kE(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;kE(s,a,u),i=l}}}if(_f)throw t=Oy,_f=!1,Oy=null,t}function ct(t,e){var n=e[Wy];n===void 0&&(n=e[Wy]=new Set);var r=t+"__bubble";n.has(r)||(aP(e,t,2,!1),n.add(r))}function gg(t,e,n){var r=0;e&&(r|=4),aP(n,t,r,e)}var ph="_reactListening"+Math.random().toString(36).slice(2);function bu(t){if(!t[ph]){t[ph]=!0,pR.forEach(function(n){n!=="selectionchange"&&(_U.has(n)||gg(n,!1,t),gg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ph]||(e[ph]=!0,gg("selectionchange",!1,e))}}function aP(t,e,n,r){switch(WR(e)){case 1:var s=D4;break;case 4:s=O4;break;default:s=F_}n=s.bind(null,e,n,t),s=void 0,!Dy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function yg(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=_o(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}PR(function(){var u=i,d=M_(n),f=[];e:{var p=iP.get(t);if(p!==void 0){var v=$_,I=t;switch(t){case"keypress":if(zh(n)===0)break e;case"keydown":case"keyup":v=Q4;break;case"focusin":I="focus",v=ug;break;case"focusout":I="blur",v=ug;break;case"beforeblur":case"afterblur":v=ug;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=wE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=V4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=X4;break;case tP:case nP:case rP:v=U4;break;case sP:v=eU;break;case"scroll":v=M4;break;case"wheel":v=nU;break;case"copy":case"cut":case"paste":v=z4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=EE}var _=(e&4)!==0,S=!_&&t==="scroll",E=_?p!==null?p+"Capture":null:p;_=[];for(var g=u,x;g!==null;){x=g;var N=x.stateNode;if(x.tag===5&&N!==null&&(x=N,E!==null&&(N=vu(g,E),N!=null&&_.push(Su(g,N,x)))),S)break;g=g.return}0<_.length&&(p=new v(p,I,null,n,d),f.push({event:p,listeners:_}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&n!==Ny&&(I=n.relatedTarget||n.fromElement)&&(_o(I)||I[Ms]))break e;if((v||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,v?(I=n.relatedTarget||n.toElement,v=u,I=I?_o(I):null,I!==null&&(S=na(I),I!==S||I.tag!==5&&I.tag!==6)&&(I=null)):(v=null,I=u),v!==I)){if(_=wE,N="onMouseLeave",E="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(_=EE,N="onPointerLeave",E="onPointerEnter",g="pointer"),S=v==null?p:Da(v),x=I==null?p:Da(I),p=new _(N,g+"leave",v,n,d),p.target=S,p.relatedTarget=x,N=null,_o(d)===u&&(_=new _(E,g+"enter",I,n,d),_.target=x,_.relatedTarget=S,N=_),S=N,v&&I)t:{for(_=v,E=I,g=0,x=_;x;x=va(x))g++;for(x=0,N=E;N;N=va(N))x++;for(;0<g-x;)_=va(_),g--;for(;0<x-g;)E=va(E),x--;for(;g--;){if(_===E||E!==null&&_===E.alternate)break t;_=va(_),E=va(E)}_=null}else _=null;v!==null&&DE(f,p,v,_,!1),I!==null&&S!==null&&DE(f,S,I,_,!0)}}e:{if(p=u?Da(u):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var k=cU;else if(SE(p))if(YR)k=fU;else{k=dU;var M=uU}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=hU);if(k&&(k=k(t,u))){QR(f,k,n,d);break e}M&&M(t,p,u),t==="focusout"&&(M=p._wrapperState)&&M.controlled&&p.type==="number"&&Iy(p,"number",p.value)}switch(M=u?Da(u):window,t){case"focusin":(SE(M)||M.contentEditable==="true")&&(Na=M,jy=u,su=null);break;case"focusout":su=jy=Na=null;break;case"mousedown":Fy=!0;break;case"contextmenu":case"mouseup":case"dragend":Fy=!1,PE(f,n,d);break;case"selectionchange":if(gU)break;case"keydown":case"keyup":PE(f,n,d)}var T;if(B_)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Pa?KR(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(HR&&n.locale!=="ko"&&(Pa||b!=="onCompositionStart"?b==="onCompositionEnd"&&Pa&&(T=qR()):(Ei=d,U_="value"in Ei?Ei.value:Ei.textContent,Pa=!0)),M=bf(u,b),0<M.length&&(b=new xE(b,t,null,n,d),f.push({event:b,listeners:M}),T?b.data=T:(T=GR(n),T!==null&&(b.data=T)))),(T=sU?iU(t,n):oU(t,n))&&(u=bf(u,"onBeforeInput"),0<u.length&&(d=new xE("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=T))}oP(f,e)})}function Su(t,e,n){return{instance:t,listener:e,currentTarget:n}}function bf(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=vu(t,n),i!=null&&r.unshift(Su(t,i,s)),i=vu(t,e),i!=null&&r.push(Su(t,i,s))),t=t.return}return r}function va(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function DE(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=vu(n,i),l!=null&&o.unshift(Su(n,l,a))):s||(l=vu(n,i),l!=null&&o.push(Su(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var wU=/\r\n?/g,xU=/\u0000|\uFFFD/g;function OE(t){return(typeof t=="string"?t:""+t).replace(wU,`
`).replace(xU,"")}function mh(t,e,n){if(e=OE(e),OE(t)!==e&&n)throw Error(ee(425))}function Sf(){}var Uy=null,$y=null;function zy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var By=typeof setTimeout=="function"?setTimeout:void 0,EU=typeof clearTimeout=="function"?clearTimeout:void 0,ME=typeof Promise=="function"?Promise:void 0,TU=typeof queueMicrotask=="function"?queueMicrotask:typeof ME<"u"?function(t){return ME.resolve(null).then(t).catch(bU)}:By;function bU(t){setTimeout(function(){throw t})}function vg(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),xu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);xu(e)}function Ai(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function LE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Gl=Math.random().toString(36).slice(2),Yr="__reactFiber$"+Gl,Iu="__reactProps$"+Gl,Ms="__reactContainer$"+Gl,Wy="__reactEvents$"+Gl,SU="__reactListeners$"+Gl,IU="__reactHandles$"+Gl;function _o(t){var e=t[Yr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ms]||n[Yr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=LE(t);t!==null;){if(n=t[Yr])return n;t=LE(t)}return e}t=n,n=t.parentNode}return null}function pd(t){return t=t[Yr]||t[Ms],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Da(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ee(33))}function Fp(t){return t[Iu]||null}var qy=[],Oa=-1;function eo(t){return{current:t}}function dt(t){0>Oa||(t.current=qy[Oa],qy[Oa]=null,Oa--)}function it(t,e){Oa++,qy[Oa]=t.current,t.current=e}var Fi={},yn=eo(Fi),$n=eo(!1),Mo=Fi;function bl(t,e){var n=t.type.contextTypes;if(!n)return Fi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function zn(t){return t=t.childContextTypes,t!=null}function If(){dt($n),dt(yn)}function VE(t,e,n){if(yn.current!==Fi)throw Error(ee(168));it(yn,e),it($n,n)}function lP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(ee(108,u4(t)||"Unknown",s));return wt({},n,r)}function Cf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fi,Mo=yn.current,it(yn,t),it($n,$n.current),!0}function jE(t,e,n){var r=t.stateNode;if(!r)throw Error(ee(169));n?(t=lP(t,e,Mo),r.__reactInternalMemoizedMergedChildContext=t,dt($n),dt(yn),it(yn,t)):dt($n),it($n,n)}var xs=null,Up=!1,_g=!1;function cP(t){xs===null?xs=[t]:xs.push(t)}function CU(t){Up=!0,cP(t)}function to(){if(!_g&&xs!==null){_g=!0;var t=0,e=nt;try{var n=xs;for(nt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}xs=null,Up=!1}catch(s){throw xs!==null&&(xs=xs.slice(t+1)),OR(L_,to),s}finally{nt=e,_g=!1}}return null}var Ma=[],La=0,Af=null,Rf=0,ir=[],or=0,Lo=null,Ss=1,Is="";function po(t,e){Ma[La++]=Rf,Ma[La++]=Af,Af=t,Rf=e}function uP(t,e,n){ir[or++]=Ss,ir[or++]=Is,ir[or++]=Lo,Lo=t;var r=Ss;t=Is;var s=32-Rr(r)-1;r&=~(1<<s),n+=1;var i=32-Rr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ss=1<<32-Rr(e)+s|n<<s|r,Is=i+t}else Ss=1<<i|n<<s|r,Is=t}function q_(t){t.return!==null&&(po(t,1),uP(t,1,0))}function H_(t){for(;t===Af;)Af=Ma[--La],Ma[La]=null,Rf=Ma[--La],Ma[La]=null;for(;t===Lo;)Lo=ir[--or],ir[or]=null,Is=ir[--or],ir[or]=null,Ss=ir[--or],ir[or]=null}var Yn=null,Gn=null,ft=!1,Tr=null;function dP(t,e){var n=cr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function FE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Yn=t,Gn=Ai(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Yn=t,Gn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Lo!==null?{id:Ss,overflow:Is}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=cr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Yn=t,Gn=null,!0):!1;default:return!1}}function Hy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ky(t){if(ft){var e=Gn;if(e){var n=e;if(!FE(t,e)){if(Hy(t))throw Error(ee(418));e=Ai(n.nextSibling);var r=Yn;e&&FE(t,e)?dP(r,n):(t.flags=t.flags&-4097|2,ft=!1,Yn=t)}}else{if(Hy(t))throw Error(ee(418));t.flags=t.flags&-4097|2,ft=!1,Yn=t}}}function UE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Yn=t}function gh(t){if(t!==Yn)return!1;if(!ft)return UE(t),ft=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!zy(t.type,t.memoizedProps)),e&&(e=Gn)){if(Hy(t))throw hP(),Error(ee(418));for(;e;)dP(t,e),e=Ai(e.nextSibling)}if(UE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ee(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Gn=Ai(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Gn=null}}else Gn=Yn?Ai(t.stateNode.nextSibling):null;return!0}function hP(){for(var t=Gn;t;)t=Ai(t.nextSibling)}function Sl(){Gn=Yn=null,ft=!1}function K_(t){Tr===null?Tr=[t]:Tr.push(t)}var AU=qs.ReactCurrentBatchConfig;function Nc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ee(309));var r=n.stateNode}if(!r)throw Error(ee(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(ee(284));if(!n._owner)throw Error(ee(290,t))}return t}function yh(t,e){throw t=Object.prototype.toString.call(e),Error(ee(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $E(t){var e=t._init;return e(t._payload)}function fP(t){function e(E,g){if(t){var x=E.deletions;x===null?(E.deletions=[g],E.flags|=16):x.push(g)}}function n(E,g){if(!t)return null;for(;g!==null;)e(E,g),g=g.sibling;return null}function r(E,g){for(E=new Map;g!==null;)g.key!==null?E.set(g.key,g):E.set(g.index,g),g=g.sibling;return E}function s(E,g){return E=ki(E,g),E.index=0,E.sibling=null,E}function i(E,g,x){return E.index=x,t?(x=E.alternate,x!==null?(x=x.index,x<g?(E.flags|=2,g):x):(E.flags|=2,g)):(E.flags|=1048576,g)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,g,x,N){return g===null||g.tag!==6?(g=Ig(x,E.mode,N),g.return=E,g):(g=s(g,x),g.return=E,g)}function l(E,g,x,N){var k=x.type;return k===Ra?d(E,g,x.props.children,N,x.key):g!==null&&(g.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===si&&$E(k)===g.type)?(N=s(g,x.props),N.ref=Nc(E,g,x),N.return=E,N):(N=Qh(x.type,x.key,x.props,null,E.mode,N),N.ref=Nc(E,g,x),N.return=E,N)}function u(E,g,x,N){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=Cg(x,E.mode,N),g.return=E,g):(g=s(g,x.children||[]),g.return=E,g)}function d(E,g,x,N,k){return g===null||g.tag!==7?(g=Do(x,E.mode,N,k),g.return=E,g):(g=s(g,x),g.return=E,g)}function f(E,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Ig(""+g,E.mode,x),g.return=E,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case oh:return x=Qh(g.type,g.key,g.props,null,E.mode,x),x.ref=Nc(E,null,g),x.return=E,x;case Aa:return g=Cg(g,E.mode,x),g.return=E,g;case si:var N=g._init;return f(E,N(g._payload),x)}if(Fc(g)||Ic(g))return g=Do(g,E.mode,x,null),g.return=E,g;yh(E,g)}return null}function p(E,g,x,N){var k=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return k!==null?null:a(E,g,""+x,N);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case oh:return x.key===k?l(E,g,x,N):null;case Aa:return x.key===k?u(E,g,x,N):null;case si:return k=x._init,p(E,g,k(x._payload),N)}if(Fc(x)||Ic(x))return k!==null?null:d(E,g,x,N,null);yh(E,x)}return null}function v(E,g,x,N,k){if(typeof N=="string"&&N!==""||typeof N=="number")return E=E.get(x)||null,a(g,E,""+N,k);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case oh:return E=E.get(N.key===null?x:N.key)||null,l(g,E,N,k);case Aa:return E=E.get(N.key===null?x:N.key)||null,u(g,E,N,k);case si:var M=N._init;return v(E,g,x,M(N._payload),k)}if(Fc(N)||Ic(N))return E=E.get(x)||null,d(g,E,N,k,null);yh(g,N)}return null}function I(E,g,x,N){for(var k=null,M=null,T=g,b=g=0,C=null;T!==null&&b<x.length;b++){T.index>b?(C=T,T=null):C=T.sibling;var R=p(E,T,x[b],N);if(R===null){T===null&&(T=C);break}t&&T&&R.alternate===null&&e(E,T),g=i(R,g,b),M===null?k=R:M.sibling=R,M=R,T=C}if(b===x.length)return n(E,T),ft&&po(E,b),k;if(T===null){for(;b<x.length;b++)T=f(E,x[b],N),T!==null&&(g=i(T,g,b),M===null?k=T:M.sibling=T,M=T);return ft&&po(E,b),k}for(T=r(E,T);b<x.length;b++)C=v(T,E,b,x[b],N),C!==null&&(t&&C.alternate!==null&&T.delete(C.key===null?b:C.key),g=i(C,g,b),M===null?k=C:M.sibling=C,M=C);return t&&T.forEach(function(O){return e(E,O)}),ft&&po(E,b),k}function _(E,g,x,N){var k=Ic(x);if(typeof k!="function")throw Error(ee(150));if(x=k.call(x),x==null)throw Error(ee(151));for(var M=k=null,T=g,b=g=0,C=null,R=x.next();T!==null&&!R.done;b++,R=x.next()){T.index>b?(C=T,T=null):C=T.sibling;var O=p(E,T,R.value,N);if(O===null){T===null&&(T=C);break}t&&T&&O.alternate===null&&e(E,T),g=i(O,g,b),M===null?k=O:M.sibling=O,M=O,T=C}if(R.done)return n(E,T),ft&&po(E,b),k;if(T===null){for(;!R.done;b++,R=x.next())R=f(E,R.value,N),R!==null&&(g=i(R,g,b),M===null?k=R:M.sibling=R,M=R);return ft&&po(E,b),k}for(T=r(E,T);!R.done;b++,R=x.next())R=v(T,E,b,R.value,N),R!==null&&(t&&R.alternate!==null&&T.delete(R.key===null?b:R.key),g=i(R,g,b),M===null?k=R:M.sibling=R,M=R);return t&&T.forEach(function(D){return e(E,D)}),ft&&po(E,b),k}function S(E,g,x,N){if(typeof x=="object"&&x!==null&&x.type===Ra&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case oh:e:{for(var k=x.key,M=g;M!==null;){if(M.key===k){if(k=x.type,k===Ra){if(M.tag===7){n(E,M.sibling),g=s(M,x.props.children),g.return=E,E=g;break e}}else if(M.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===si&&$E(k)===M.type){n(E,M.sibling),g=s(M,x.props),g.ref=Nc(E,M,x),g.return=E,E=g;break e}n(E,M);break}else e(E,M);M=M.sibling}x.type===Ra?(g=Do(x.props.children,E.mode,N,x.key),g.return=E,E=g):(N=Qh(x.type,x.key,x.props,null,E.mode,N),N.ref=Nc(E,g,x),N.return=E,E=N)}return o(E);case Aa:e:{for(M=x.key;g!==null;){if(g.key===M)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){n(E,g.sibling),g=s(g,x.children||[]),g.return=E,E=g;break e}else{n(E,g);break}else e(E,g);g=g.sibling}g=Cg(x,E.mode,N),g.return=E,E=g}return o(E);case si:return M=x._init,S(E,g,M(x._payload),N)}if(Fc(x))return I(E,g,x,N);if(Ic(x))return _(E,g,x,N);yh(E,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(n(E,g.sibling),g=s(g,x),g.return=E,E=g):(n(E,g),g=Ig(x,E.mode,N),g.return=E,E=g),o(E)):n(E,g)}return S}var Il=fP(!0),pP=fP(!1),Pf=eo(null),Nf=null,Va=null,G_=null;function Q_(){G_=Va=Nf=null}function Y_(t){var e=Pf.current;dt(Pf),t._currentValue=e}function Gy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ka(t,e){Nf=t,G_=Va=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Fn=!0),t.firstContext=null)}function fr(t){var e=t._currentValue;if(G_!==t)if(t={context:t,memoizedValue:e,next:null},Va===null){if(Nf===null)throw Error(ee(308));Va=t,Nf.dependencies={lanes:0,firstContext:t}}else Va=Va.next=t;return e}var wo=null;function Z_(t){wo===null?wo=[t]:wo.push(t)}function mP(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Z_(e)):(n.next=s.next,s.next=n),e.interleaved=n,Ls(t,r)}function Ls(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ii=!1;function X_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Rs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ri(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ge&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ls(t,n)}return s=r.interleaved,s===null?(e.next=e,Z_(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ls(t,n)}function Bh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,V_(t,n)}}function zE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function kf(t,e,n,r){var s=t.updateQueue;ii=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=u=l=null,a=i;do{var p=a.lane,v=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var I=t,_=a;switch(p=e,v=n,_.tag){case 1:if(I=_.payload,typeof I=="function"){f=I.call(v,f,p);break e}f=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=_.payload,p=typeof I=="function"?I.call(v,f,p):I,p==null)break e;f=wt({},f,p);break e;case 2:ii=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else v={eventTime:v,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=v,l=f):d=d.next=v,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);jo|=o,t.lanes=o,t.memoizedState=f}}function BE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ee(191,s));s.call(r)}}}var md={},es=eo(md),Cu=eo(md),Au=eo(md);function xo(t){if(t===md)throw Error(ee(174));return t}function J_(t,e){switch(it(Au,e),it(Cu,t),it(es,md),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ay(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ay(e,t)}dt(es),it(es,e)}function Cl(){dt(es),dt(Cu),dt(Au)}function yP(t){xo(Au.current);var e=xo(es.current),n=Ay(e,t.type);e!==n&&(it(Cu,t),it(es,n))}function ew(t){Cu.current===t&&(dt(es),dt(Cu))}var yt=eo(0);function Df(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wg=[];function tw(){for(var t=0;t<wg.length;t++)wg[t]._workInProgressVersionPrimary=null;wg.length=0}var Wh=qs.ReactCurrentDispatcher,xg=qs.ReactCurrentBatchConfig,Vo=0,vt=null,Ft=null,Ht=null,Of=!1,iu=!1,Ru=0,RU=0;function cn(){throw Error(ee(321))}function nw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!kr(t[n],e[n]))return!1;return!0}function rw(t,e,n,r,s,i){if(Vo=i,vt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wh.current=t===null||t.memoizedState===null?DU:OU,t=n(r,s),iu){i=0;do{if(iu=!1,Ru=0,25<=i)throw Error(ee(301));i+=1,Ht=Ft=null,e.updateQueue=null,Wh.current=MU,t=n(r,s)}while(iu)}if(Wh.current=Mf,e=Ft!==null&&Ft.next!==null,Vo=0,Ht=Ft=vt=null,Of=!1,e)throw Error(ee(300));return t}function sw(){var t=Ru!==0;return Ru=0,t}function Br(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?vt.memoizedState=Ht=t:Ht=Ht.next=t,Ht}function pr(){if(Ft===null){var t=vt.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var e=Ht===null?vt.memoizedState:Ht.next;if(e!==null)Ht=e,Ft=t;else{if(t===null)throw Error(ee(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Ht===null?vt.memoizedState=Ht=t:Ht=Ht.next=t}return Ht}function Pu(t,e){return typeof e=="function"?e(t):e}function Eg(t){var e=pr(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=Ft,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Vo&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,vt.lanes|=d,jo|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,kr(r,e.memoizedState)||(Fn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,vt.lanes|=i,jo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Tg(t){var e=pr(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);kr(i,e.memoizedState)||(Fn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function vP(){}function _P(t,e){var n=vt,r=pr(),s=e(),i=!kr(r.memoizedState,s);if(i&&(r.memoizedState=s,Fn=!0),r=r.queue,iw(EP.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ht!==null&&Ht.memoizedState.tag&1){if(n.flags|=2048,Nu(9,xP.bind(null,n,r,s,e),void 0,null),Gt===null)throw Error(ee(349));Vo&30||wP(n,e,s)}return s}function wP(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function xP(t,e,n,r){e.value=n,e.getSnapshot=r,TP(e)&&bP(t)}function EP(t,e,n){return n(function(){TP(e)&&bP(t)})}function TP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!kr(t,n)}catch{return!0}}function bP(t){var e=Ls(t,1);e!==null&&Pr(e,t,1,-1)}function WE(t){var e=Br();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pu,lastRenderedState:t},e.queue=t,t=t.dispatch=kU.bind(null,vt,t),[e.memoizedState,t]}function Nu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function SP(){return pr().memoizedState}function qh(t,e,n,r){var s=Br();vt.flags|=t,s.memoizedState=Nu(1|e,n,void 0,r===void 0?null:r)}function $p(t,e,n,r){var s=pr();r=r===void 0?null:r;var i=void 0;if(Ft!==null){var o=Ft.memoizedState;if(i=o.destroy,r!==null&&nw(r,o.deps)){s.memoizedState=Nu(e,n,i,r);return}}vt.flags|=t,s.memoizedState=Nu(1|e,n,i,r)}function qE(t,e){return qh(8390656,8,t,e)}function iw(t,e){return $p(2048,8,t,e)}function IP(t,e){return $p(4,2,t,e)}function CP(t,e){return $p(4,4,t,e)}function AP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function RP(t,e,n){return n=n!=null?n.concat([t]):null,$p(4,4,AP.bind(null,e,t),n)}function ow(){}function PP(t,e){var n=pr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function NP(t,e){var n=pr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function kP(t,e,n){return Vo&21?(kr(n,e)||(n=VR(),vt.lanes|=n,jo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Fn=!0),t.memoizedState=n)}function PU(t,e){var n=nt;nt=n!==0&&4>n?n:4,t(!0);var r=xg.transition;xg.transition={};try{t(!1),e()}finally{nt=n,xg.transition=r}}function DP(){return pr().memoizedState}function NU(t,e,n){var r=Ni(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},OP(t))MP(e,n);else if(n=mP(t,e,n,r),n!==null){var s=An();Pr(n,t,r,s),LP(n,e,r)}}function kU(t,e,n){var r=Ni(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(OP(t))MP(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,kr(a,o)){var l=e.interleaved;l===null?(s.next=s,Z_(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=mP(t,e,s,r),n!==null&&(s=An(),Pr(n,t,r,s),LP(n,e,r))}}function OP(t){var e=t.alternate;return t===vt||e!==null&&e===vt}function MP(t,e){iu=Of=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function LP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,V_(t,n)}}var Mf={readContext:fr,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useInsertionEffect:cn,useLayoutEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useMutableSource:cn,useSyncExternalStore:cn,useId:cn,unstable_isNewReconciler:!1},DU={readContext:fr,useCallback:function(t,e){return Br().memoizedState=[t,e===void 0?null:e],t},useContext:fr,useEffect:qE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,qh(4194308,4,AP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return qh(4194308,4,t,e)},useInsertionEffect:function(t,e){return qh(4,2,t,e)},useMemo:function(t,e){var n=Br();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Br();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=NU.bind(null,vt,t),[r.memoizedState,t]},useRef:function(t){var e=Br();return t={current:t},e.memoizedState=t},useState:WE,useDebugValue:ow,useDeferredValue:function(t){return Br().memoizedState=t},useTransition:function(){var t=WE(!1),e=t[0];return t=PU.bind(null,t[1]),Br().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=vt,s=Br();if(ft){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=e(),Gt===null)throw Error(ee(349));Vo&30||wP(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,qE(EP.bind(null,r,i,t),[t]),r.flags|=2048,Nu(9,xP.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Br(),e=Gt.identifierPrefix;if(ft){var n=Is,r=Ss;n=(r&~(1<<32-Rr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ru++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=RU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},OU={readContext:fr,useCallback:PP,useContext:fr,useEffect:iw,useImperativeHandle:RP,useInsertionEffect:IP,useLayoutEffect:CP,useMemo:NP,useReducer:Eg,useRef:SP,useState:function(){return Eg(Pu)},useDebugValue:ow,useDeferredValue:function(t){var e=pr();return kP(e,Ft.memoizedState,t)},useTransition:function(){var t=Eg(Pu)[0],e=pr().memoizedState;return[t,e]},useMutableSource:vP,useSyncExternalStore:_P,useId:DP,unstable_isNewReconciler:!1},MU={readContext:fr,useCallback:PP,useContext:fr,useEffect:iw,useImperativeHandle:RP,useInsertionEffect:IP,useLayoutEffect:CP,useMemo:NP,useReducer:Tg,useRef:SP,useState:function(){return Tg(Pu)},useDebugValue:ow,useDeferredValue:function(t){var e=pr();return Ft===null?e.memoizedState=t:kP(e,Ft.memoizedState,t)},useTransition:function(){var t=Tg(Pu)[0],e=pr().memoizedState;return[t,e]},useMutableSource:vP,useSyncExternalStore:_P,useId:DP,unstable_isNewReconciler:!1};function wr(t,e){if(t&&t.defaultProps){e=wt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Qy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:wt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zp={isMounted:function(t){return(t=t._reactInternals)?na(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=An(),s=Ni(t),i=Rs(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ri(t,i,s),e!==null&&(Pr(e,t,s,r),Bh(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=An(),s=Ni(t),i=Rs(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ri(t,i,s),e!==null&&(Pr(e,t,s,r),Bh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=An(),r=Ni(t),s=Rs(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ri(t,s,r),e!==null&&(Pr(e,t,r,n),Bh(e,t,r))}};function HE(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Tu(n,r)||!Tu(s,i):!0}function VP(t,e,n){var r=!1,s=Fi,i=e.contextType;return typeof i=="object"&&i!==null?i=fr(i):(s=zn(e)?Mo:yn.current,r=e.contextTypes,i=(r=r!=null)?bl(t,s):Fi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function KE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&zp.enqueueReplaceState(e,e.state,null)}function Yy(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},X_(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=fr(i):(i=zn(e)?Mo:yn.current,s.context=bl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Qy(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&zp.enqueueReplaceState(s,s.state,null),kf(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Al(t,e){try{var n="",r=e;do n+=c4(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function bg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Zy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var LU=typeof WeakMap=="function"?WeakMap:Map;function jP(t,e,n){n=Rs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Vf||(Vf=!0,av=r),Zy(t,e)},n}function FP(t,e,n){n=Rs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Zy(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Zy(t,e),typeof r!="function"&&(Pi===null?Pi=new Set([this]):Pi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function GE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new LU;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=YU.bind(null,t,e,n),e.then(t,t))}function QE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function YE(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Rs(-1,1),e.tag=2,Ri(n,e,1))),n.lanes|=1),t)}var VU=qs.ReactCurrentOwner,Fn=!1;function Sn(t,e,n,r){e.child=t===null?pP(e,null,n,r):Il(e,t.child,n,r)}function ZE(t,e,n,r,s){n=n.render;var i=e.ref;return Ka(e,s),r=rw(t,e,n,r,i,s),n=sw(),t!==null&&!Fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Vs(t,e,s)):(ft&&n&&q_(e),e.flags|=1,Sn(t,e,r,s),e.child)}function XE(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!pw(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,UP(t,e,i,r,s)):(t=Qh(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Tu,n(o,r)&&t.ref===e.ref)return Vs(t,e,s)}return e.flags|=1,t=ki(i,r),t.ref=e.ref,t.return=e,e.child=t}function UP(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Tu(i,r)&&t.ref===e.ref)if(Fn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Fn=!0);else return e.lanes=t.lanes,Vs(t,e,s)}return Xy(t,e,n,r,s)}function $P(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(Fa,Hn),Hn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,it(Fa,Hn),Hn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,it(Fa,Hn),Hn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,it(Fa,Hn),Hn|=r;return Sn(t,e,s,n),e.child}function zP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Xy(t,e,n,r,s){var i=zn(n)?Mo:yn.current;return i=bl(e,i),Ka(e,s),n=rw(t,e,n,r,i,s),r=sw(),t!==null&&!Fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Vs(t,e,s)):(ft&&r&&q_(e),e.flags|=1,Sn(t,e,n,s),e.child)}function JE(t,e,n,r,s){if(zn(n)){var i=!0;Cf(e)}else i=!1;if(Ka(e,s),e.stateNode===null)Hh(t,e),VP(e,n,r),Yy(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=fr(u):(u=zn(n)?Mo:yn.current,u=bl(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&KE(e,o,r,u),ii=!1;var p=e.memoizedState;o.state=p,kf(e,r,o,s),l=e.memoizedState,a!==r||p!==l||$n.current||ii?(typeof d=="function"&&(Qy(e,n,d,r),l=e.memoizedState),(a=ii||HE(e,n,a,r,p,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,gP(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:wr(e.type,a),o.props=u,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=fr(l):(l=zn(n)?Mo:yn.current,l=bl(e,l));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&KE(e,o,r,l),ii=!1,p=e.memoizedState,o.state=p,kf(e,r,o,s);var I=e.memoizedState;a!==f||p!==I||$n.current||ii?(typeof v=="function"&&(Qy(e,n,v,r),I=e.memoizedState),(u=ii||HE(e,n,u,r,p,I,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,I,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,I,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=I),o.props=r,o.state=I,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Jy(t,e,n,r,i,s)}function Jy(t,e,n,r,s,i){zP(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&jE(e,n,!1),Vs(t,e,i);r=e.stateNode,VU.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Il(e,t.child,null,i),e.child=Il(e,null,a,i)):Sn(t,e,a,i),e.memoizedState=r.state,s&&jE(e,n,!0),e.child}function BP(t){var e=t.stateNode;e.pendingContext?VE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&VE(t,e.context,!1),J_(t,e.containerInfo)}function eT(t,e,n,r,s){return Sl(),K_(s),e.flags|=256,Sn(t,e,n,r),e.child}var ev={dehydrated:null,treeContext:null,retryLane:0};function tv(t){return{baseLanes:t,cachePool:null,transitions:null}}function WP(t,e,n){var r=e.pendingProps,s=yt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),it(yt,s&1),t===null)return Ky(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=qp(o,r,0,null),t=Do(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=tv(n),e.memoizedState=ev,t):aw(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return jU(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ki(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ki(a,i):(i=Do(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?tv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=ev,r}return i=t.child,t=i.sibling,r=ki(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function aw(t,e){return e=qp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function vh(t,e,n,r){return r!==null&&K_(r),Il(e,t.child,null,n),t=aw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function jU(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=bg(Error(ee(422))),vh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=qp({mode:"visible",children:r.children},s,0,null),i=Do(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Il(e,t.child,null,o),e.child.memoizedState=tv(o),e.memoizedState=ev,i);if(!(e.mode&1))return vh(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(ee(419)),r=bg(i,r,void 0),vh(t,e,o,r)}if(a=(o&t.childLanes)!==0,Fn||a){if(r=Gt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ls(t,s),Pr(r,t,s,-1))}return fw(),r=bg(Error(ee(421))),vh(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=ZU.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Gn=Ai(s.nextSibling),Yn=e,ft=!0,Tr=null,t!==null&&(ir[or++]=Ss,ir[or++]=Is,ir[or++]=Lo,Ss=t.id,Is=t.overflow,Lo=e),e=aw(e,r.children),e.flags|=4096,e)}function tT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Gy(t.return,e,n)}function Sg(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function qP(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Sn(t,e,r.children,n),r=yt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tT(t,n,e);else if(t.tag===19)tT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(it(yt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Df(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Sg(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Df(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Sg(e,!0,n,null,i);break;case"together":Sg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Hh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),jo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ee(153));if(e.child!==null){for(t=e.child,n=ki(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ki(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function FU(t,e,n){switch(e.tag){case 3:BP(e),Sl();break;case 5:yP(e);break;case 1:zn(e.type)&&Cf(e);break;case 4:J_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;it(Pf,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(it(yt,yt.current&1),e.flags|=128,null):n&e.child.childLanes?WP(t,e,n):(it(yt,yt.current&1),t=Vs(t,e,n),t!==null?t.sibling:null);it(yt,yt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return qP(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),it(yt,yt.current),r)break;return null;case 22:case 23:return e.lanes=0,$P(t,e,n)}return Vs(t,e,n)}var HP,nv,KP,GP;HP=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nv=function(){};KP=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,xo(es.current);var i=null;switch(n){case"input":s=by(t,s),r=by(t,r),i=[];break;case"select":s=wt({},s,{value:void 0}),r=wt({},r,{value:void 0}),i=[];break;case"textarea":s=Cy(t,s),r=Cy(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Sf)}Ry(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(gu.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(gu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ct("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};GP=function(t,e,n,r){n!==r&&(e.flags|=4)};function kc(t,e){if(!ft)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function un(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function UU(t,e,n){var r=e.pendingProps;switch(H_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(e),null;case 1:return zn(e.type)&&If(),un(e),null;case 3:return r=e.stateNode,Cl(),dt($n),dt(yn),tw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(gh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Tr!==null&&(uv(Tr),Tr=null))),nv(t,e),un(e),null;case 5:ew(e);var s=xo(Au.current);if(n=e.type,t!==null&&e.stateNode!=null)KP(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ee(166));return un(e),null}if(t=xo(es.current),gh(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Yr]=e,r[Iu]=i,t=(e.mode&1)!==0,n){case"dialog":ct("cancel",r),ct("close",r);break;case"iframe":case"object":case"embed":ct("load",r);break;case"video":case"audio":for(s=0;s<$c.length;s++)ct($c[s],r);break;case"source":ct("error",r);break;case"img":case"image":case"link":ct("error",r),ct("load",r);break;case"details":ct("toggle",r);break;case"input":uE(r,i),ct("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ct("invalid",r);break;case"textarea":hE(r,i),ct("invalid",r)}Ry(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&mh(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&mh(r.textContent,a,t),s=["children",""+a]):gu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ct("scroll",r)}switch(n){case"input":ah(r),dE(r,i,!0);break;case"textarea":ah(r),fE(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Sf)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ER(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Yr]=e,t[Iu]=r,HP(t,e,!1,!1),e.stateNode=t;e:{switch(o=Py(n,r),n){case"dialog":ct("cancel",t),ct("close",t),s=r;break;case"iframe":case"object":case"embed":ct("load",t),s=r;break;case"video":case"audio":for(s=0;s<$c.length;s++)ct($c[s],t);s=r;break;case"source":ct("error",t),s=r;break;case"img":case"image":case"link":ct("error",t),ct("load",t),s=r;break;case"details":ct("toggle",t),s=r;break;case"input":uE(t,r),s=by(t,r),ct("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=wt({},r,{value:void 0}),ct("invalid",t);break;case"textarea":hE(t,r),s=Cy(t,r),ct("invalid",t);break;default:s=r}Ry(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?SR(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&TR(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&yu(t,l):typeof l=="number"&&yu(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(gu.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ct("scroll",t):l!=null&&N_(t,i,l,o))}switch(n){case"input":ah(t),dE(t,r,!1);break;case"textarea":ah(t),fE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ji(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ba(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ba(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Sf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return un(e),null;case 6:if(t&&e.stateNode!=null)GP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ee(166));if(n=xo(Au.current),xo(es.current),gh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Yr]=e,(i=r.nodeValue!==n)&&(t=Yn,t!==null))switch(t.tag){case 3:mh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&mh(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yr]=e,e.stateNode=r}return un(e),null;case 13:if(dt(yt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ft&&Gn!==null&&e.mode&1&&!(e.flags&128))hP(),Sl(),e.flags|=98560,i=!1;else if(i=gh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(ee(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ee(317));i[Yr]=e}else Sl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;un(e),i=!1}else Tr!==null&&(uv(Tr),Tr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||yt.current&1?$t===0&&($t=3):fw())),e.updateQueue!==null&&(e.flags|=4),un(e),null);case 4:return Cl(),nv(t,e),t===null&&bu(e.stateNode.containerInfo),un(e),null;case 10:return Y_(e.type._context),un(e),null;case 17:return zn(e.type)&&If(),un(e),null;case 19:if(dt(yt),i=e.memoizedState,i===null)return un(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)kc(i,!1);else{if($t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Df(t),o!==null){for(e.flags|=128,kc(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return it(yt,yt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Nt()>Rl&&(e.flags|=128,r=!0,kc(i,!1),e.lanes=4194304)}else{if(!r)if(t=Df(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),kc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ft)return un(e),null}else 2*Nt()-i.renderingStartTime>Rl&&n!==1073741824&&(e.flags|=128,r=!0,kc(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Nt(),e.sibling=null,n=yt.current,it(yt,r?n&1|2:n&1),e):(un(e),null);case 22:case 23:return hw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Hn&1073741824&&(un(e),e.subtreeFlags&6&&(e.flags|=8192)):un(e),null;case 24:return null;case 25:return null}throw Error(ee(156,e.tag))}function $U(t,e){switch(H_(e),e.tag){case 1:return zn(e.type)&&If(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Cl(),dt($n),dt(yn),tw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ew(e),null;case 13:if(dt(yt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ee(340));Sl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return dt(yt),null;case 4:return Cl(),null;case 10:return Y_(e.type._context),null;case 22:case 23:return hw(),null;case 24:return null;default:return null}}var _h=!1,mn=!1,zU=typeof WeakSet=="function"?WeakSet:Set,fe=null;function ja(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){It(t,e,r)}else n.current=null}function rv(t,e,n){try{n()}catch(r){It(t,e,r)}}var nT=!1;function BU(t,e){if(Uy=Ef,t=JR(),W_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,f=t,p=null;t:for(;;){for(var v;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)p=f,f=v;for(;;){if(f===t)break t;if(p===n&&++u===s&&(a=o),p===i&&++d===r&&(l=o),(v=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for($y={focusedElem:t,selectionRange:n},Ef=!1,fe=e;fe!==null;)if(e=fe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,fe=t;else for(;fe!==null;){e=fe;try{var I=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(I!==null){var _=I.memoizedProps,S=I.memoizedState,E=e.stateNode,g=E.getSnapshotBeforeUpdate(e.elementType===e.type?_:wr(e.type,_),S);E.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(N){It(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,fe=t;break}fe=e.return}return I=nT,nT=!1,I}function ou(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&rv(e,n,i)}s=s.next}while(s!==r)}}function Bp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function sv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function QP(t){var e=t.alternate;e!==null&&(t.alternate=null,QP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Yr],delete e[Iu],delete e[Wy],delete e[SU],delete e[IU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function YP(t){return t.tag===5||t.tag===3||t.tag===4}function rT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||YP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function iv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Sf));else if(r!==4&&(t=t.child,t!==null))for(iv(t,e,n),t=t.sibling;t!==null;)iv(t,e,n),t=t.sibling}function ov(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ov(t,e,n),t=t.sibling;t!==null;)ov(t,e,n),t=t.sibling}var Jt=null,Er=!1;function Zs(t,e,n){for(n=n.child;n!==null;)ZP(t,e,n),n=n.sibling}function ZP(t,e,n){if(Jr&&typeof Jr.onCommitFiberUnmount=="function")try{Jr.onCommitFiberUnmount(Mp,n)}catch{}switch(n.tag){case 5:mn||ja(n,e);case 6:var r=Jt,s=Er;Jt=null,Zs(t,e,n),Jt=r,Er=s,Jt!==null&&(Er?(t=Jt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Jt.removeChild(n.stateNode));break;case 18:Jt!==null&&(Er?(t=Jt,n=n.stateNode,t.nodeType===8?vg(t.parentNode,n):t.nodeType===1&&vg(t,n),xu(t)):vg(Jt,n.stateNode));break;case 4:r=Jt,s=Er,Jt=n.stateNode.containerInfo,Er=!0,Zs(t,e,n),Jt=r,Er=s;break;case 0:case 11:case 14:case 15:if(!mn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&rv(n,e,o),s=s.next}while(s!==r)}Zs(t,e,n);break;case 1:if(!mn&&(ja(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){It(n,e,a)}Zs(t,e,n);break;case 21:Zs(t,e,n);break;case 22:n.mode&1?(mn=(r=mn)||n.memoizedState!==null,Zs(t,e,n),mn=r):Zs(t,e,n);break;default:Zs(t,e,n)}}function sT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new zU),e.forEach(function(r){var s=XU.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function vr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Jt=a.stateNode,Er=!1;break e;case 3:Jt=a.stateNode.containerInfo,Er=!0;break e;case 4:Jt=a.stateNode.containerInfo,Er=!0;break e}a=a.return}if(Jt===null)throw Error(ee(160));ZP(i,o,s),Jt=null,Er=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){It(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)XP(e,t),e=e.sibling}function XP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vr(e,t),$r(t),r&4){try{ou(3,t,t.return),Bp(3,t)}catch(_){It(t,t.return,_)}try{ou(5,t,t.return)}catch(_){It(t,t.return,_)}}break;case 1:vr(e,t),$r(t),r&512&&n!==null&&ja(n,n.return);break;case 5:if(vr(e,t),$r(t),r&512&&n!==null&&ja(n,n.return),t.flags&32){var s=t.stateNode;try{yu(s,"")}catch(_){It(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&wR(s,i),Py(a,o);var u=Py(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?SR(s,f):d==="dangerouslySetInnerHTML"?TR(s,f):d==="children"?yu(s,f):N_(s,d,f,u)}switch(a){case"input":Sy(s,i);break;case"textarea":xR(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Ba(s,!!i.multiple,v,!1):p!==!!i.multiple&&(i.defaultValue!=null?Ba(s,!!i.multiple,i.defaultValue,!0):Ba(s,!!i.multiple,i.multiple?[]:"",!1))}s[Iu]=i}catch(_){It(t,t.return,_)}}break;case 6:if(vr(e,t),$r(t),r&4){if(t.stateNode===null)throw Error(ee(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){It(t,t.return,_)}}break;case 3:if(vr(e,t),$r(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xu(e.containerInfo)}catch(_){It(t,t.return,_)}break;case 4:vr(e,t),$r(t);break;case 13:vr(e,t),$r(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(uw=Nt())),r&4&&sT(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(mn=(u=mn)||d,vr(e,t),mn=u):vr(e,t),$r(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(fe=t,d=t.child;d!==null;){for(f=fe=d;fe!==null;){switch(p=fe,v=p.child,p.tag){case 0:case 11:case 14:case 15:ou(4,p,p.return);break;case 1:ja(p,p.return);var I=p.stateNode;if(typeof I.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,I.props=e.memoizedProps,I.state=e.memoizedState,I.componentWillUnmount()}catch(_){It(r,n,_)}}break;case 5:ja(p,p.return);break;case 22:if(p.memoizedState!==null){oT(f);continue}}v!==null?(v.return=p,fe=v):oT(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=bR("display",o))}catch(_){It(t,t.return,_)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(_){It(t,t.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vr(e,t),$r(t),r&4&&sT(t);break;case 21:break;default:vr(e,t),$r(t)}}function $r(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(YP(n)){var r=n;break e}n=n.return}throw Error(ee(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(yu(s,""),r.flags&=-33);var i=rT(t);ov(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=rT(t);iv(t,a,o);break;default:throw Error(ee(161))}}catch(l){It(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function WU(t,e,n){fe=t,JP(t)}function JP(t,e,n){for(var r=(t.mode&1)!==0;fe!==null;){var s=fe,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||_h;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||mn;a=_h;var u=mn;if(_h=o,(mn=l)&&!u)for(fe=s;fe!==null;)o=fe,l=o.child,o.tag===22&&o.memoizedState!==null?aT(s):l!==null?(l.return=o,fe=l):aT(s);for(;i!==null;)fe=i,JP(i),i=i.sibling;fe=s,_h=a,mn=u}iT(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,fe=i):iT(t)}}function iT(t){for(;fe!==null;){var e=fe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:mn||Bp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!mn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:wr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&BE(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}BE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&xu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}mn||e.flags&512&&sv(e)}catch(p){It(e,e.return,p)}}if(e===t){fe=null;break}if(n=e.sibling,n!==null){n.return=e.return,fe=n;break}fe=e.return}}function oT(t){for(;fe!==null;){var e=fe;if(e===t){fe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,fe=n;break}fe=e.return}}function aT(t){for(;fe!==null;){var e=fe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Bp(4,e)}catch(l){It(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){It(e,s,l)}}var i=e.return;try{sv(e)}catch(l){It(e,i,l)}break;case 5:var o=e.return;try{sv(e)}catch(l){It(e,o,l)}}}catch(l){It(e,e.return,l)}if(e===t){fe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,fe=a;break}fe=e.return}}var qU=Math.ceil,Lf=qs.ReactCurrentDispatcher,lw=qs.ReactCurrentOwner,ur=qs.ReactCurrentBatchConfig,Ge=0,Gt=null,Lt=null,rn=0,Hn=0,Fa=eo(0),$t=0,ku=null,jo=0,Wp=0,cw=0,au=null,Vn=null,uw=0,Rl=1/0,ws=null,Vf=!1,av=null,Pi=null,wh=!1,Ti=null,jf=0,lu=0,lv=null,Kh=-1,Gh=0;function An(){return Ge&6?Nt():Kh!==-1?Kh:Kh=Nt()}function Ni(t){return t.mode&1?Ge&2&&rn!==0?rn&-rn:AU.transition!==null?(Gh===0&&(Gh=VR()),Gh):(t=nt,t!==0||(t=window.event,t=t===void 0?16:WR(t.type)),t):1}function Pr(t,e,n,r){if(50<lu)throw lu=0,lv=null,Error(ee(185));hd(t,n,r),(!(Ge&2)||t!==Gt)&&(t===Gt&&(!(Ge&2)&&(Wp|=n),$t===4&&ai(t,rn)),Bn(t,r),n===1&&Ge===0&&!(e.mode&1)&&(Rl=Nt()+500,Up&&to()))}function Bn(t,e){var n=t.callbackNode;A4(t,e);var r=xf(t,t===Gt?rn:0);if(r===0)n!==null&&gE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&gE(n),e===1)t.tag===0?CU(lT.bind(null,t)):cP(lT.bind(null,t)),TU(function(){!(Ge&6)&&to()}),n=null;else{switch(jR(r)){case 1:n=L_;break;case 4:n=MR;break;case 16:n=wf;break;case 536870912:n=LR;break;default:n=wf}n=aN(n,eN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function eN(t,e){if(Kh=-1,Gh=0,Ge&6)throw Error(ee(327));var n=t.callbackNode;if(Ga()&&t.callbackNode!==n)return null;var r=xf(t,t===Gt?rn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ff(t,r);else{e=r;var s=Ge;Ge|=2;var i=nN();(Gt!==t||rn!==e)&&(ws=null,Rl=Nt()+500,ko(t,e));do try{GU();break}catch(a){tN(t,a)}while(!0);Q_(),Lf.current=i,Ge=s,Lt!==null?e=0:(Gt=null,rn=0,e=$t)}if(e!==0){if(e===2&&(s=My(t),s!==0&&(r=s,e=cv(t,s))),e===1)throw n=ku,ko(t,0),ai(t,r),Bn(t,Nt()),n;if(e===6)ai(t,r);else{if(s=t.current.alternate,!(r&30)&&!HU(s)&&(e=Ff(t,r),e===2&&(i=My(t),i!==0&&(r=i,e=cv(t,i))),e===1))throw n=ku,ko(t,0),ai(t,r),Bn(t,Nt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(ee(345));case 2:mo(t,Vn,ws);break;case 3:if(ai(t,r),(r&130023424)===r&&(e=uw+500-Nt(),10<e)){if(xf(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){An(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=By(mo.bind(null,t,Vn,ws),e);break}mo(t,Vn,ws);break;case 4:if(ai(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Rr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*qU(r/1960))-r,10<r){t.timeoutHandle=By(mo.bind(null,t,Vn,ws),r);break}mo(t,Vn,ws);break;case 5:mo(t,Vn,ws);break;default:throw Error(ee(329))}}}return Bn(t,Nt()),t.callbackNode===n?eN.bind(null,t):null}function cv(t,e){var n=au;return t.current.memoizedState.isDehydrated&&(ko(t,e).flags|=256),t=Ff(t,e),t!==2&&(e=Vn,Vn=n,e!==null&&uv(e)),t}function uv(t){Vn===null?Vn=t:Vn.push.apply(Vn,t)}function HU(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!kr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ai(t,e){for(e&=~cw,e&=~Wp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Rr(e),r=1<<n;t[n]=-1,e&=~r}}function lT(t){if(Ge&6)throw Error(ee(327));Ga();var e=xf(t,0);if(!(e&1))return Bn(t,Nt()),null;var n=Ff(t,e);if(t.tag!==0&&n===2){var r=My(t);r!==0&&(e=r,n=cv(t,r))}if(n===1)throw n=ku,ko(t,0),ai(t,e),Bn(t,Nt()),n;if(n===6)throw Error(ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,mo(t,Vn,ws),Bn(t,Nt()),null}function dw(t,e){var n=Ge;Ge|=1;try{return t(e)}finally{Ge=n,Ge===0&&(Rl=Nt()+500,Up&&to())}}function Fo(t){Ti!==null&&Ti.tag===0&&!(Ge&6)&&Ga();var e=Ge;Ge|=1;var n=ur.transition,r=nt;try{if(ur.transition=null,nt=1,t)return t()}finally{nt=r,ur.transition=n,Ge=e,!(Ge&6)&&to()}}function hw(){Hn=Fa.current,dt(Fa)}function ko(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,EU(n)),Lt!==null)for(n=Lt.return;n!==null;){var r=n;switch(H_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&If();break;case 3:Cl(),dt($n),dt(yn),tw();break;case 5:ew(r);break;case 4:Cl();break;case 13:dt(yt);break;case 19:dt(yt);break;case 10:Y_(r.type._context);break;case 22:case 23:hw()}n=n.return}if(Gt=t,Lt=t=ki(t.current,null),rn=Hn=e,$t=0,ku=null,cw=Wp=jo=0,Vn=au=null,wo!==null){for(e=0;e<wo.length;e++)if(n=wo[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}wo=null}return t}function tN(t,e){do{var n=Lt;try{if(Q_(),Wh.current=Mf,Of){for(var r=vt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Of=!1}if(Vo=0,Ht=Ft=vt=null,iu=!1,Ru=0,lw.current=null,n===null||n.return===null){$t=1,ku=e,Lt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=rn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=QE(o);if(v!==null){v.flags&=-257,YE(v,o,a,i,e),v.mode&1&&GE(i,u,e),e=v,l=u;var I=e.updateQueue;if(I===null){var _=new Set;_.add(l),e.updateQueue=_}else I.add(l);break e}else{if(!(e&1)){GE(i,u,e),fw();break e}l=Error(ee(426))}}else if(ft&&a.mode&1){var S=QE(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),YE(S,o,a,i,e),K_(Al(l,a));break e}}i=l=Al(l,a),$t!==4&&($t=2),au===null?au=[i]:au.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var E=jP(i,l,e);zE(i,E);break e;case 1:a=l;var g=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Pi===null||!Pi.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var N=FP(i,a,e);zE(i,N);break e}}i=i.return}while(i!==null)}sN(n)}catch(k){e=k,Lt===n&&n!==null&&(Lt=n=n.return);continue}break}while(!0)}function nN(){var t=Lf.current;return Lf.current=Mf,t===null?Mf:t}function fw(){($t===0||$t===3||$t===2)&&($t=4),Gt===null||!(jo&268435455)&&!(Wp&268435455)||ai(Gt,rn)}function Ff(t,e){var n=Ge;Ge|=2;var r=nN();(Gt!==t||rn!==e)&&(ws=null,ko(t,e));do try{KU();break}catch(s){tN(t,s)}while(!0);if(Q_(),Ge=n,Lf.current=r,Lt!==null)throw Error(ee(261));return Gt=null,rn=0,$t}function KU(){for(;Lt!==null;)rN(Lt)}function GU(){for(;Lt!==null&&!_4();)rN(Lt)}function rN(t){var e=oN(t.alternate,t,Hn);t.memoizedProps=t.pendingProps,e===null?sN(t):Lt=e,lw.current=null}function sN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$U(n,e),n!==null){n.flags&=32767,Lt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$t=6,Lt=null;return}}else if(n=UU(n,e,Hn),n!==null){Lt=n;return}if(e=e.sibling,e!==null){Lt=e;return}Lt=e=t}while(e!==null);$t===0&&($t=5)}function mo(t,e,n){var r=nt,s=ur.transition;try{ur.transition=null,nt=1,QU(t,e,n,r)}finally{ur.transition=s,nt=r}return null}function QU(t,e,n,r){do Ga();while(Ti!==null);if(Ge&6)throw Error(ee(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ee(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(R4(t,i),t===Gt&&(Lt=Gt=null,rn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||wh||(wh=!0,aN(wf,function(){return Ga(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ur.transition,ur.transition=null;var o=nt;nt=1;var a=Ge;Ge|=4,lw.current=null,BU(t,n),XP(n,t),mU($y),Ef=!!Uy,$y=Uy=null,t.current=n,WU(n),w4(),Ge=a,nt=o,ur.transition=i}else t.current=n;if(wh&&(wh=!1,Ti=t,jf=s),i=t.pendingLanes,i===0&&(Pi=null),T4(n.stateNode),Bn(t,Nt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Vf)throw Vf=!1,t=av,av=null,t;return jf&1&&t.tag!==0&&Ga(),i=t.pendingLanes,i&1?t===lv?lu++:(lu=0,lv=t):lu=0,to(),null}function Ga(){if(Ti!==null){var t=jR(jf),e=ur.transition,n=nt;try{if(ur.transition=null,nt=16>t?16:t,Ti===null)var r=!1;else{if(t=Ti,Ti=null,jf=0,Ge&6)throw Error(ee(331));var s=Ge;for(Ge|=4,fe=t.current;fe!==null;){var i=fe,o=i.child;if(fe.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(fe=u;fe!==null;){var d=fe;switch(d.tag){case 0:case 11:case 15:ou(8,d,i)}var f=d.child;if(f!==null)f.return=d,fe=f;else for(;fe!==null;){d=fe;var p=d.sibling,v=d.return;if(QP(d),d===u){fe=null;break}if(p!==null){p.return=v,fe=p;break}fe=v}}}var I=i.alternate;if(I!==null){var _=I.child;if(_!==null){I.child=null;do{var S=_.sibling;_.sibling=null,_=S}while(_!==null)}}fe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,fe=o;else e:for(;fe!==null;){if(i=fe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ou(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,fe=E;break e}fe=i.return}}var g=t.current;for(fe=g;fe!==null;){o=fe;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,fe=x;else e:for(o=g;fe!==null;){if(a=fe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Bp(9,a)}}catch(k){It(a,a.return,k)}if(a===o){fe=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,fe=N;break e}fe=a.return}}if(Ge=s,to(),Jr&&typeof Jr.onPostCommitFiberRoot=="function")try{Jr.onPostCommitFiberRoot(Mp,t)}catch{}r=!0}return r}finally{nt=n,ur.transition=e}}return!1}function cT(t,e,n){e=Al(n,e),e=jP(t,e,1),t=Ri(t,e,1),e=An(),t!==null&&(hd(t,1,e),Bn(t,e))}function It(t,e,n){if(t.tag===3)cT(t,t,n);else for(;e!==null;){if(e.tag===3){cT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pi===null||!Pi.has(r))){t=Al(n,t),t=FP(e,t,1),e=Ri(e,t,1),t=An(),e!==null&&(hd(e,1,t),Bn(e,t));break}}e=e.return}}function YU(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=An(),t.pingedLanes|=t.suspendedLanes&n,Gt===t&&(rn&n)===n&&($t===4||$t===3&&(rn&130023424)===rn&&500>Nt()-uw?ko(t,0):cw|=n),Bn(t,e)}function iN(t,e){e===0&&(t.mode&1?(e=uh,uh<<=1,!(uh&130023424)&&(uh=4194304)):e=1);var n=An();t=Ls(t,e),t!==null&&(hd(t,e,n),Bn(t,n))}function ZU(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),iN(t,n)}function XU(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ee(314))}r!==null&&r.delete(e),iN(t,n)}var oN;oN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||$n.current)Fn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Fn=!1,FU(t,e,n);Fn=!!(t.flags&131072)}else Fn=!1,ft&&e.flags&1048576&&uP(e,Rf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Hh(t,e),t=e.pendingProps;var s=bl(e,yn.current);Ka(e,n),s=rw(null,e,r,t,s,n);var i=sw();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zn(r)?(i=!0,Cf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,X_(e),s.updater=zp,e.stateNode=s,s._reactInternals=e,Yy(e,r,t,n),e=Jy(null,e,r,!0,i,n)):(e.tag=0,ft&&i&&q_(e),Sn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Hh(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=e3(r),t=wr(r,t),s){case 0:e=Xy(null,e,r,t,n);break e;case 1:e=JE(null,e,r,t,n);break e;case 11:e=ZE(null,e,r,t,n);break e;case 14:e=XE(null,e,r,wr(r.type,t),n);break e}throw Error(ee(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:wr(r,s),Xy(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:wr(r,s),JE(t,e,r,s,n);case 3:e:{if(BP(e),t===null)throw Error(ee(387));r=e.pendingProps,i=e.memoizedState,s=i.element,gP(t,e),kf(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Al(Error(ee(423)),e),e=eT(t,e,r,n,s);break e}else if(r!==s){s=Al(Error(ee(424)),e),e=eT(t,e,r,n,s);break e}else for(Gn=Ai(e.stateNode.containerInfo.firstChild),Yn=e,ft=!0,Tr=null,n=pP(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Sl(),r===s){e=Vs(t,e,n);break e}Sn(t,e,r,n)}e=e.child}return e;case 5:return yP(e),t===null&&Ky(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,zy(r,s)?o=null:i!==null&&zy(r,i)&&(e.flags|=32),zP(t,e),Sn(t,e,o,n),e.child;case 6:return t===null&&Ky(e),null;case 13:return WP(t,e,n);case 4:return J_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Il(e,null,r,n):Sn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:wr(r,s),ZE(t,e,r,s,n);case 7:return Sn(t,e,e.pendingProps,n),e.child;case 8:return Sn(t,e,e.pendingProps.children,n),e.child;case 12:return Sn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,it(Pf,r._currentValue),r._currentValue=o,i!==null)if(kr(i.value,o)){if(i.children===s.children&&!$n.current){e=Vs(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Rs(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Gy(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ee(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Gy(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Sn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ka(e,n),s=fr(s),r=r(s),e.flags|=1,Sn(t,e,r,n),e.child;case 14:return r=e.type,s=wr(r,e.pendingProps),s=wr(r.type,s),XE(t,e,r,s,n);case 15:return UP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:wr(r,s),Hh(t,e),e.tag=1,zn(r)?(t=!0,Cf(e)):t=!1,Ka(e,n),VP(e,r,s),Yy(e,r,s,n),Jy(null,e,r,!0,t,n);case 19:return qP(t,e,n);case 22:return $P(t,e,n)}throw Error(ee(156,e.tag))};function aN(t,e){return OR(t,e)}function JU(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(t,e,n,r){return new JU(t,e,n,r)}function pw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function e3(t){if(typeof t=="function")return pw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===D_)return 11;if(t===O_)return 14}return 2}function ki(t,e){var n=t.alternate;return n===null?(n=cr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Qh(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")pw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ra:return Do(n.children,s,i,e);case k_:o=8,s|=8;break;case wy:return t=cr(12,n,e,s|2),t.elementType=wy,t.lanes=i,t;case xy:return t=cr(13,n,e,s),t.elementType=xy,t.lanes=i,t;case Ey:return t=cr(19,n,e,s),t.elementType=Ey,t.lanes=i,t;case yR:return qp(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case mR:o=10;break e;case gR:o=9;break e;case D_:o=11;break e;case O_:o=14;break e;case si:o=16,r=null;break e}throw Error(ee(130,t==null?t:typeof t,""))}return e=cr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Do(t,e,n,r){return t=cr(7,t,r,e),t.lanes=n,t}function qp(t,e,n,r){return t=cr(22,t,r,e),t.elementType=yR,t.lanes=n,t.stateNode={isHidden:!1},t}function Ig(t,e,n){return t=cr(6,t,null,e),t.lanes=n,t}function Cg(t,e,n){return e=cr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function t3(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ag(0),this.expirationTimes=ag(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ag(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function mw(t,e,n,r,s,i,o,a,l){return t=new t3(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=cr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},X_(i),t}function n3(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Aa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function lN(t){if(!t)return Fi;t=t._reactInternals;e:{if(na(t)!==t||t.tag!==1)throw Error(ee(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ee(171))}if(t.tag===1){var n=t.type;if(zn(n))return lP(t,n,e)}return e}function cN(t,e,n,r,s,i,o,a,l){return t=mw(n,r,!0,t,s,i,o,a,l),t.context=lN(null),n=t.current,r=An(),s=Ni(n),i=Rs(r,s),i.callback=e??null,Ri(n,i,s),t.current.lanes=s,hd(t,s,r),Bn(t,r),t}function Hp(t,e,n,r){var s=e.current,i=An(),o=Ni(s);return n=lN(n),e.context===null?e.context=n:e.pendingContext=n,e=Rs(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ri(s,e,o),t!==null&&(Pr(t,s,o,i),Bh(t,s,o)),o}function Uf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function uT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function gw(t,e){uT(t,e),(t=t.alternate)&&uT(t,e)}function r3(){return null}var uN=typeof reportError=="function"?reportError:function(t){console.error(t)};function yw(t){this._internalRoot=t}Kp.prototype.render=yw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ee(409));Hp(t,e,null,null)};Kp.prototype.unmount=yw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Fo(function(){Hp(null,t,null,null)}),e[Ms]=null}};function Kp(t){this._internalRoot=t}Kp.prototype.unstable_scheduleHydration=function(t){if(t){var e=$R();t={blockedOn:null,target:t,priority:e};for(var n=0;n<oi.length&&e!==0&&e<oi[n].priority;n++);oi.splice(n,0,t),n===0&&BR(t)}};function vw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Gp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function dT(){}function s3(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Uf(o);i.call(u)}}var o=cN(e,r,t,0,null,!1,!1,"",dT);return t._reactRootContainer=o,t[Ms]=o.current,bu(t.nodeType===8?t.parentNode:t),Fo(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Uf(l);a.call(u)}}var l=mw(t,0,!1,null,null,!1,!1,"",dT);return t._reactRootContainer=l,t[Ms]=l.current,bu(t.nodeType===8?t.parentNode:t),Fo(function(){Hp(e,l,n,r)}),l}function Qp(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Uf(o);a.call(l)}}Hp(e,o,t,s)}else o=s3(n,e,t,s,r);return Uf(o)}FR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Uc(e.pendingLanes);n!==0&&(V_(e,n|1),Bn(e,Nt()),!(Ge&6)&&(Rl=Nt()+500,to()))}break;case 13:Fo(function(){var r=Ls(t,1);if(r!==null){var s=An();Pr(r,t,1,s)}}),gw(t,1)}};j_=function(t){if(t.tag===13){var e=Ls(t,134217728);if(e!==null){var n=An();Pr(e,t,134217728,n)}gw(t,134217728)}};UR=function(t){if(t.tag===13){var e=Ni(t),n=Ls(t,e);if(n!==null){var r=An();Pr(n,t,e,r)}gw(t,e)}};$R=function(){return nt};zR=function(t,e){var n=nt;try{return nt=t,e()}finally{nt=n}};ky=function(t,e,n){switch(e){case"input":if(Sy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Fp(r);if(!s)throw Error(ee(90));_R(r),Sy(r,s)}}}break;case"textarea":xR(t,n);break;case"select":e=n.value,e!=null&&Ba(t,!!n.multiple,e,!1)}};AR=dw;RR=Fo;var i3={usingClientEntryPoint:!1,Events:[pd,Da,Fp,IR,CR,dw]},Dc={findFiberByHostInstance:_o,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},o3={bundleType:Dc.bundleType,version:Dc.version,rendererPackageName:Dc.rendererPackageName,rendererConfig:Dc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=kR(t),t===null?null:t.stateNode},findFiberByHostInstance:Dc.findFiberByHostInstance||r3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xh.isDisabled&&xh.supportsFiber)try{Mp=xh.inject(o3),Jr=xh}catch{}}er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i3;er.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vw(e))throw Error(ee(200));return n3(t,e,null,n)};er.createRoot=function(t,e){if(!vw(t))throw Error(ee(299));var n=!1,r="",s=uN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=mw(t,1,!1,null,null,n,!1,r,s),t[Ms]=e.current,bu(t.nodeType===8?t.parentNode:t),new yw(e)};er.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ee(188)):(t=Object.keys(t).join(","),Error(ee(268,t)));return t=kR(e),t=t===null?null:t.stateNode,t};er.flushSync=function(t){return Fo(t)};er.hydrate=function(t,e,n){if(!Gp(e))throw Error(ee(200));return Qp(null,t,e,!0,n)};er.hydrateRoot=function(t,e,n){if(!vw(t))throw Error(ee(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=uN;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=cN(e,null,t,1,n??null,s,!1,i,o),t[Ms]=e.current,bu(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Kp(e)};er.render=function(t,e,n){if(!Gp(e))throw Error(ee(200));return Qp(null,t,e,!1,n)};er.unmountComponentAtNode=function(t){if(!Gp(t))throw Error(ee(40));return t._reactRootContainer?(Fo(function(){Qp(null,null,t,!1,function(){t._reactRootContainer=null,t[Ms]=null})}),!0):!1};er.unstable_batchedUpdates=dw;er.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Gp(n))throw Error(ee(200));if(t==null||t._reactInternals===void 0)throw Error(ee(38));return Qp(t,e,n,!1,r)};er.version="18.3.1-next-f1338f8080-20240426";function dN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dN)}catch(t){console.error(t)}}dN(),dR.exports=er;var ra=dR.exports;const a3=XA(ra);var hN,hT=ra;hN=hT.createRoot,hT.hydrateRoot;function l3(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",l=t.split("/");for(l[0]||l.shift();s=l.shift();)n=s[0],n==="*"?(o.push(n),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var fN={exports:{}},pN={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pl=y;function c3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var u3=typeof Object.is=="function"?Object.is:c3,d3=Pl.useState,h3=Pl.useEffect,f3=Pl.useLayoutEffect,p3=Pl.useDebugValue;function m3(t,e){var n=e(),r=d3({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return f3(function(){s.value=n,s.getSnapshot=e,Ag(s)&&i({inst:s})},[t,n,e]),h3(function(){return Ag(s)&&i({inst:s}),t(function(){Ag(s)&&i({inst:s})})},[t]),p3(n),n}function Ag(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!u3(t,n)}catch{return!0}}function g3(t,e){return e()}var y3=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g3:m3;pN.useSyncExternalStore=Pl.useSyncExternalStore!==void 0?Pl.useSyncExternalStore:y3;fN.exports=pN;var v3=fN.exports;const _3=cR.useInsertionEffect,w3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mN=w3?y.useLayoutEffect:y.useEffect,x3=_3||mN,_w=t=>{const e=y.useRef([t,(...n)=>e[0](...n)]).current;return x3(()=>{e[0]=t}),e[1]},E3="popstate",ww="pushState",xw="replaceState",T3="hashchange",fT=[E3,ww,xw,T3],b3=t=>{for(const e of fT)addEventListener(e,t);return()=>{for(const e of fT)removeEventListener(e,t)}},gN=(t,e)=>v3.useSyncExternalStore(b3,t,e),S3=()=>location.search,I3=({ssrSearch:t=""}={})=>gN(S3,()=>t),pT=()=>location.pathname,C3=({ssrPath:t}={})=>gN(pT,t?()=>t:pT),A3=(t,{replace:e=!1,state:n=null}={})=>history[e?xw:ww](n,"",t),R3=(t={})=>[C3(t),A3],mT=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[mT]>"u"){for(const t of[ww,xw]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,mT,{value:!0})}const P3=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",yN=(t="")=>t==="/"?"":t,N3=(t,e)=>t[0]==="~"?t.slice(1):yN(e)+t,k3=(t="",e)=>P3(gT(yN(t)),gT(e)),gT=t=>{try{return decodeURI(t)}catch{return t}},vN={hook:R3,searchHook:I3,parser:l3,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},_N=y.createContext(vN),gd=()=>y.useContext(_N),wN={},xN=y.createContext(wN),D3=()=>y.useContext(xN),Yp=t=>{const[e,n]=t.hook(t);return[k3(t.base,e),_w((r,s)=>n(N3(r,t.base),s))]},EN=()=>Yp(gd()),TN=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=s.exec(n)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((f,p)=>[f,l[p]])):o.groups;let d={...l};return u&&Object.assign(d,u),d})(),...r?[a]:[]]:[!1,null]},O3=({children:t,...e})=>{var d,f;const n=gd(),r=e.hook?vN:n;let s=r;const[i,o]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let a=y.useRef({}),l=a.current,u=l;for(let p in r){const v=p==="base"?r[p]+(e[p]||""):e[p]||r[p];l===u&&v!==u[p]&&(a.current=u={...u}),u[p]=v,v!==r[p]&&(s=u)}return y.createElement(_N.Provider,{value:s,children:t})},yT=({children:t,component:e},n)=>e?y.createElement(e,{params:n}):typeof t=="function"?t(n):t,M3=t=>{let e=y.useRef(wN),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},cu=({path:t,nest:e,match:n,...r})=>{const s=gd(),[i]=Yp(s),[o,a,l]=n??TN(s.parser,t,i,e),u=M3({...D3(),...a});if(!o)return null;const d=l?y.createElement(O3,{base:l},yT(r,u)):yT(r,u);return y.createElement(xN.Provider,{value:u,children:d})},L3=y.forwardRef((t,e)=>{const n=gd(),[r,s]=Yp(n),{to:i="",href:o=i,onClick:a,asChild:l,children:u,className:d,replace:f,state:p,...v}=t,I=_w(S=>{S.ctrlKey||S.metaKey||S.altKey||S.shiftKey||S.button!==0||(a==null||a(S),S.defaultPrevented||(S.preventDefault(),s(o,t)))}),_=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return l&&y.isValidElement(u)?y.cloneElement(u,{onClick:I,href:_}):y.createElement("a",{...v,onClick:I,href:_,className:d!=null&&d.call?d(r===o):d,children:u,ref:e})}),bN=t=>Array.isArray(t)?t.flatMap(e=>bN(e&&e.type===y.Fragment?e.props.children:e)):[t],V3=({children:t,location:e})=>{const n=gd(),[r]=Yp(n);for(const s of bN(t)){let i=0;if(y.isValidElement(s)&&(i=TN(n.parser,s.props.path,e||r,s.props.nest))[0])return y.cloneElement(s,{match:i})}return null},SN=t=>{const{to:e,href:n=e}=t,[,r]=EN(),s=_w(()=>r(e||n,t));return mN(()=>{s()},[]),null};var Ql=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Uo=typeof window>"u"||"Deno"in globalThis;function rr(){}function j3(t,e){return typeof t=="function"?t(e):t}function dv(t){return typeof t=="number"&&t>=0&&t!==1/0}function IN(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Qa(t,e){return typeof t=="function"?t(e):t}function br(t,e){return typeof t=="function"?t(e):t}function vT(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Ew(o,e.options))return!1}else if(!Du(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function _T(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if($o(e.options.mutationKey)!==$o(i))return!1}else if(!Du(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Ew(t,e){return((e==null?void 0:e.queryKeyHashFn)||$o)(t)}function $o(t){return JSON.stringify(t,(e,n)=>hv(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Du(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Du(t[n],e[n])):!1}function CN(t,e){if(t===e)return t;const n=wT(t)&&wT(e);if(n||hv(t)&&hv(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let u=0;u<o;u++){const d=n?u:i[u];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=CN(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function $f(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function wT(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function hv(t){if(!xT(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!xT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function xT(t){return Object.prototype.toString.call(t)==="[object Object]"}function F3(t){return new Promise(e=>{setTimeout(e,t)})}function fv(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?CN(t,e):e}function U3(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function $3(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Tw=Symbol();function AN(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Tw?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var So,fi,ul,oI,z3=(oI=class extends Ql{constructor(){super();ve(this,So);ve(this,fi);ve(this,ul);le(this,ul,e=>{if(!Uo&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){V(this,fi)||this.setEventListener(V(this,ul))}onUnsubscribe(){var e;this.hasListeners()||((e=V(this,fi))==null||e.call(this),le(this,fi,void 0))}setEventListener(e){var n;le(this,ul,e),(n=V(this,fi))==null||n.call(this),le(this,fi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){V(this,So)!==e&&(le(this,So,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof V(this,So)=="boolean"?V(this,So):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},So=new WeakMap,fi=new WeakMap,ul=new WeakMap,oI),bw=new z3,dl,pi,hl,aI,B3=(aI=class extends Ql{constructor(){super();ve(this,dl,!0);ve(this,pi);ve(this,hl);le(this,hl,e=>{if(!Uo&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){V(this,pi)||this.setEventListener(V(this,hl))}onUnsubscribe(){var e;this.hasListeners()||((e=V(this,pi))==null||e.call(this),le(this,pi,void 0))}setEventListener(e){var n;le(this,hl,e),(n=V(this,pi))==null||n.call(this),le(this,pi,e(this.setOnline.bind(this)))}setOnline(e){V(this,dl)!==e&&(le(this,dl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return V(this,dl)}},dl=new WeakMap,pi=new WeakMap,hl=new WeakMap,aI),zf=new B3;function pv(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function W3(t){return Math.min(1e3*2**t,3e4)}function RN(t){return(t??"online")==="online"?zf.isOnline():!0}var PN=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Rg(t){return t instanceof PN}function NN(t){let e=!1,n=0,r=!1,s;const i=pv(),o=_=>{var S;r||(p(new PN(_)),(S=t.abort)==null||S.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>bw.isFocused()&&(t.networkMode==="always"||zf.isOnline())&&t.canRun(),d=()=>RN(t.networkMode)&&t.canRun(),f=_=>{var S;r||(r=!0,(S=t.onSuccess)==null||S.call(t,_),s==null||s(),i.resolve(_))},p=_=>{var S;r||(r=!0,(S=t.onError)==null||S.call(t,_),s==null||s(),i.reject(_))},v=()=>new Promise(_=>{var S;s=E=>{(r||u())&&_(E)},(S=t.onPause)==null||S.call(t)}).then(()=>{var _;s=void 0,r||(_=t.onContinue)==null||_.call(t)}),I=()=>{if(r)return;let _;const S=n===0?t.initialPromise:void 0;try{_=S??t.fn()}catch(E){_=Promise.reject(E)}Promise.resolve(_).then(f).catch(E=>{var M;if(r)return;const g=t.retry??(Uo?0:3),x=t.retryDelay??W3,N=typeof x=="function"?x(n,E):x,k=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,E);if(e||!k){p(E);return}n++,(M=t.onFail)==null||M.call(t,n,E),F3(N).then(()=>u()?void 0:v()).then(()=>{e?p(E):I()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?I():v().then(I),i)}}function q3(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Ut=q3(),Io,lI,kN=(lI=class{constructor(){ve(this,Io)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),dv(this.gcTime)&&le(this,Io,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Uo?1/0:5*60*1e3))}clearGcTimeout(){V(this,Io)&&(clearTimeout(V(this,Io)),le(this,Io,void 0))}},Io=new WeakMap,lI),fl,pl,nr,hn,ad,Co,xr,vs,cI,H3=(cI=class extends kN{constructor(n){super();ve(this,xr);ve(this,fl);ve(this,pl);ve(this,nr);ve(this,hn);ve(this,ad);ve(this,Co);le(this,Co,!1),le(this,ad,n.defaultOptions),this.setOptions(n.options),this.observers=[],le(this,nr,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,le(this,fl,K3(this.options)),this.state=n.state??V(this,fl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=V(this,hn))==null?void 0:n.promise}setOptions(n){this.options={...V(this,ad),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&V(this,nr).remove(this)}setData(n,r){const s=fv(this.state.data,n,this.options);return Ne(this,xr,vs).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Ne(this,xr,vs).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=V(this,hn))==null?void 0:s.promise;return(i=V(this,hn))==null||i.cancel(n),r?r.then(rr).catch(rr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(V(this,fl))}isActive(){return this.observers.some(n=>br(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Tw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!IN(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=V(this,hn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=V(this,hn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),V(this,nr).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(V(this,hn)&&(V(this,Co)?V(this,hn).cancel({revert:!0}):V(this,hn).cancelRetry()),this.scheduleGc()),V(this,nr).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ne(this,xr,vs).call(this,{type:"invalidate"})}fetch(n,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(V(this,hn))return V(this,hn).continueRetry(),V(this,hn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(v=>v.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(le(this,Co,!0),s.signal)})},o=()=>{const p=AN(this.options,r),v={queryKey:this.queryKey,meta:this.meta};return i(v),le(this,Co,!1),this.options.persister?this.options.persister(p,v,this):p(v)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(u=this.options.behavior)==null||u.onFetch(a,this),le(this,pl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&Ne(this,xr,vs).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=p=>{var v,I,_,S;Rg(p)&&p.silent||Ne(this,xr,vs).call(this,{type:"error",error:p}),Rg(p)||((I=(v=V(this,nr).config).onError)==null||I.call(v,p,this),(S=(_=V(this,nr).config).onSettled)==null||S.call(_,this.state.data,p,this)),this.scheduleGc()};return le(this,hn,NN({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var v,I,_,S;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(E){l(E);return}(I=(v=V(this,nr).config).onSuccess)==null||I.call(v,p,this),(S=(_=V(this,nr).config).onSettled)==null||S.call(_,p,this.state.error,this),this.scheduleGc()},onError:l,onFail:(p,v)=>{Ne(this,xr,vs).call(this,{type:"failed",failureCount:p,error:v})},onPause:()=>{Ne(this,xr,vs).call(this,{type:"pause"})},onContinue:()=>{Ne(this,xr,vs).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),V(this,hn).start()}},fl=new WeakMap,pl=new WeakMap,nr=new WeakMap,hn=new WeakMap,ad=new WeakMap,Co=new WeakMap,xr=new WeakSet,vs=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...DN(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Rg(i)&&i.revert&&V(this,pl)?{...V(this,pl),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Ut.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),V(this,nr).notify({query:this,type:"updated",action:n})})},cI);function DN(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:RN(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function K3(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Hr,uI,G3=(uI=class extends Ql{constructor(e={}){super();ve(this,Hr);this.config=e,le(this,Hr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Ew(s,n);let o=this.get(i);return o||(o=new H3({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){V(this,Hr).has(e.queryHash)||(V(this,Hr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=V(this,Hr).get(e.queryHash);n&&(e.destroy(),n===e&&V(this,Hr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ut.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return V(this,Hr).get(e)}getAll(){return[...V(this,Hr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>vT(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>vT(e,r)):n}notify(e){Ut.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Ut.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ut.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Hr=new WeakMap,uI),Kr,Tn,Ao,Gr,ni,dI,Q3=(dI=class extends kN{constructor(n){super();ve(this,Gr);ve(this,Kr);ve(this,Tn);ve(this,Ao);this.mutationId=n.mutationId,le(this,Tn,n.mutationCache),le(this,Kr,[]),this.state=n.state||ON(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){V(this,Kr).includes(n)||(V(this,Kr).push(n),this.clearGcTimeout(),V(this,Tn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){le(this,Kr,V(this,Kr).filter(r=>r!==n)),this.scheduleGc(),V(this,Tn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){V(this,Kr).length||(this.state.status==="pending"?this.scheduleGc():V(this,Tn).remove(this))}continue(){var n;return((n=V(this,Ao))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,l,u,d,f,p,v,I,_,S,E,g,x,N,k,M,T,b;le(this,Ao,NN({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(C,R)=>{Ne(this,Gr,ni).call(this,{type:"failed",failureCount:C,error:R})},onPause:()=>{Ne(this,Gr,ni).call(this,{type:"pause"})},onContinue:()=>{Ne(this,Gr,ni).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>V(this,Tn).canRun(this)}));const r=this.state.status==="pending",s=!V(this,Ao).canStart();try{if(!r){Ne(this,Gr,ni).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=V(this,Tn).config).onMutate)==null?void 0:o.call(i,n,this));const R=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));R!==this.state.context&&Ne(this,Gr,ni).call(this,{type:"pending",context:R,variables:n,isPaused:s})}const C=await V(this,Ao).start();return await((d=(u=V(this,Tn).config).onSuccess)==null?void 0:d.call(u,C,n,this.state.context,this)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,C,n,this.state.context)),await((I=(v=V(this,Tn).config).onSettled)==null?void 0:I.call(v,C,null,this.state.variables,this.state.context,this)),await((S=(_=this.options).onSettled)==null?void 0:S.call(_,C,null,n,this.state.context)),Ne(this,Gr,ni).call(this,{type:"success",data:C}),C}catch(C){try{throw await((g=(E=V(this,Tn).config).onError)==null?void 0:g.call(E,C,n,this.state.context,this)),await((N=(x=this.options).onError)==null?void 0:N.call(x,C,n,this.state.context)),await((M=(k=V(this,Tn).config).onSettled)==null?void 0:M.call(k,void 0,C,this.state.variables,this.state.context,this)),await((b=(T=this.options).onSettled)==null?void 0:b.call(T,void 0,C,n,this.state.context)),C}finally{Ne(this,Gr,ni).call(this,{type:"error",error:C})}}finally{V(this,Tn).runNext(this)}}},Kr=new WeakMap,Tn=new WeakMap,Ao=new WeakMap,Gr=new WeakSet,ni=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ut.batch(()=>{V(this,Kr).forEach(s=>{s.onMutationUpdate(n)}),V(this,Tn).notify({mutation:this,type:"updated",action:n})})},dI);function ON(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var qn,ld,hI,Y3=(hI=class extends Ql{constructor(e={}){super();ve(this,qn);ve(this,ld);this.config=e,le(this,qn,new Map),le(this,ld,Date.now())}build(e,n,r){const s=new Q3({mutationCache:this,mutationId:++sh(this,ld)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Eh(e),r=V(this,qn).get(n)??[];r.push(e),V(this,qn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Eh(e);if(V(this,qn).has(n)){const s=(r=V(this,qn).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?V(this,qn).delete(n):V(this,qn).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=V(this,qn).get(Eh(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=V(this,qn).get(Eh(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Ut.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...V(this,qn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>_T(n,r))}findAll(e={}){return this.getAll().filter(n=>_T(e,n))}notify(e){Ut.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Ut.batch(()=>Promise.all(e.map(n=>n.continue().catch(rr))))}},qn=new WeakMap,ld=new WeakMap,hI);function Eh(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function ET(t){return{onFetch:(e,n)=>{var d,f,p,v,I;const r=e.options,s=(p=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,i=((v=e.state.data)==null?void 0:v.pages)||[],o=((I=e.state.data)==null?void 0:I.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let _=!1;const S=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?_=!0:e.signal.addEventListener("abort",()=>{_=!0}),e.signal)})},E=AN(e.options,e.fetchOptions),g=async(x,N,k)=>{if(_)return Promise.reject();if(N==null&&x.pages.length)return Promise.resolve(x);const M={queryKey:e.queryKey,pageParam:N,direction:k?"backward":"forward",meta:e.options.meta};S(M);const T=await E(M),{maxPages:b}=e.options,C=k?$3:U3;return{pages:C(x.pages,T,b),pageParams:C(x.pageParams,N,b)}};if(s&&i.length){const x=s==="backward",N=x?Z3:TT,k={pages:i,pageParams:o},M=N(r,k);a=await g(k,M,x)}else{const x=t??i.length;do{const N=l===0?o[0]??r.initialPageParam:TT(r,a);if(l>0&&N==null)break;a=await g(a,N),l++}while(l<x)}return a};e.options.persister?e.fetchFn=()=>{var _,S;return(S=(_=e.options).persister)==null?void 0:S.call(_,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function TT(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Z3(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var bt,mi,gi,ml,gl,yi,yl,vl,fI,X3=(fI=class{constructor(t={}){ve(this,bt);ve(this,mi);ve(this,gi);ve(this,ml);ve(this,gl);ve(this,yi);ve(this,yl);ve(this,vl);le(this,bt,t.queryCache||new G3),le(this,mi,t.mutationCache||new Y3),le(this,gi,t.defaultOptions||{}),le(this,ml,new Map),le(this,gl,new Map),le(this,yi,0)}mount(){sh(this,yi)._++,V(this,yi)===1&&(le(this,yl,bw.subscribe(async t=>{t&&(await this.resumePausedMutations(),V(this,bt).onFocus())})),le(this,vl,zf.subscribe(async t=>{t&&(await this.resumePausedMutations(),V(this,bt).onOnline())})))}unmount(){var t,e;sh(this,yi)._--,V(this,yi)===0&&((t=V(this,yl))==null||t.call(this),le(this,yl,void 0),(e=V(this,vl))==null||e.call(this),le(this,vl,void 0))}isFetching(t){return V(this,bt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return V(this,mi).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=V(this,bt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=V(this,bt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(Qa(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return V(this,bt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=V(this,bt).get(r.queryHash),i=s==null?void 0:s.state.data,o=j3(e,i);if(o!==void 0)return V(this,bt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Ut.batch(()=>V(this,bt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=V(this,bt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=V(this,bt);Ut.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=V(this,bt),r={type:"active",...t};return Ut.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Ut.batch(()=>V(this,bt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(rr).catch(rr)}invalidateQueries(t={},e={}){return Ut.batch(()=>{if(V(this,bt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Ut.batch(()=>V(this,bt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(rr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(rr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=V(this,bt).build(this,e);return n.isStaleByTime(Qa(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(rr).catch(rr)}fetchInfiniteQuery(t){return t.behavior=ET(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(rr).catch(rr)}ensureInfiniteQueryData(t){return t.behavior=ET(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return zf.isOnline()?V(this,mi).resumePausedMutations():Promise.resolve()}getQueryCache(){return V(this,bt)}getMutationCache(){return V(this,mi)}getDefaultOptions(){return V(this,gi)}setDefaultOptions(t){le(this,gi,t)}setQueryDefaults(t,e){V(this,ml).set($o(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...V(this,ml).values()];let n={};return e.forEach(r=>{Du(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){V(this,gl).set($o(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...V(this,gl).values()];let n={};return e.forEach(r=>{Du(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...V(this,gi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Ew(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Tw&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...V(this,gi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){V(this,bt).clear(),V(this,mi).clear()}},bt=new WeakMap,mi=new WeakMap,gi=new WeakMap,ml=new WeakMap,gl=new WeakMap,yi=new WeakMap,yl=new WeakMap,vl=new WeakMap,fI),On,We,cd,bn,Ro,_l,vi,Qr,ud,wl,xl,Po,No,_i,El,et,zc,mv,gv,yv,vv,_v,wv,xv,MN,pI,J3=(pI=class extends Ql{constructor(e,n){super();ve(this,et);ve(this,On);ve(this,We);ve(this,cd);ve(this,bn);ve(this,Ro);ve(this,_l);ve(this,vi);ve(this,Qr);ve(this,ud);ve(this,wl);ve(this,xl);ve(this,Po);ve(this,No);ve(this,_i);ve(this,El,new Set);this.options=n,le(this,On,e),le(this,Qr,null),le(this,vi,pv()),this.options.experimental_prefetchInRender||V(this,vi).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(V(this,We).addObserver(this),bT(V(this,We),this.options)?Ne(this,et,zc).call(this):this.updateResult(),Ne(this,et,vv).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ev(V(this,We),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ev(V(this,We),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ne(this,et,_v).call(this),Ne(this,et,wv).call(this),V(this,We).removeObserver(this)}setOptions(e,n){const r=this.options,s=V(this,We);if(this.options=V(this,On).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof br(this.options.enabled,V(this,We))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ne(this,et,xv).call(this),V(this,We).setOptions(this.options),r._defaulted&&!$f(this.options,r)&&V(this,On).getQueryCache().notify({type:"observerOptionsUpdated",query:V(this,We),observer:this});const i=this.hasListeners();i&&ST(V(this,We),s,this.options,r)&&Ne(this,et,zc).call(this),this.updateResult(n),i&&(V(this,We)!==s||br(this.options.enabled,V(this,We))!==br(r.enabled,V(this,We))||Qa(this.options.staleTime,V(this,We))!==Qa(r.staleTime,V(this,We)))&&Ne(this,et,mv).call(this);const o=Ne(this,et,gv).call(this);i&&(V(this,We)!==s||br(this.options.enabled,V(this,We))!==br(r.enabled,V(this,We))||o!==V(this,_i))&&Ne(this,et,yv).call(this,o)}getOptimisticResult(e){const n=V(this,On).getQueryCache().build(V(this,On),e),r=this.createResult(n,e);return t$(this,r)&&(le(this,bn,r),le(this,_l,this.options),le(this,Ro,V(this,We).state)),r}getCurrentResult(){return V(this,bn)}trackResult(e,n){const r={};return Object.keys(e).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),e[s])})}),r}trackProp(e){V(this,El).add(e)}getCurrentQuery(){return V(this,We)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=V(this,On).defaultQueryOptions(e),r=V(this,On).getQueryCache().build(V(this,On),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Ne(this,et,zc).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),V(this,bn)))}createResult(e,n){var b;const r=V(this,We),s=this.options,i=V(this,bn),o=V(this,Ro),a=V(this,_l),u=e!==r?e.state:V(this,cd),{state:d}=e;let f={...d},p=!1,v;if(n._optimisticResults){const C=this.hasListeners(),R=!C&&bT(e,n),O=C&&ST(e,r,n,s);(R||O)&&(f={...f,...DN(d.data,e.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:I,errorUpdatedAt:_,status:S}=f;if(n.select&&f.data!==void 0)if(i&&f.data===(o==null?void 0:o.data)&&n.select===V(this,ud))v=V(this,wl);else try{le(this,ud,n.select),v=n.select(f.data),v=fv(i==null?void 0:i.data,v,n),le(this,wl,v),le(this,Qr,null)}catch(C){le(this,Qr,C)}else v=f.data;if(n.placeholderData!==void 0&&v===void 0&&S==="pending"){let C;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))C=i.data;else if(C=typeof n.placeholderData=="function"?n.placeholderData((b=V(this,xl))==null?void 0:b.state.data,V(this,xl)):n.placeholderData,n.select&&C!==void 0)try{C=n.select(C),le(this,Qr,null)}catch(R){le(this,Qr,R)}C!==void 0&&(S="success",v=fv(i==null?void 0:i.data,C,n),p=!0)}V(this,Qr)&&(I=V(this,Qr),v=V(this,wl),_=Date.now(),S="error");const E=f.fetchStatus==="fetching",g=S==="pending",x=S==="error",N=g&&E,k=v!==void 0,T={status:S,fetchStatus:f.fetchStatus,isPending:g,isSuccess:S==="success",isError:x,isInitialLoading:N,isLoading:N,data:v,dataUpdatedAt:f.dataUpdatedAt,error:I,errorUpdatedAt:_,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:E,isRefetching:E&&!g,isLoadingError:x&&!k,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:x&&k,isStale:Sw(e,n),refetch:this.refetch,promise:V(this,vi)};if(this.options.experimental_prefetchInRender){const C=D=>{T.status==="error"?D.reject(T.error):T.data!==void 0&&D.resolve(T.data)},R=()=>{const D=le(this,vi,T.promise=pv());C(D)},O=V(this,vi);switch(O.status){case"pending":e.queryHash===r.queryHash&&C(O);break;case"fulfilled":(T.status==="error"||T.data!==O.value)&&R();break;case"rejected":(T.status!=="error"||T.error!==O.reason)&&R();break}}return T}updateResult(e){const n=V(this,bn),r=this.createResult(V(this,We),this.options);if(le(this,Ro,V(this,We).state),le(this,_l,this.options),V(this,Ro).data!==void 0&&le(this,xl,V(this,We)),$f(r,n))return;le(this,bn,r);const s={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!V(this,El).size)return!0;const l=new Set(a??V(this,El));return this.options.throwOnError&&l.add("error"),Object.keys(V(this,bn)).some(u=>{const d=u;return V(this,bn)[d]!==n[d]&&l.has(d)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),Ne(this,et,MN).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ne(this,et,vv).call(this)}},On=new WeakMap,We=new WeakMap,cd=new WeakMap,bn=new WeakMap,Ro=new WeakMap,_l=new WeakMap,vi=new WeakMap,Qr=new WeakMap,ud=new WeakMap,wl=new WeakMap,xl=new WeakMap,Po=new WeakMap,No=new WeakMap,_i=new WeakMap,El=new WeakMap,et=new WeakSet,zc=function(e){Ne(this,et,xv).call(this);let n=V(this,We).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(rr)),n},mv=function(){Ne(this,et,_v).call(this);const e=Qa(this.options.staleTime,V(this,We));if(Uo||V(this,bn).isStale||!dv(e))return;const r=IN(V(this,bn).dataUpdatedAt,e)+1;le(this,Po,setTimeout(()=>{V(this,bn).isStale||this.updateResult()},r))},gv=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(V(this,We)):this.options.refetchInterval)??!1},yv=function(e){Ne(this,et,wv).call(this),le(this,_i,e),!(Uo||br(this.options.enabled,V(this,We))===!1||!dv(V(this,_i))||V(this,_i)===0)&&le(this,No,setInterval(()=>{(this.options.refetchIntervalInBackground||bw.isFocused())&&Ne(this,et,zc).call(this)},V(this,_i)))},vv=function(){Ne(this,et,mv).call(this),Ne(this,et,yv).call(this,Ne(this,et,gv).call(this))},_v=function(){V(this,Po)&&(clearTimeout(V(this,Po)),le(this,Po,void 0))},wv=function(){V(this,No)&&(clearInterval(V(this,No)),le(this,No,void 0))},xv=function(){const e=V(this,On).getQueryCache().build(V(this,On),this.options);if(e===V(this,We))return;const n=V(this,We);le(this,We,e),le(this,cd,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},MN=function(e){Ut.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(V(this,bn))}),V(this,On).getQueryCache().notify({query:V(this,We),type:"observerResultsUpdated"})})},pI);function e$(t,e){return br(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function bT(t,e){return e$(t,e)||t.state.data!==void 0&&Ev(t,e,e.refetchOnMount)}function Ev(t,e,n){if(br(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Sw(t,e)}return!1}function ST(t,e,n,r){return(t!==e||br(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Sw(t,n)}function Sw(t,e){return br(e.enabled,t)!==!1&&t.isStaleByTime(Qa(e.staleTime,t))}function t$(t,e){return!$f(t.getCurrentResult(),e)}var wi,xi,Mn,Ts,Ds,Yh,Tv,mI,n$=(mI=class extends Ql{constructor(n,r){super();ve(this,Ds);ve(this,wi);ve(this,xi);ve(this,Mn);ve(this,Ts);le(this,wi,n),this.setOptions(r),this.bindMethods(),Ne(this,Ds,Yh).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=V(this,wi).defaultMutationOptions(n),$f(this.options,r)||V(this,wi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:V(this,Mn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&$o(r.mutationKey)!==$o(this.options.mutationKey)?this.reset():((s=V(this,Mn))==null?void 0:s.state.status)==="pending"&&V(this,Mn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=V(this,Mn))==null||n.removeObserver(this)}onMutationUpdate(n){Ne(this,Ds,Yh).call(this),Ne(this,Ds,Tv).call(this,n)}getCurrentResult(){return V(this,xi)}reset(){var n;(n=V(this,Mn))==null||n.removeObserver(this),le(this,Mn,void 0),Ne(this,Ds,Yh).call(this),Ne(this,Ds,Tv).call(this)}mutate(n,r){var s;return le(this,Ts,r),(s=V(this,Mn))==null||s.removeObserver(this),le(this,Mn,V(this,wi).getMutationCache().build(V(this,wi),this.options)),V(this,Mn).addObserver(this),V(this,Mn).execute(n)}},wi=new WeakMap,xi=new WeakMap,Mn=new WeakMap,Ts=new WeakMap,Ds=new WeakSet,Yh=function(){var r;const n=((r=V(this,Mn))==null?void 0:r.state)??ON();le(this,xi,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Tv=function(n){Ut.batch(()=>{var r,s,i,o,a,l,u,d;if(V(this,Ts)&&this.hasListeners()){const f=V(this,xi).variables,p=V(this,xi).context;(n==null?void 0:n.type)==="success"?((s=(r=V(this,Ts)).onSuccess)==null||s.call(r,n.data,f,p),(o=(i=V(this,Ts)).onSettled)==null||o.call(i,n.data,null,f,p)):(n==null?void 0:n.type)==="error"&&((l=(a=V(this,Ts)).onError)==null||l.call(a,n.error,f,p),(d=(u=V(this,Ts)).onSettled)==null||d.call(u,void 0,n.error,f,p))}this.listeners.forEach(f=>{f(V(this,xi))})})},mI),LN=y.createContext(void 0),yd=t=>{const e=y.useContext(LN);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},r$=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),h.jsx(LN.Provider,{value:t,children:e})),VN=y.createContext(!1),s$=()=>y.useContext(VN);VN.Provider;function i$(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var o$=y.createContext(i$()),a$=()=>y.useContext(o$);function jN(t,e){return typeof t=="function"?t(...e):!!t}function bv(){}var l$=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},c$=t=>{y.useEffect(()=>{t.clearReset()},[t])},u$=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&jN(n,[t.error,r]),d$=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},h$=(t,e)=>t.isLoading&&t.isFetching&&!e,f$=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,IT=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function p$(t,e,n){var d,f,p,v,I;const r=yd(),s=s$(),i=a$(),o=r.defaultQueryOptions(t);(f=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,o),o._optimisticResults=s?"isRestoring":"optimistic",d$(o),l$(o,i),c$(i);const a=!r.getQueryCache().get(o.queryHash),[l]=y.useState(()=>new e(r,o)),u=l.getOptimisticResult(o);if(y.useSyncExternalStore(y.useCallback(_=>{const S=s?bv:l.subscribe(Ut.batchCalls(_));return l.updateResult(),S},[l,s]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),y.useEffect(()=>{l.setOptions(o,{listeners:!1})},[o,l]),f$(o,u))throw IT(o,l,i);if(u$({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw u.error;if((v=(p=r.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||v.call(p,o,u),o.experimental_prefetchInRender&&!Uo&&h$(u,s)){const _=a?IT(o,l,i):(I=r.getQueryCache().get(o.queryHash))==null?void 0:I.promise;_==null||_.catch(bv).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?u:l.trackResult(u)}function FN(t,e){return p$(t,J3)}function Ya(t,e){const n=yd(),[r]=y.useState(()=>new n$(n,t));y.useEffect(()=>{r.setOptions(t)},[r,t]);const s=y.useSyncExternalStore(y.useCallback(o=>r.subscribe(Ut.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=y.useCallback((o,a)=>{r.mutate(o,a).catch(bv)},[r]);if(s.error&&jN(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}async function m$(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const g$=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e[0],{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await m$(n),await n.json())},Sv=new X3({defaultOptions:{queries:{queryFn:g$({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),y$=1,v$=1e6;let Pg=0;function _$(){return Pg=(Pg+1)%Number.MAX_SAFE_INTEGER,Pg.toString()}const Ng=new Map,CT=t=>{if(Ng.has(t))return;const e=setTimeout(()=>{Ng.delete(t),uu({type:"REMOVE_TOAST",toastId:t})},v$);Ng.set(t,e)},w$=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,y$)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?CT(n):t.toasts.forEach(r=>{CT(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Zh=[];let Xh={toasts:[]};function uu(t){Xh=w$(Xh,t),Zh.forEach(e=>{e(Xh)})}function x$({...t}){const e=_$(),n=s=>uu({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>uu({type:"DISMISS_TOAST",toastId:e});return uu({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function vd(){const[t,e]=y.useState(Xh);return y.useEffect(()=>(Zh.push(e),()=>{const n=Zh.indexOf(e);n>-1&&Zh.splice(n,1)}),[t]),{...t,toast:x$,dismiss:n=>uu({type:"DISMISS_TOAST",toastId:n})}}function ie(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function AT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Zp(...t){return e=>{let n=!1;const r=t.map(s=>{const i=AT(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():AT(t[s],null)}}}}function Xe(...t){return y.useCallback(Zp(...t),t)}function E$(t,e){const n=y.createContext(e),r=i=>{const{children:o,...a}=i,l=y.useMemo(()=>a,Object.values(a));return h.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=y.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Hs(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),l=n.length;n=[...n,o];const u=f=>{var E;const{scope:p,children:v,...I}=f,_=((E=p==null?void 0:p[t])==null?void 0:E[l])||a,S=y.useMemo(()=>I,Object.values(I));return h.jsx(_.Provider,{value:S,children:v})};u.displayName=i+"Provider";function d(f,p){var _;const v=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,I=y.useContext(v);if(I)return I;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,T$(s,...e)]}function T$(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...a,...f}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function zo(t){const e=S$(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),l=a.find(C$);if(l){const u=l.props.children,d=a.map(f=>f===l?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return h.jsx(e,{...o,ref:s,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return h.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var b$=zo("Slot");function S$(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=R$(s),a=A$(i,s.props);return s.type!==y.Fragment&&(a.ref=r?Zp(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var UN=Symbol("radix.slottable");function I$(t){const e=({children:n})=>h.jsx(h.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=UN,e}function C$(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===UN}function A$(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function R$(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Xp(t){const e=t+"CollectionProvider",[n,r]=Hs(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=_=>{const{scope:S,children:E}=_,g=Me.useRef(null),x=Me.useRef(new Map).current;return h.jsx(s,{scope:S,itemMap:x,collectionRef:g,children:E})};o.displayName=e;const a=t+"CollectionSlot",l=zo(a),u=Me.forwardRef((_,S)=>{const{scope:E,children:g}=_,x=i(a,E),N=Xe(S,x.collectionRef);return h.jsx(l,{ref:N,children:g})});u.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",p=zo(d),v=Me.forwardRef((_,S)=>{const{scope:E,children:g,...x}=_,N=Me.useRef(null),k=Xe(S,N),M=i(d,E);return Me.useEffect(()=>(M.itemMap.set(N,{ref:N,...x}),()=>void M.itemMap.delete(N))),h.jsx(p,{[f]:"",ref:k,children:g})});v.displayName=d;function I(_){const S=i(t+"CollectionConsumer",_);return Me.useCallback(()=>{const g=S.collectionRef.current;if(!g)return[];const x=Array.from(g.querySelectorAll(`[${f}]`));return Array.from(S.itemMap.values()).sort((M,T)=>x.indexOf(M.ref.current)-x.indexOf(T.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},I,r]}var P$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Pe=P$.reduce((t,e)=>{const n=zo(`Primitive.${e}`),r=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Iw(t,e){t&&ra.flushSync(()=>t.dispatchEvent(e))}function vn(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function N$(t,e=globalThis==null?void 0:globalThis.document){const n=vn(t);y.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var k$="DismissableLayer",Iv="dismissableLayer.update",D$="dismissableLayer.pointerDownOutside",O$="dismissableLayer.focusOutside",RT,$N=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Yl=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=y.useContext($N),[d,f]=y.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=y.useState({}),I=Xe(e,T=>f(T)),_=Array.from(u.layers),[S]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),E=_.indexOf(S),g=d?_.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,N=g>=E,k=L$(T=>{const b=T.target,C=[...u.branches].some(R=>R.contains(b));!N||C||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},p),M=V$(T=>{const b=T.target;[...u.branches].some(R=>R.contains(b))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},p);return N$(T=>{g===u.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},p),y.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(RT=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),PT(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=RT)}},[d,p,n,u]),y.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),PT())},[d,u]),y.useEffect(()=>{const T=()=>v({});return document.addEventListener(Iv,T),()=>document.removeEventListener(Iv,T)},[]),h.jsx(Pe.div,{...l,ref:I,style:{pointerEvents:x?N?"auto":"none":void 0,...t.style},onFocusCapture:ie(t.onFocusCapture,M.onFocusCapture),onBlurCapture:ie(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:ie(t.onPointerDownCapture,k.onPointerDownCapture)})});Yl.displayName=k$;var M$="DismissableLayerBranch",zN=y.forwardRef((t,e)=>{const n=y.useContext($N),r=y.useRef(null),s=Xe(e,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),h.jsx(Pe.div,{...t,ref:s})});zN.displayName=M$;function L$(t,e=globalThis==null?void 0:globalThis.document){const n=vn(t),r=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){BN(D$,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function V$(t,e=globalThis==null?void 0:globalThis.document){const n=vn(t),r=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!r.current&&BN(O$,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function PT(){const t=new CustomEvent(Iv);document.dispatchEvent(t)}function BN(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Iw(s,i):s.dispatchEvent(i)}var j$=Yl,F$=zN,_n=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},U$="Portal",_d=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=y.useState(!1);_n(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?a3.createPortal(h.jsx(Pe.div,{...r,ref:e}),o):null});_d.displayName=U$;function $$(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var ds=t=>{const{present:e,children:n}=t,r=z$(e),s=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=Xe(r.ref,B$(s));return typeof n=="function"||r.isPresent?y.cloneElement(s,{ref:i}):null};ds.displayName="Presence";function z$(t){const[e,n]=y.useState(),r=y.useRef({}),s=y.useRef(t),i=y.useRef("none"),o=t?"mounted":"unmounted",[a,l]=$$(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=Th(r.current);i.current=a==="mounted"?u:"none"},[a]),_n(()=>{const u=r.current,d=s.current;if(d!==t){const p=i.current,v=Th(u);t?l("MOUNT"):v==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&p!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),_n(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=v=>{const _=Th(r.current).includes(v.animationName);if(v.target===e&&_&&(l("ANIMATION_END"),!s.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},p=v=>{v.target===e&&(i.current=Th(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Th(t){return(t==null?void 0:t.animationName)||"none"}function B$(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Nl({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=W$({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=vn(n),l=y.useCallback(u=>{if(i){const f=typeof u=="function"?u(t):u;f!==t&&a(f)}else s(u)},[i,t,s,a]);return[o,l]}function W$({defaultProp:t,onChange:e}){const n=y.useState(t),[r]=n,s=y.useRef(r),i=vn(e);return y.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var q$="VisuallyHidden",wd=y.forwardRef((t,e)=>h.jsx(Pe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));wd.displayName=q$;var H$=wd,Cw="ToastProvider",[Aw,K$,G$]=Xp("Toast"),[WN,bJ]=Hs("Toast",[G$]),[Q$,Jp]=WN(Cw),qN=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=y.useState(null),[u,d]=y.useState(0),f=y.useRef(!1),p=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Cw}\`. Expected non-empty \`string\`.`),h.jsx(Aw.Provider,{scope:e,children:h.jsx(Q$,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:y.useCallback(()=>d(v=>v+1),[]),onToastRemove:y.useCallback(()=>d(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};qN.displayName=Cw;var HN="ToastViewport",Y$=["F8"],Cv="toast.viewportPause",Av="toast.viewportResume",KN=y.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=Y$,label:s="Notifications ({hotkey})",...i}=t,o=Jp(HN,n),a=K$(n),l=y.useRef(null),u=y.useRef(null),d=y.useRef(null),f=y.useRef(null),p=Xe(e,f,o.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=o.toastCount>0;y.useEffect(()=>{const S=E=>{var x;r.length!==0&&r.every(N=>E[N]||E.code===N)&&((x=f.current)==null||x.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),y.useEffect(()=>{const S=l.current,E=f.current;if(I&&S&&E){const g=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(Cv);E.dispatchEvent(M),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(Av);E.dispatchEvent(M),o.isClosePausedRef.current=!1}},N=M=>{!S.contains(M.relatedTarget)&&x()},k=()=>{S.contains(document.activeElement)||x()};return S.addEventListener("focusin",g),S.addEventListener("focusout",N),S.addEventListener("pointermove",g),S.addEventListener("pointerleave",k),window.addEventListener("blur",g),window.addEventListener("focus",x),()=>{S.removeEventListener("focusin",g),S.removeEventListener("focusout",N),S.removeEventListener("pointermove",g),S.removeEventListener("pointerleave",k),window.removeEventListener("blur",g),window.removeEventListener("focus",x)}}},[I,o.isClosePausedRef]);const _=y.useCallback(({tabbingDirection:S})=>{const g=a().map(x=>{const N=x.ref.current,k=[N,...c9(N)];return S==="forwards"?k:k.reverse()});return(S==="forwards"?g.reverse():g).flat()},[a]);return y.useEffect(()=>{const S=f.current;if(S){const E=g=>{var k,M,T;const x=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!x){const b=document.activeElement,C=g.shiftKey;if(g.target===S&&C){(k=u.current)==null||k.focus();return}const D=_({tabbingDirection:C?"backwards":"forwards"}),P=D.findIndex(H=>H===b);kg(D.slice(P+1))?g.preventDefault():C?(M=u.current)==null||M.focus():(T=d.current)==null||T.focus()}};return S.addEventListener("keydown",E),()=>S.removeEventListener("keydown",E)}},[a,_]),h.jsxs(F$,{ref:l,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:I?void 0:"none"},children:[I&&h.jsx(Rv,{ref:u,onFocusFromOutsideViewport:()=>{const S=_({tabbingDirection:"forwards"});kg(S)}}),h.jsx(Aw.Slot,{scope:n,children:h.jsx(Pe.ol,{tabIndex:-1,...i,ref:p})}),I&&h.jsx(Rv,{ref:d,onFocusFromOutsideViewport:()=>{const S=_({tabbingDirection:"backwards"});kg(S)}})]})});KN.displayName=HN;var GN="ToastFocusProxy",Rv=y.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Jp(GN,n);return h.jsx(wd,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});Rv.displayName=GN;var em="Toast",Z$="toast.swipeStart",X$="toast.swipeMove",J$="toast.swipeCancel",e9="toast.swipeEnd",QN=y.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=Nl({prop:r,defaultProp:s,onChange:i});return h.jsx(ds,{present:n||a,children:h.jsx(r9,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:vn(t.onPause),onResume:vn(t.onResume),onSwipeStart:ie(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ie(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ie(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ie(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});QN.displayName=em;var[t9,n9]=WN(em,{onClose(){}}),r9=y.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:v,...I}=t,_=Jp(em,n),[S,E]=y.useState(null),g=Xe(e,H=>E(H)),x=y.useRef(null),N=y.useRef(null),k=s||_.duration,M=y.useRef(0),T=y.useRef(k),b=y.useRef(0),{onToastAdd:C,onToastRemove:R}=_,O=vn(()=>{var B;(S==null?void 0:S.contains(document.activeElement))&&((B=_.viewport)==null||B.focus()),o()}),D=y.useCallback(H=>{!H||H===1/0||(window.clearTimeout(b.current),M.current=new Date().getTime(),b.current=window.setTimeout(O,H))},[O]);y.useEffect(()=>{const H=_.viewport;if(H){const B=()=>{D(T.current),u==null||u()},K=()=>{const te=new Date().getTime()-M.current;T.current=T.current-te,window.clearTimeout(b.current),l==null||l()};return H.addEventListener(Cv,K),H.addEventListener(Av,B),()=>{H.removeEventListener(Cv,K),H.removeEventListener(Av,B)}}},[_.viewport,k,l,u,D]),y.useEffect(()=>{i&&!_.isClosePausedRef.current&&D(k)},[i,k,_.isClosePausedRef,D]),y.useEffect(()=>(C(),()=>R()),[C,R]);const P=y.useMemo(()=>S?nk(S):null,[S]);return _.viewport?h.jsxs(h.Fragment,{children:[P&&h.jsx(s9,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),h.jsx(t9,{scope:n,onClose:O,children:ra.createPortal(h.jsx(Aw.ItemSlot,{scope:n,children:h.jsx(j$,{asChild:!0,onEscapeKeyDown:ie(a,()=>{_.isFocusedToastEscapeKeyDownRef.current||O(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:h.jsx(Pe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":_.swipeDirection,...I,ref:g,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ie(t.onKeyDown,H=>{H.key==="Escape"&&(a==null||a(H.nativeEvent),H.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:ie(t.onPointerDown,H=>{H.button===0&&(x.current={x:H.clientX,y:H.clientY})}),onPointerMove:ie(t.onPointerMove,H=>{if(!x.current)return;const B=H.clientX-x.current.x,K=H.clientY-x.current.y,te=!!N.current,$=["left","right"].includes(_.swipeDirection),W=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,re=$?W(0,B):0,me=$?0:W(0,K),_e=H.pointerType==="touch"?10:2,De={x:re,y:me},rt={originalEvent:H,delta:De};te?(N.current=De,bh(X$,f,rt,{discrete:!1})):NT(De,_.swipeDirection,_e)?(N.current=De,bh(Z$,d,rt,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(B)>_e||Math.abs(K)>_e)&&(x.current=null)}),onPointerUp:ie(t.onPointerUp,H=>{const B=N.current,K=H.target;if(K.hasPointerCapture(H.pointerId)&&K.releasePointerCapture(H.pointerId),N.current=null,x.current=null,B){const te=H.currentTarget,$={originalEvent:H,delta:B};NT(B,_.swipeDirection,_.swipeThreshold)?bh(e9,v,$,{discrete:!0}):bh(J$,p,$,{discrete:!0}),te.addEventListener("click",W=>W.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),s9=t=>{const{__scopeToast:e,children:n,...r}=t,s=Jp(em,e),[i,o]=y.useState(!1),[a,l]=y.useState(!1);return a9(()=>o(!0)),y.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:h.jsx(_d,{asChild:!0,children:h.jsx(wd,{...r,children:i&&h.jsxs(h.Fragment,{children:[s.label," ",n]})})})},i9="ToastTitle",YN=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(Pe.div,{...r,ref:e})});YN.displayName=i9;var o9="ToastDescription",ZN=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(Pe.div,{...r,ref:e})});ZN.displayName=o9;var XN="ToastAction",JN=y.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?h.jsx(tk,{altText:n,asChild:!0,children:h.jsx(Rw,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${XN}\`. Expected non-empty \`string\`.`),null)});JN.displayName=XN;var ek="ToastClose",Rw=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=n9(ek,n);return h.jsx(tk,{asChild:!0,children:h.jsx(Pe.button,{type:"button",...r,ref:e,onClick:ie(t.onClick,s.onClose)})})});Rw.displayName=ek;var tk=y.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return h.jsx(Pe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function nk(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),l9(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...nk(r))}}),e}function bh(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Iw(s,i):s.dispatchEvent(i)}var NT=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function a9(t=()=>{}){const e=vn(t);_n(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function l9(t){return t.nodeType===t.ELEMENT_NODE}function c9(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function kg(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var u9=qN,rk=KN,sk=QN,ik=YN,ok=ZN,ak=JN,lk=Rw;function ck(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=ck(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function uk(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=ck(t))&&(r&&(r+=" "),r+=e);return r}const kT=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,DT=uk,Pw=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return DT(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=i==null?void 0:i[u];if(d===null)return null;const p=kT(d)||kT(f);return s[u][p]}),a=n&&Object.entries(n).reduce((u,d)=>{let[f,p]=d;return p===void 0||(u[f]=p),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:p,...v}=d;return Object.entries(v).every(I=>{let[_,S]=I;return Array.isArray(S)?S.includes({...i,...a}[_]):{...i,...a}[_]===S})?[...u,f,p]:u},[]);return DT(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dk=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var h9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>y.createElement("svg",{ref:l,...h9,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:dk("lucide",s),...a},[...o.map(([u,d])=>y.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=(t,e)=>{const n=y.forwardRef(({className:r,...s},i)=>y.createElement(f9,{ref:i,iconNode:e,className:dk(`lucide-${d9(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=Ct("Album",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["polyline",{points:"11 3 11 11 14 8 17 11 17 3",key:"1wcwz3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=Ct("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=Ct("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=Ct("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=Ct("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=Ct("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=Ct("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=Ct("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=Ct("Disc3",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M6 12c0-1.7.7-3.2 1.8-4.2",key:"oqkarx"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M18 12c0 1.7-.7 3.2-1.8 4.2",key:"1eah9h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=Ct("Disc",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=Ct("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=Ct("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=Ct("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=Ct("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=Ct("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=Ct("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=Ct("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=Ct("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=Ct("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=Ct("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=Ct("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=Ct("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),kw="-",A9=t=>{const e=P9(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(kw);return a[0]===""&&a.length!==1&&a.shift(),fk(a,e)||R9(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},fk=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?fk(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(kw);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},LT=/^\[(.+)\]$/,R9=t=>{if(LT.test(t)){const e=LT.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},P9=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return k9(Object.entries(t.classGroups),n).forEach(([i,o])=>{Pv(o,r,i,e)}),r},Pv=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:VT(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(N9(s)){Pv(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Pv(o,VT(e,i),n,r)})})},VT=(t,e)=>{let n=t;return e.split(kw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},N9=t=>t.isThemeGetter,k9=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,D9=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},pk="!",O9=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,d=0,f;for(let S=0;S<a.length;S++){let E=a[S];if(u===0){if(E===s&&(r||a.slice(S,S+i)===e)){l.push(a.slice(d,S)),d=S+i;continue}if(E==="/"){f=S;continue}}E==="["?u++:E==="]"&&u--}const p=l.length===0?a:a.substring(d),v=p.startsWith(pk),I=v?p.substring(1):p,_=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:v,baseClassName:I,maybePostfixModifierPosition:_}};return n?a=>n({className:a,parseClassName:o}):o},M9=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},L9=t=>({cache:D9(t.cacheSize),parseClassName:O9(t),...A9(t)}),V9=/\s+/,j9=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(V9);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:v}=n(u);let I=!!v,_=r(I?p.substring(0,v):p);if(!_){if(!I){a=u+(a.length>0?" "+a:a);continue}if(_=r(p),!_){a=u+(a.length>0?" "+a:a);continue}I=!1}const S=M9(d).join(":"),E=f?S+pk:S,g=E+_;if(i.includes(g))continue;i.push(g);const x=s(_,I);for(let N=0;N<x.length;++N){const k=x[N];i.push(E+k)}a=u+(a.length>0?" "+a:a)}return a};function F9(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=mk(e))&&(r&&(r+=" "),r+=n);return r}const mk=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=mk(t[r]))&&(n&&(n+=" "),n+=e);return n};function U9(t,...e){let n,r,s,i=o;function o(l){const u=e.reduce((d,f)=>f(d),t());return n=L9(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=j9(l,n);return s(l,d),d}return function(){return i(F9.apply(null,arguments))}}const lt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},gk=/^\[(?:([a-z-]+):)?(.+)\]$/i,$9=/^\d+\/\d+$/,z9=new Set(["px","full","screen"]),B9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,W9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,q9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,H9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,K9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,gs=t=>Xa(t)||z9.has(t)||$9.test(t),Xs=t=>Zl(t,"length",t5),Xa=t=>!!t&&!Number.isNaN(Number(t)),Dg=t=>Zl(t,"number",Xa),Oc=t=>!!t&&Number.isInteger(Number(t)),G9=t=>t.endsWith("%")&&Xa(t.slice(0,-1)),Re=t=>gk.test(t),Js=t=>B9.test(t),Q9=new Set(["length","size","percentage"]),Y9=t=>Zl(t,Q9,yk),Z9=t=>Zl(t,"position",yk),X9=new Set(["image","url"]),J9=t=>Zl(t,X9,r5),e5=t=>Zl(t,"",n5),Mc=()=>!0,Zl=(t,e,n)=>{const r=gk.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},t5=t=>W9.test(t)&&!q9.test(t),yk=()=>!1,n5=t=>H9.test(t),r5=t=>K9.test(t),s5=()=>{const t=lt("colors"),e=lt("spacing"),n=lt("blur"),r=lt("brightness"),s=lt("borderColor"),i=lt("borderRadius"),o=lt("borderSpacing"),a=lt("borderWidth"),l=lt("contrast"),u=lt("grayscale"),d=lt("hueRotate"),f=lt("invert"),p=lt("gap"),v=lt("gradientColorStops"),I=lt("gradientColorStopPositions"),_=lt("inset"),S=lt("margin"),E=lt("opacity"),g=lt("padding"),x=lt("saturate"),N=lt("scale"),k=lt("sepia"),M=lt("skew"),T=lt("space"),b=lt("translate"),C=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",Re,e],D=()=>[Re,e],P=()=>["",gs,Xs],H=()=>["auto",Xa,Re],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],K=()=>["solid","dashed","dotted","double","none"],te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],W=()=>["","0",Re],re=()=>["auto","avoid","all","avoid-page","page","left","right","column"],me=()=>[Xa,Re];return{cacheSize:500,separator:":",theme:{colors:[Mc],spacing:[gs,Xs],blur:["none","",Js,Re],brightness:me(),borderColor:[t],borderRadius:["none","","full",Js,Re],borderSpacing:D(),borderWidth:P(),contrast:me(),grayscale:W(),hueRotate:me(),invert:W(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[G9,Xs],inset:O(),margin:O(),opacity:me(),padding:D(),saturate:me(),scale:me(),sepia:W(),skew:me(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Re]}],container:["container"],columns:[{columns:[Js]}],"break-after":[{"break-after":re()}],"break-before":[{"break-before":re()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),Re]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Oc,Re]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Re]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",Oc,Re]}],"grid-cols":[{"grid-cols":[Mc]}],"col-start-end":[{col:["auto",{span:["full",Oc,Re]},Re]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Mc]}],"row-start-end":[{row:["auto",{span:[Oc,Re]},Re]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Re]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Re]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Re,e]}],"min-w":[{"min-w":[Re,e,"min","max","fit"]}],"max-w":[{"max-w":[Re,e,"none","full","min","max","fit","prose",{screen:[Js]},Js]}],h:[{h:[Re,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Re,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Re,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Re,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Js,Xs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Dg]}],"font-family":[{font:[Mc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Re]}],"line-clamp":[{"line-clamp":["none",Xa,Dg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",gs,Re]}],"list-image":[{"list-image":["none",Re]}],"list-style-type":[{list:["none","disc","decimal",Re]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",gs,Xs]}],"underline-offset":[{"underline-offset":["auto",gs,Re]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),Z9]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Y9]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},J9]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[I]}],"gradient-via-pos":[{via:[I]}],"gradient-to-pos":[{to:[I]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...K(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:K()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...K()]}],"outline-offset":[{"outline-offset":[gs,Re]}],"outline-w":[{outline:[gs,Xs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[gs,Xs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Js,e5]}],"shadow-color":[{shadow:[Mc]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...te(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":te()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Js,Re]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Re]}],duration:[{duration:me()}],ease:[{ease:["linear","in","out","in-out",Re]}],delay:[{delay:me()}],animate:[{animate:["none","spin","ping","pulse","bounce",Re]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Oc,Re]}],"translate-x":[{"translate-x":[b]}],"translate-y":[{"translate-y":[b]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Re]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Re]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Re]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[gs,Xs,Dg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},i5=U9(s5);function je(...t){return i5(uk(t))}const o5=u9,vk=y.forwardRef(({className:t,...e},n)=>h.jsx(rk,{ref:n,className:je("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));vk.displayName=rk.displayName;const a5=Pw("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),_k=y.forwardRef(({className:t,variant:e,...n},r)=>h.jsx(sk,{ref:r,className:je(a5({variant:e}),t),...n}));_k.displayName=sk.displayName;const l5=y.forwardRef(({className:t,...e},n)=>h.jsx(ak,{ref:n,className:je("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));l5.displayName=ak.displayName;const wk=y.forwardRef(({className:t,...e},n)=>h.jsx(lk,{ref:n,className:je("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:h.jsx(Eo,{className:"h-4 w-4"})}));wk.displayName=lk.displayName;const xk=y.forwardRef(({className:t,...e},n)=>h.jsx(ik,{ref:n,className:je("text-sm font-semibold",t),...e}));xk.displayName=ik.displayName;const Ek=y.forwardRef(({className:t,...e},n)=>h.jsx(ok,{ref:n,className:je("text-sm opacity-90",t),...e}));Ek.displayName=ok.displayName;function c5(){const{toasts:t}=vd();return h.jsxs(o5,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return h.jsxs(_k,{...i,children:[h.jsxs("div",{className:"grid gap-1",children:[n&&h.jsx(xk,{children:n}),r&&h.jsx(Ek,{children:r})]}),s,h.jsx(wk,{})]},e)}),h.jsx(vk,{})]})}var u5=cR[" useId ".trim().toString()]||(()=>{}),d5=0;function Ps(t){const[e,n]=y.useState(u5());return _n(()=>{n(r=>r??String(d5++))},[t]),e?`radix-${e}`:""}const h5=["top","right","bottom","left"],Ui=Math.min,Kn=Math.max,Bf=Math.round,Sh=Math.floor,ts=t=>({x:t,y:t}),f5={left:"right",right:"left",bottom:"top",top:"bottom"},p5={start:"end",end:"start"};function Nv(t,e,n){return Kn(t,Ui(e,n))}function js(t,e){return typeof t=="function"?t(e):t}function Fs(t){return t.split("-")[0]}function Xl(t){return t.split("-")[1]}function Dw(t){return t==="x"?"y":"x"}function Ow(t){return t==="y"?"height":"width"}function $i(t){return["top","bottom"].includes(Fs(t))?"y":"x"}function Mw(t){return Dw($i(t))}function m5(t,e,n){n===void 0&&(n=!1);const r=Xl(t),s=Mw(t),i=Ow(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Wf(o)),[o,Wf(o)]}function g5(t){const e=Wf(t);return[kv(t),e,kv(e)]}function kv(t){return t.replace(/start|end/g,e=>p5[e])}function y5(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function v5(t,e,n,r){const s=Xl(t);let i=y5(Fs(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(kv)))),i}function Wf(t){return t.replace(/left|right|bottom|top/g,e=>f5[e])}function _5(t){return{top:0,right:0,bottom:0,left:0,...t}}function Tk(t){return typeof t!="number"?_5(t):{top:t,right:t,bottom:t,left:t}}function qf(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function jT(t,e,n){let{reference:r,floating:s}=t;const i=$i(e),o=Mw(e),a=Ow(o),l=Fs(e),u=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let v;switch(l){case"top":v={x:d,y:r.y-s.height};break;case"bottom":v={x:d,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:f};break;case"left":v={x:r.x-s.width,y:f};break;default:v={x:r.x,y:r.y}}switch(Xl(e)){case"start":v[o]-=p*(n&&u?-1:1);break;case"end":v[o]+=p*(n&&u?-1:1);break}return v}const w5=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=jT(u,r,l),p=r,v={},I=0;for(let _=0;_<a.length;_++){const{name:S,fn:E}=a[_],{x:g,y:x,data:N,reset:k}=await E({x:d,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:v,rects:u,platform:o,elements:{reference:t,floating:e}});d=g??d,f=x??f,v={...v,[S]:{...v[S],...N}},k&&I<=50&&(I++,typeof k=="object"&&(k.placement&&(p=k.placement),k.rects&&(u=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):k.rects),{x:d,y:f}=jT(u,p,l)),_=-1)}return{x:d,y:f,placement:p,strategy:s,middlewareData:v}};async function Ou(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:v=0}=js(e,t),I=Tk(v),S=a[p?f==="floating"?"reference":"floating":f],E=qf(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(S)))==null||n?S:S.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),g=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),N=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},k=qf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:g,offsetParent:x,strategy:l}):g);return{top:(E.top-k.top+I.top)/N.y,bottom:(k.bottom-E.bottom+I.bottom)/N.y,left:(E.left-k.left+I.left)/N.x,right:(k.right-E.right+I.right)/N.x}}const x5=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=js(t,e)||{};if(u==null)return{};const f=Tk(d),p={x:n,y:r},v=Mw(s),I=Ow(v),_=await o.getDimensions(u),S=v==="y",E=S?"top":"left",g=S?"bottom":"right",x=S?"clientHeight":"clientWidth",N=i.reference[I]+i.reference[v]-p[v]-i.floating[I],k=p[v]-i.reference[v],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let T=M?M[x]:0;(!T||!await(o.isElement==null?void 0:o.isElement(M)))&&(T=a.floating[x]||i.floating[I]);const b=N/2-k/2,C=T/2-_[I]/2-1,R=Ui(f[E],C),O=Ui(f[g],C),D=R,P=T-_[I]-O,H=T/2-_[I]/2+b,B=Nv(D,H,P),K=!l.arrow&&Xl(s)!=null&&H!==B&&i.reference[I]/2-(H<D?R:O)-_[I]/2<0,te=K?H<D?H-D:H-P:0;return{[v]:p[v]+te,data:{[v]:B,centerOffset:H-B-te,...K&&{alignmentOffset:te}},reset:K}}}),E5=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:I="none",flipAlignment:_=!0,...S}=js(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const E=Fs(s),g=$i(a),x=Fs(a)===a,N=await(l.isRTL==null?void 0:l.isRTL(u.floating)),k=p||(x||!_?[Wf(a)]:g5(a)),M=I!=="none";!p&&M&&k.push(...v5(a,_,I,N));const T=[a,...k],b=await Ou(e,S),C=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&C.push(b[E]),f){const H=m5(s,o,N);C.push(b[H[0]],b[H[1]])}if(R=[...R,{placement:s,overflows:C}],!C.every(H=>H<=0)){var O,D;const H=(((O=i.flip)==null?void 0:O.index)||0)+1,B=T[H];if(B)return{data:{index:H,overflows:R},reset:{placement:B}};let K=(D=R.filter(te=>te.overflows[0]<=0).sort((te,$)=>te.overflows[1]-$.overflows[1])[0])==null?void 0:D.placement;if(!K)switch(v){case"bestFit":{var P;const te=(P=R.filter($=>{if(M){const W=$i($.placement);return W===g||W==="y"}return!0}).map($=>[$.placement,$.overflows.filter(W=>W>0).reduce((W,re)=>W+re,0)]).sort(($,W)=>$[1]-W[1])[0])==null?void 0:P[0];te&&(K=te);break}case"initialPlacement":K=a;break}if(s!==K)return{reset:{placement:K}}}return{}}}};function FT(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function UT(t){return h5.some(e=>t[e]>=0)}const T5=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=js(t,e);switch(r){case"referenceHidden":{const i=await Ou(e,{...s,elementContext:"reference"}),o=FT(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:UT(o)}}}case"escaped":{const i=await Ou(e,{...s,altBoundary:!0}),o=FT(i,n.floating);return{data:{escapedOffsets:o,escaped:UT(o)}}}default:return{}}}}};async function b5(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Fs(n),a=Xl(n),l=$i(n)==="y",u=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,f=js(e,t);let{mainAxis:p,crossAxis:v,alignmentAxis:I}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof I=="number"&&(v=a==="end"?I*-1:I),l?{x:v*d,y:p*u}:{x:p*u,y:v*d}}const S5=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await b5(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},I5=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:S=>{let{x:E,y:g}=S;return{x:E,y:g}}},...l}=js(t,e),u={x:n,y:r},d=await Ou(e,l),f=$i(Fs(s)),p=Dw(f);let v=u[p],I=u[f];if(i){const S=p==="y"?"top":"left",E=p==="y"?"bottom":"right",g=v+d[S],x=v-d[E];v=Nv(g,v,x)}if(o){const S=f==="y"?"top":"left",E=f==="y"?"bottom":"right",g=I+d[S],x=I-d[E];I=Nv(g,I,x)}const _=a.fn({...e,[p]:v,[f]:I});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[p]:i,[f]:o}}}}}},C5=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=js(t,e),d={x:n,y:r},f=$i(s),p=Dw(f);let v=d[p],I=d[f];const _=js(a,e),S=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(l){const x=p==="y"?"height":"width",N=i.reference[p]-i.floating[x]+S.mainAxis,k=i.reference[p]+i.reference[x]-S.mainAxis;v<N?v=N:v>k&&(v=k)}if(u){var E,g;const x=p==="y"?"width":"height",N=["top","left"].includes(Fs(s)),k=i.reference[f]-i.floating[x]+(N&&((E=o.offset)==null?void 0:E[f])||0)+(N?0:S.crossAxis),M=i.reference[f]+i.reference[x]+(N?0:((g=o.offset)==null?void 0:g[f])||0)-(N?S.crossAxis:0);I<k?I=k:I>M&&(I=M)}return{[p]:v,[f]:I}}}},A5=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=js(t,e),d=await Ou(e,u),f=Fs(s),p=Xl(s),v=$i(s)==="y",{width:I,height:_}=i.floating;let S,E;f==="top"||f==="bottom"?(S=f,E=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(E=f,S=p==="end"?"top":"bottom");const g=_-d.top-d.bottom,x=I-d.left-d.right,N=Ui(_-d[S],g),k=Ui(I-d[E],x),M=!e.middlewareData.shift;let T=N,b=k;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(b=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=g),M&&!p){const R=Kn(d.left,0),O=Kn(d.right,0),D=Kn(d.top,0),P=Kn(d.bottom,0);v?b=I-2*(R!==0||O!==0?R+O:Kn(d.left,d.right)):T=_-2*(D!==0||P!==0?D+P:Kn(d.top,d.bottom))}await l({...e,availableWidth:b,availableHeight:T});const C=await o.getDimensions(a.floating);return I!==C.width||_!==C.height?{reset:{rects:!0}}:{}}}};function tm(){return typeof window<"u"}function Jl(t){return bk(t)?(t.nodeName||"").toLowerCase():"#document"}function Zn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function hs(t){var e;return(e=(bk(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function bk(t){return tm()?t instanceof Node||t instanceof Zn(t).Node:!1}function Dr(t){return tm()?t instanceof Element||t instanceof Zn(t).Element:!1}function as(t){return tm()?t instanceof HTMLElement||t instanceof Zn(t).HTMLElement:!1}function $T(t){return!tm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Zn(t).ShadowRoot}function xd(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Or(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function R5(t){return["table","td","th"].includes(Jl(t))}function nm(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Lw(t){const e=Vw(),n=Dr(t)?Or(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function P5(t){let e=zi(t);for(;as(e)&&!kl(e);){if(Lw(e))return e;if(nm(e))return null;e=zi(e)}return null}function Vw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function kl(t){return["html","body","#document"].includes(Jl(t))}function Or(t){return Zn(t).getComputedStyle(t)}function rm(t){return Dr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function zi(t){if(Jl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||$T(t)&&t.host||hs(t);return $T(e)?e.host:e}function Sk(t){const e=zi(t);return kl(e)?t.ownerDocument?t.ownerDocument.body:t.body:as(e)&&xd(e)?e:Sk(e)}function Mu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=Sk(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Zn(s);if(i){const a=Dv(o);return e.concat(o,o.visualViewport||[],xd(s)?s:[],a&&n?Mu(a):[])}return e.concat(s,Mu(s,[],n))}function Dv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Ik(t){const e=Or(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=as(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Bf(n)!==i||Bf(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function jw(t){return Dr(t)?t:t.contextElement}function Ja(t){const e=jw(t);if(!as(e))return ts(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=Ik(e);let o=(i?Bf(n.width):n.width)/r,a=(i?Bf(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const N5=ts(0);function Ck(t){const e=Zn(t);return!Vw()||!e.visualViewport?N5:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function k5(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Zn(t)?!1:e}function Bo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=jw(t);let o=ts(1);e&&(r?Dr(r)&&(o=Ja(r)):o=Ja(t));const a=k5(i,n,r)?Ck(i):ts(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const p=Zn(i),v=r&&Dr(r)?Zn(r):r;let I=p,_=Dv(I);for(;_&&r&&v!==I;){const S=Ja(_),E=_.getBoundingClientRect(),g=Or(_),x=E.left+(_.clientLeft+parseFloat(g.paddingLeft))*S.x,N=E.top+(_.clientTop+parseFloat(g.paddingTop))*S.y;l*=S.x,u*=S.y,d*=S.x,f*=S.y,l+=x,u+=N,I=Zn(_),_=Dv(I)}}return qf({width:d,height:f,x:l,y:u})}function Fw(t,e){const n=rm(t).scrollLeft;return e?e.left+n:Bo(hs(t)).left+n}function Ak(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Fw(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function D5(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=hs(r),a=e?nm(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=ts(1);const d=ts(0),f=as(r);if((f||!f&&!i)&&((Jl(r)!=="body"||xd(o))&&(l=rm(r)),as(r))){const v=Bo(r);u=Ja(r),d.x=v.x+r.clientLeft,d.y=v.y+r.clientTop}const p=o&&!f&&!i?Ak(o,l,!0):ts(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-l.scrollTop*u.y+d.y+p.y}}function O5(t){return Array.from(t.getClientRects())}function M5(t){const e=hs(t),n=rm(t),r=t.ownerDocument.body,s=Kn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Kn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Fw(t);const a=-n.scrollTop;return Or(r).direction==="rtl"&&(o+=Kn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function L5(t,e){const n=Zn(t),r=hs(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=Vw();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function V5(t,e){const n=Bo(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=as(t)?Ja(t):ts(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function zT(t,e,n){let r;if(e==="viewport")r=L5(t,n);else if(e==="document")r=M5(hs(t));else if(Dr(e))r=V5(e,n);else{const s=Ck(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return qf(r)}function Rk(t,e){const n=zi(t);return n===e||!Dr(n)||kl(n)?!1:Or(n).position==="fixed"||Rk(n,e)}function j5(t,e){const n=e.get(t);if(n)return n;let r=Mu(t,[],!1).filter(a=>Dr(a)&&Jl(a)!=="body"),s=null;const i=Or(t).position==="fixed";let o=i?zi(t):t;for(;Dr(o)&&!kl(o);){const a=Or(o),l=Lw(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||xd(o)&&!l&&Rk(t,o))?r=r.filter(d=>d!==o):s=a,o=zi(o)}return e.set(t,r),r}function F5(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?nm(e)?[]:j5(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const f=zT(e,d,s);return u.top=Kn(f.top,u.top),u.right=Ui(f.right,u.right),u.bottom=Ui(f.bottom,u.bottom),u.left=Kn(f.left,u.left),u},zT(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function U5(t){const{width:e,height:n}=Ik(t);return{width:e,height:n}}function $5(t,e,n){const r=as(e),s=hs(e),i=n==="fixed",o=Bo(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=ts(0);if(r||!r&&!i)if((Jl(e)!=="body"||xd(s))&&(a=rm(e)),r){const p=Bo(e,!0,i,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else s&&(l.x=Fw(s));const u=s&&!r&&!i?Ak(s,a):ts(0),d=o.left+a.scrollLeft-l.x-u.x,f=o.top+a.scrollTop-l.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function Og(t){return Or(t).position==="static"}function BT(t,e){if(!as(t)||Or(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return hs(t)===n&&(n=n.ownerDocument.body),n}function Pk(t,e){const n=Zn(t);if(nm(t))return n;if(!as(t)){let s=zi(t);for(;s&&!kl(s);){if(Dr(s)&&!Og(s))return s;s=zi(s)}return n}let r=BT(t,e);for(;r&&R5(r)&&Og(r);)r=BT(r,e);return r&&kl(r)&&Og(r)&&!Lw(r)?n:r||P5(t)||n}const z5=async function(t){const e=this.getOffsetParent||Pk,n=this.getDimensions,r=await n(t.floating);return{reference:$5(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function B5(t){return Or(t).direction==="rtl"}const W5={convertOffsetParentRelativeRectToViewportRelativeRect:D5,getDocumentElement:hs,getClippingRect:F5,getOffsetParent:Pk,getElementRects:z5,getClientRects:O5,getDimensions:U5,getScale:Ja,isElement:Dr,isRTL:B5};function Nk(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function q5(t,e){let n=null,r;const s=hs(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const u=t.getBoundingClientRect(),{left:d,top:f,width:p,height:v}=u;if(a||e(),!p||!v)return;const I=Sh(f),_=Sh(s.clientWidth-(d+p)),S=Sh(s.clientHeight-(f+v)),E=Sh(d),x={rootMargin:-I+"px "+-_+"px "+-S+"px "+-E+"px",threshold:Kn(0,Ui(1,l))||1};let N=!0;function k(M){const T=M[0].intersectionRatio;if(T!==l){if(!N)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!Nk(u,t.getBoundingClientRect())&&o(),N=!1}try{n=new IntersectionObserver(k,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(k,x)}n.observe(t)}return o(!0),i}function H5(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=jw(t),d=s||i?[...u?Mu(u):[],...Mu(e)]:[];d.forEach(E=>{s&&E.addEventListener("scroll",n,{passive:!0}),i&&E.addEventListener("resize",n)});const f=u&&a?q5(u,n):null;let p=-1,v=null;o&&(v=new ResizeObserver(E=>{let[g]=E;g&&g.target===u&&v&&(v.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var x;(x=v)==null||x.observe(e)})),n()}),u&&!l&&v.observe(u),v.observe(e));let I,_=l?Bo(t):null;l&&S();function S(){const E=Bo(t);_&&!Nk(_,E)&&n(),_=E,I=requestAnimationFrame(S)}return n(),()=>{var E;d.forEach(g=>{s&&g.removeEventListener("scroll",n),i&&g.removeEventListener("resize",n)}),f==null||f(),(E=v)==null||E.disconnect(),v=null,l&&cancelAnimationFrame(I)}}const K5=S5,G5=I5,Q5=E5,Y5=A5,Z5=T5,WT=x5,X5=C5,J5=(t,e,n)=>{const r=new Map,s={platform:W5,...n},i={...s.platform,_c:r};return w5(t,e,{...s,platform:i})};var Jh=typeof document<"u"?y.useLayoutEffect:y.useEffect;function Hf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Hf(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Hf(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function kk(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function qT(t,e){const n=kk(t);return Math.round(e*n)/n}function Mg(t){const e=y.useRef(t);return Jh(()=>{e.current=t}),e}function ez(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,f]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,v]=y.useState(r);Hf(p,r)||v(r);const[I,_]=y.useState(null),[S,E]=y.useState(null),g=y.useCallback($=>{$!==M.current&&(M.current=$,_($))},[]),x=y.useCallback($=>{$!==T.current&&(T.current=$,E($))},[]),N=i||I,k=o||S,M=y.useRef(null),T=y.useRef(null),b=y.useRef(d),C=l!=null,R=Mg(l),O=Mg(s),D=Mg(u),P=y.useCallback(()=>{if(!M.current||!T.current)return;const $={placement:e,strategy:n,middleware:p};O.current&&($.platform=O.current),J5(M.current,T.current,$).then(W=>{const re={...W,isPositioned:D.current!==!1};H.current&&!Hf(b.current,re)&&(b.current=re,ra.flushSync(()=>{f(re)}))})},[p,e,n,O,D]);Jh(()=>{u===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,f($=>({...$,isPositioned:!1})))},[u]);const H=y.useRef(!1);Jh(()=>(H.current=!0,()=>{H.current=!1}),[]),Jh(()=>{if(N&&(M.current=N),k&&(T.current=k),N&&k){if(R.current)return R.current(N,k,P);P()}},[N,k,P,R,C]);const B=y.useMemo(()=>({reference:M,floating:T,setReference:g,setFloating:x}),[g,x]),K=y.useMemo(()=>({reference:N,floating:k}),[N,k]),te=y.useMemo(()=>{const $={position:n,left:0,top:0};if(!K.floating)return $;const W=qT(K.floating,d.x),re=qT(K.floating,d.y);return a?{...$,transform:"translate("+W+"px, "+re+"px)",...kk(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:re}},[n,a,K.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:P,refs:B,elements:K,floatingStyles:te}),[d,P,B,K,te])}const tz=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?WT({element:r.current,padding:s}).fn(n):{}:r?WT({element:r,padding:s}).fn(n):{}}}},nz=(t,e)=>({...K5(t),options:[t,e]}),rz=(t,e)=>({...G5(t),options:[t,e]}),sz=(t,e)=>({...X5(t),options:[t,e]}),iz=(t,e)=>({...Q5(t),options:[t,e]}),oz=(t,e)=>({...Y5(t),options:[t,e]}),az=(t,e)=>({...Z5(t),options:[t,e]}),lz=(t,e)=>({...tz(t),options:[t,e]});var cz="Arrow",Dk=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return h.jsx(Pe.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});Dk.displayName=cz;var uz=Dk;function dz(t){const[e,n]=y.useState(void 0);return _n(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Uw="Popper",[Ok,ec]=Hs(Uw),[hz,Mk]=Ok(Uw),Lk=t=>{const{__scopePopper:e,children:n}=t,[r,s]=y.useState(null);return h.jsx(hz,{scope:e,anchor:r,onAnchorChange:s,children:n})};Lk.displayName=Uw;var Vk="PopperAnchor",jk=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=Mk(Vk,n),o=y.useRef(null),a=Xe(e,o);return y.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:h.jsx(Pe.div,{...s,ref:a})});jk.displayName=Vk;var $w="PopperContent",[fz,pz]=Ok($w),Fk=y.forwardRef((t,e)=>{var pe,Qe,Ye,Le,Ve,ze;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:v="optimized",onPlaced:I,..._}=t,S=Mk($w,n),[E,g]=y.useState(null),x=Xe(e,jt=>g(jt)),[N,k]=y.useState(null),M=dz(N),T=(M==null?void 0:M.width)??0,b=(M==null?void 0:M.height)??0,C=r+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(u)?u:[u],D=O.length>0,P={padding:R,boundary:O.filter(gz),altBoundary:D},{refs:H,floatingStyles:B,placement:K,isPositioned:te,middlewareData:$}=ez({strategy:"fixed",placement:C,whileElementsMounted:(...jt)=>H5(...jt,{animationFrame:v==="always"}),elements:{reference:S.anchor},middleware:[nz({mainAxis:s+b,alignmentAxis:o}),l&&rz({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?sz():void 0,...P}),l&&iz({...P}),oz({...P,apply:({elements:jt,rects:Zt,availableWidth:mr,availableHeight:gr})=>{const{width:Ur,height:dc}=Zt.reference,fs=jt.floating.style;fs.setProperty("--radix-popper-available-width",`${mr}px`),fs.setProperty("--radix-popper-available-height",`${gr}px`),fs.setProperty("--radix-popper-anchor-width",`${Ur}px`),fs.setProperty("--radix-popper-anchor-height",`${dc}px`)}}),N&&lz({element:N,padding:a}),yz({arrowWidth:T,arrowHeight:b}),p&&az({strategy:"referenceHidden",...P})]}),[W,re]=zk(K),me=vn(I);_n(()=>{te&&(me==null||me())},[te,me]);const _e=(pe=$.arrow)==null?void 0:pe.x,De=(Qe=$.arrow)==null?void 0:Qe.y,rt=((Ye=$.arrow)==null?void 0:Ye.centerOffset)!==0,[Et,ot]=y.useState();return _n(()=>{E&&ot(window.getComputedStyle(E).zIndex)},[E]),h.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:te?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Et,"--radix-popper-transform-origin":[(Le=$.transformOrigin)==null?void 0:Le.x,(Ve=$.transformOrigin)==null?void 0:Ve.y].join(" "),...((ze=$.hide)==null?void 0:ze.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:h.jsx(fz,{scope:n,placedSide:W,onArrowChange:k,arrowX:_e,arrowY:De,shouldHideArrow:rt,children:h.jsx(Pe.div,{"data-side":W,"data-align":re,..._,ref:x,style:{..._.style,animation:te?void 0:"none"}})})})});Fk.displayName=$w;var Uk="PopperArrow",mz={top:"bottom",right:"left",bottom:"top",left:"right"},$k=y.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=pz(Uk,r),o=mz[i.placedSide];return h.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:h.jsx(uz,{...s,ref:n,style:{...s.style,display:"block"}})})});$k.displayName=Uk;function gz(t){return t!==null}var yz=t=>({name:"transformOrigin",options:t,fn(e){var S,E,g;const{placement:n,rects:r,middlewareData:s}=e,o=((S=s.arrow)==null?void 0:S.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=zk(n),f={start:"0%",center:"50%",end:"100%"}[d],p=(((E=s.arrow)==null?void 0:E.x)??0)+a/2,v=(((g=s.arrow)==null?void 0:g.y)??0)+l/2;let I="",_="";return u==="bottom"?(I=o?f:`${p}px`,_=`${-l}px`):u==="top"?(I=o?f:`${p}px`,_=`${r.floating.height+l}px`):u==="right"?(I=`${-l}px`,_=o?f:`${v}px`):u==="left"&&(I=`${r.floating.width+l}px`,_=o?f:`${v}px`),{data:{x:I,y:_}}}});function zk(t){const[e,n="center"]=t.split("-");return[e,n]}var Bk=Lk,zw=jk,Bw=Fk,Ww=$k,[sm,SJ]=Hs("Tooltip",[ec]),qw=ec(),Wk="TooltipProvider",vz=700,HT="tooltip.open",[_z,qk]=sm(Wk),Hk=t=>{const{__scopeTooltip:e,delayDuration:n=vz,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=y.useRef(!0),a=y.useRef(!1),l=y.useRef(0);return y.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),h.jsx(_z,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:y.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};Hk.displayName=Wk;var Kk="Tooltip",[IJ,im]=sm(Kk),Ov="TooltipTrigger",wz=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=im(Ov,n),i=qk(Ov,n),o=qw(n),a=y.useRef(null),l=Xe(e,a,s.onTriggerChange),u=y.useRef(!1),d=y.useRef(!1),f=y.useCallback(()=>u.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),h.jsx(zw,{asChild:!0,...o,children:h.jsx(Pe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ie(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ie(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ie(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ie(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:ie(t.onBlur,s.onClose),onClick:ie(t.onClick,s.onClose)})})});wz.displayName=Ov;var xz="TooltipPortal",[CJ,Ez]=sm(xz,{forceMount:void 0}),Dl="TooltipContent",Gk=y.forwardRef((t,e)=>{const n=Ez(Dl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=im(Dl,t.__scopeTooltip);return h.jsx(ds,{present:r||o.open,children:o.disableHoverableContent?h.jsx(Qk,{side:s,...i,ref:e}):h.jsx(Tz,{side:s,...i,ref:e})})}),Tz=y.forwardRef((t,e)=>{const n=im(Dl,t.__scopeTooltip),r=qk(Dl,t.__scopeTooltip),s=y.useRef(null),i=Xe(e,s),[o,a]=y.useState(null),{trigger:l,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,p=y.useCallback(()=>{a(null),f(!1)},[f]),v=y.useCallback((I,_)=>{const S=I.currentTarget,E={x:I.clientX,y:I.clientY},g=Az(E,S.getBoundingClientRect()),x=Rz(E,g),N=Pz(_.getBoundingClientRect()),k=kz([...x,...N]);a(k),f(!0)},[f]);return y.useEffect(()=>()=>p(),[p]),y.useEffect(()=>{if(l&&d){const I=S=>v(S,d),_=S=>v(S,l);return l.addEventListener("pointerleave",I),d.addEventListener("pointerleave",_),()=>{l.removeEventListener("pointerleave",I),d.removeEventListener("pointerleave",_)}}},[l,d,v,p]),y.useEffect(()=>{if(o){const I=_=>{const S=_.target,E={x:_.clientX,y:_.clientY},g=(l==null?void 0:l.contains(S))||(d==null?void 0:d.contains(S)),x=!Nz(E,o);g?p():x&&(p(),u())};return document.addEventListener("pointermove",I),()=>document.removeEventListener("pointermove",I)}},[l,d,o,u,p]),h.jsx(Qk,{...t,ref:i})}),[bz,Sz]=sm(Kk,{isInside:!1}),Iz=I$("TooltipContent"),Qk=y.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=im(Dl,n),u=qw(n),{onClose:d}=l;return y.useEffect(()=>(document.addEventListener(HT,d),()=>document.removeEventListener(HT,d)),[d]),y.useEffect(()=>{if(l.trigger){const f=p=>{const v=p.target;v!=null&&v.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),h.jsx(Yl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:h.jsxs(Bw,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[h.jsx(Iz,{children:r}),h.jsx(bz,{scope:n,isInside:!0,children:h.jsx(H$,{id:l.contentId,role:"tooltip",children:s||r})})]})})});Gk.displayName=Dl;var Yk="TooltipArrow",Cz=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=qw(n);return Sz(Yk,n).isInside?null:h.jsx(Ww,{...s,...r,ref:e})});Cz.displayName=Yk;function Az(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Rz(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function Pz(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function Nz(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,u=e[o].x,d=e[o].y;l>r!=d>r&&n<(u-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function kz(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Dz(e)}function Dz(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Oz=Hk,Zk=Gk;const Mz=Oz,Lz=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>h.jsx(Zk,{ref:r,sideOffset:e,className:je("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));Lz.displayName=Zk.displayName;const Xk=y.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:je("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Xk.displayName="Card";const Vz=y.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:je("flex flex-col space-y-1.5 p-6",t),...e}));Vz.displayName="CardHeader";const jz=y.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:je("text-2xl font-semibold leading-none tracking-tight",t),...e}));jz.displayName="CardTitle";const Fz=y.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:je("text-sm text-muted-foreground",t),...e}));Fz.displayName="CardDescription";const Jk=y.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:je("p-6 pt-0",t),...e}));Jk.displayName="CardContent";const Uz=y.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:je("flex items-center p-6 pt-0",t),...e}));Uz.displayName="CardFooter";function $z(){return h.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:h.jsx(Xk,{className:"w-full max-w-md mx-4",children:h.jsxs(Jk,{className:"pt-6",children:[h.jsxs("div",{className:"flex mb-4 gap-2",children:[h.jsx(v9,{className:"h-8 w-8 text-red-500"}),h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),h.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const zz="modulepreload",Bz=function(t){return"/Vinyl-Vault/"+t},KT={},Lg=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=Bz(l),l in KT)return;KT[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":zz,u||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((p,v)=>{f.addEventListener("load",p),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Wz=()=>{};var GT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},qz=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},tD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|u>>6,v=u&63;l||(v=64,o||(p=64)),r.push(n[d],n[f],n[p],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(eD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qz(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||f==null)throw new Hz;const p=i<<2|a>>4;if(r.push(p),u!==64){const v=a<<4&240|u>>2;if(r.push(v),f!==64){const I=u<<6&192|f;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Hz extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Kz=function(t){const e=eD(t);return tD.encodeByteArray(e,!0)},Kf=function(t){return Kz(t).replace(/\./g,"")},nD=function(t){try{return tD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qz=()=>Gz().__FIREBASE_DEFAULTS__,Yz=()=>{if(typeof process>"u"||typeof GT>"u")return;const t=GT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Zz=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&nD(t[1]);return e&&JSON.parse(e)},om=()=>{try{return Wz()||Qz()||Yz()||Zz()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},rD=t=>{var e,n;return(n=(e=om())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Xz=t=>{const e=rD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},sD=()=>{var t;return(t=om())===null||t===void 0?void 0:t.config},iD=t=>{var e;return(e=om())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eB(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Kf(JSON.stringify(n)),Kf(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function nB(){var t;const e=(t=om())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rB(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sB(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function iB(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oB(){const t=wn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function aB(){return!nB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lB(){try{return typeof indexedDB=="object"}catch{return!1}}function cB(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uB="FirebaseError";class Ks extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=uB,Object.setPrototypeOf(this,Ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ed.prototype.create)}}class Ed{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?dB(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Ks(s,a,r)}}function dB(t,e){return t.replace(hB,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const hB=/\{\$([^}]+)}/g;function fB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(QT(i)&&QT(o)){if(!Wo(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function QT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Wc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function qc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function pB(t,e){const n=new mB(t,e);return n.subscribe.bind(n)}class mB{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");gB(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Vg),s.error===void 0&&(s.error=Vg),s.complete===void 0&&(s.complete=Vg);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gB(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(t){return t&&t._delegate?t._delegate:t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(t){return t.endsWith(".cloudworkstations.dev")}async function oD(t){return(await fetch(t,{credentials:"include"})).ok}class qo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Jz;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_B(e))try{this.getOrInitializeService({instanceIdentifier:go})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=go){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=go){return this.instances.has(e)}getOptions(e=go){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=go){return this.component?this.component.multipleInstances?e:go:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vB(t){return t===go?void 0:t}function _B(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yB(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ue||(Ue={}));const xB={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},EB=Ue.INFO,TB={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},bB=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=TB[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hw{constructor(e){this.name=e,this._logLevel=EB,this._logHandler=bB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const SB=(t,e)=>e.some(n=>t instanceof n);let YT,ZT;function IB(){return YT||(YT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CB(){return ZT||(ZT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aD=new WeakMap,Mv=new WeakMap,lD=new WeakMap,jg=new WeakMap,Kw=new WeakMap;function AB(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Di(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&aD.set(n,t)}).catch(()=>{}),Kw.set(e,t),e}function RB(t){if(Mv.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Mv.set(t,e)}let Lv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Mv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||lD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Di(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function PB(t){Lv=t(Lv)}function NB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Fg(this),e,...n);return lD.set(r,e.sort?e.sort():[e]),Di(r)}:CB().includes(t)?function(...e){return t.apply(Fg(this),e),Di(aD.get(this))}:function(...e){return Di(t.apply(Fg(this),e))}}function kB(t){return typeof t=="function"?NB(t):(t instanceof IDBTransaction&&RB(t),SB(t,IB())?new Proxy(t,Lv):t)}function Di(t){if(t instanceof IDBRequest)return AB(t);if(jg.has(t))return jg.get(t);const e=kB(t);return e!==t&&(jg.set(t,e),Kw.set(e,t)),e}const Fg=t=>Kw.get(t);function DB(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Di(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Di(o.result),l.oldVersion,l.newVersion,Di(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const OB=["get","getKey","getAll","getAllKeys","count"],MB=["put","add","delete","clear"],Ug=new Map;function XT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ug.get(e))return Ug.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=MB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||OB.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return Ug.set(e,i),i}PB(t=>({...t,get:(e,n,r)=>XT(e,n)||t.get(e,n,r),has:(e,n)=>!!XT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VB(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function VB(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vv="@firebase/app",JT="0.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new Hw("@firebase/app"),jB="@firebase/app-compat",FB="@firebase/analytics-compat",UB="@firebase/analytics",$B="@firebase/app-check-compat",zB="@firebase/app-check",BB="@firebase/auth",WB="@firebase/auth-compat",qB="@firebase/database",HB="@firebase/data-connect",KB="@firebase/database-compat",GB="@firebase/functions",QB="@firebase/functions-compat",YB="@firebase/installations",ZB="@firebase/installations-compat",XB="@firebase/messaging",JB="@firebase/messaging-compat",e6="@firebase/performance",t6="@firebase/performance-compat",n6="@firebase/remote-config",r6="@firebase/remote-config-compat",s6="@firebase/storage",i6="@firebase/storage-compat",o6="@firebase/firestore",a6="@firebase/vertexai",l6="@firebase/firestore-compat",c6="firebase",u6="11.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="[DEFAULT]",d6={[Vv]:"fire-core",[jB]:"fire-core-compat",[UB]:"fire-analytics",[FB]:"fire-analytics-compat",[zB]:"fire-app-check",[$B]:"fire-app-check-compat",[BB]:"fire-auth",[WB]:"fire-auth-compat",[qB]:"fire-rtdb",[HB]:"fire-data-connect",[KB]:"fire-rtdb-compat",[GB]:"fire-fn",[QB]:"fire-fn-compat",[YB]:"fire-iid",[ZB]:"fire-iid-compat",[XB]:"fire-fcm",[JB]:"fire-fcm-compat",[e6]:"fire-perf",[t6]:"fire-perf-compat",[n6]:"fire-rc",[r6]:"fire-rc-compat",[s6]:"fire-gcs",[i6]:"fire-gcs-compat",[o6]:"fire-fst",[l6]:"fire-fst-compat",[a6]:"fire-vertex","fire-js":"fire-js",[c6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf=new Map,h6=new Map,Fv=new Map;function eb(t,e){try{t.container.addComponent(e)}catch(n){Us.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ol(t){const e=t.name;if(Fv.has(e))return Us.debug(`There were multiple attempts to register component ${e}.`),!1;Fv.set(e,t);for(const n of Gf.values())eb(n,t);for(const n of h6.values())eb(n,t);return!0}function Gw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ar(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oi=new Ed("app","Firebase",f6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=u6;function cD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:jv,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Oi.create("bad-app-name",{appName:String(s)});if(n||(n=sD()),!n)throw Oi.create("no-options");const i=Gf.get(s);if(i){if(Wo(n,i.options)&&Wo(r,i.config))return i;throw Oi.create("duplicate-app",{appName:s})}const o=new wB(s);for(const l of Fv.values())o.addComponent(l);const a=new p6(n,r,o);return Gf.set(s,a),a}function uD(t=jv){const e=Gf.get(t);if(!e&&t===jv&&sD())return cD();if(!e)throw Oi.create("no-app",{appName:t});return e}function Mi(t,e,n){var r;let s=(r=d6[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Us.warn(a.join(" "));return}Ol(new qo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6="firebase-heartbeat-database",g6=1,Lu="firebase-heartbeat-store";let $g=null;function dD(){return $g||($g=DB(m6,g6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Lu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Oi.create("idb-open",{originalErrorMessage:t.message})})),$g}async function y6(t){try{const n=(await dD()).transaction(Lu),r=await n.objectStore(Lu).get(hD(t));return await n.done,r}catch(e){if(e instanceof Ks)Us.warn(e.message);else{const n=Oi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Us.warn(n.message)}}}async function tb(t,e){try{const r=(await dD()).transaction(Lu,"readwrite");await r.objectStore(Lu).put(e,hD(t)),await r.done}catch(n){if(n instanceof Ks)Us.warn(n.message);else{const r=Oi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Us.warn(r.message)}}}function hD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6=1024,_6=30;class w6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new E6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=nb();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>_6){const o=T6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Us.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=nb(),{heartbeatsToSend:r,unsentEntries:s}=x6(this._heartbeatsCache.heartbeats),i=Kf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Us.warn(n),""}}}function nb(){return new Date().toISOString().substring(0,10)}function x6(t,e=v6){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),rb(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),rb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class E6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lB()?cB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await y6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return tb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return tb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function rb(t){return Kf(JSON.stringify({version:2,heartbeats:t})).length}function T6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b6(t){Ol(new qo("platform-logger",e=>new LB(e),"PRIVATE")),Ol(new qo("heartbeat",e=>new w6(e),"PRIVATE")),Mi(Vv,JT,t),Mi(Vv,JT,"esm2017"),Mi("fire-js","")}b6("");var S6="firebase",I6="11.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mi(S6,I6,"app");var Zr=function(){return Zr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Zr.apply(this,arguments)};function bd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function C6(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function fD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const A6=fD,pD=new Ed("auth","Firebase",fD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf=new Hw("@firebase/auth");function R6(t,...e){Qf.logLevel<=Ue.WARN&&Qf.warn(`Auth (${tc}): ${t}`,...e)}function ef(t,...e){Qf.logLevel<=Ue.ERROR&&Qf.error(`Auth (${tc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(t,...e){throw Qw(t,...e)}function ns(t,...e){return Qw(t,...e)}function mD(t,e,n){const r=Object.assign(Object.assign({},A6()),{[e]:n});return new Ed("auth","Firebase",r).create(e,{appName:t.name})}function Ns(t){return mD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return pD.create(t,...e)}function we(t,e,...n){if(!t)throw Qw(e,...n)}function Cs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ef(e),new Error(e)}function $s(t,e){t||Cs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function P6(){return sb()==="http:"||sb()==="https:"}function sb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(P6()||sB()||"connection"in navigator)?navigator.onLine:!0}function k6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n){this.shortDelay=e,this.longDelay=n,$s(n>e,"Short delay should be less than long delay!"),this.isMobile=tB()||iB()}get(){return N6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(t,e){$s(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],M6=new Sd(3e4,6e4);function no(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ro(t,e,n,r,s={}){return yD(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Td(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},i);return rB()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&am(t.emulatorConfig.host)&&(u.credentials="include"),gD.fetch()(await vD(t,t.config.apiHost,n,a),u)})}async function yD(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},D6),e);try{const s=new V6(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ih(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ih(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ih(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ih(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw mD(t,d,u);Mr(t,d)}}catch(s){if(s instanceof Ks)throw s;Mr(t,"network-request-failed",{message:String(s)})}}async function Id(t,e,n,r,s={}){const i=await ro(t,e,n,r,s);return"mfaPendingCredential"in i&&Mr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function vD(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Yw(t.config,s):`${t.config.apiScheme}://${s}`;return O6.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function L6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class V6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ns(this.auth,"network-request-failed")),M6.get())})}}function Ih(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=ns(t,e,r);return s.customData._tokenResponse=n,s}function ib(t){return t!==void 0&&t.enterprise!==void 0}class j6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return L6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function F6(t,e){return ro(t,"GET","/v2/recaptchaConfig",no(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U6(t,e){return ro(t,"POST","/v1/accounts:delete",e)}async function Yf(t,e){return ro(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $6(t,e=!1){const n=Qt(t),r=await n.getIdToken(e),s=Zw(r);we(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:du(zg(s.auth_time)),issuedAtTime:du(zg(s.iat)),expirationTime:du(zg(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function zg(t){return Number(t)*1e3}function Zw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ef("JWT malformed, contained fewer than 3 sections"),null;try{const s=nD(n);return s?JSON.parse(s):(ef("Failed to decode base64 JWT payload"),null)}catch(s){return ef("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function ob(t){const e=Zw(t);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ks&&z6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function z6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=du(this.lastLoginAt),this.creationTime=du(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zf(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Vu(t,Yf(n,{idToken:r}));we(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?_D(i.providerUserInfo):[],a=q6(t.providerData,o),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new $v(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function W6(t){const e=Qt(t);await Zf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function q6(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function _D(t){return t.map(e=>{var{providerId:n}=e,r=bd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H6(t,e){const n=await yD(t,{},async()=>{const r=Td({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await vD(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",gD.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function K6(t,e){return ro(t,"POST","/v2/accounts:revokeToken",no(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ob(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=ob(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await H6(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new el;return r&&(we(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(we(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(we(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new el,this.toJSON())}_performRefresh(){return Cs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(t,e){we(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Cr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=bd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new B6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new $v(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Vu(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $6(this,e)}reload(){return W6(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Cr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Zf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ar(this.auth.app))return Promise.reject(Ns(this.auth));const e=await this.getIdToken();return await Vu(this,U6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,v=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,I=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,E=(u=n.createdAt)!==null&&u!==void 0?u:void 0,g=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:x,emailVerified:N,isAnonymous:k,providerData:M,stsTokenManager:T}=n;we(x&&T,e,"internal-error");const b=el.fromJSON(this.name,T);we(typeof x=="string",e,"internal-error"),ei(f,e.name),ei(p,e.name),we(typeof N=="boolean",e,"internal-error"),we(typeof k=="boolean",e,"internal-error"),ei(v,e.name),ei(I,e.name),ei(_,e.name),ei(S,e.name),ei(E,e.name),ei(g,e.name);const C=new Cr({uid:x,auth:e,email:p,emailVerified:N,displayName:f,isAnonymous:k,photoURL:I,phoneNumber:v,tenantId:_,stsTokenManager:b,createdAt:E,lastLoginAt:g});return M&&Array.isArray(M)&&(C.providerData=M.map(R=>Object.assign({},R))),S&&(C._redirectEventId=S),C}static async _fromIdTokenResponse(e,n,r=!1){const s=new el;s.updateFromServerResponse(n);const i=new Cr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Zf(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];we(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?_D(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new el;a.updateFromIdToken(r);const l=new Cr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new $v(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab=new Map;function As(t){$s(t instanceof Function,"Expected a class definition");let e=ab.get(t);return e?($s(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ab.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}wD.type="NONE";const lb=wD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(t,e,n){return`firebase:${t}:${e}:${n}`}class tl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=tf(this.userKey,s.apiKey,i),this.fullPersistenceKey=tf("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Yf(this.auth,{idToken:e}).catch(()=>{});return n?Cr._fromGetAccountInfoResponse(this.auth,n,e):null}return Cr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new tl(As(lb),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||As(lb);const o=tf(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let f;if(typeof d=="string"){const p=await Yf(e,{idToken:d}).catch(()=>{});if(!p)break;f=await Cr._fromGetAccountInfoResponse(e,p,d)}else f=Cr._fromJSON(e,d);u!==i&&(a=f),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new tl(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new tl(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ID(e))return"Blackberry";if(CD(e))return"Webos";if(ED(e))return"Safari";if((e.includes("chrome/")||TD(e))&&!e.includes("edge/"))return"Chrome";if(SD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function xD(t=wn()){return/firefox\//i.test(t)}function ED(t=wn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TD(t=wn()){return/crios\//i.test(t)}function bD(t=wn()){return/iemobile/i.test(t)}function SD(t=wn()){return/android/i.test(t)}function ID(t=wn()){return/blackberry/i.test(t)}function CD(t=wn()){return/webos/i.test(t)}function Xw(t=wn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function G6(t=wn()){var e;return Xw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Q6(){return oB()&&document.documentMode===10}function AD(t=wn()){return Xw(t)||SD(t)||CD(t)||ID(t)||/windows phone/i.test(t)||bD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(t,e=[]){let n;switch(t){case"Browser":n=cb(wn());break;case"Worker":n=`${cb(wn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${tc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z6(t,e={}){return ro(t,"GET","/v2/passwordPolicy",no(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6=6;class J6{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:X6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ub(this),this.idTokenSubscription=new ub(this),this.beforeStateQueue=new Y6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=As(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await tl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Yf(this,{idToken:e}),r=await Cr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ar(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Zf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=k6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ar(this.app))return Promise.reject(Ns(this));const n=e?Qt(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ar(this.app)?Promise.reject(Ns(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ar(this.app)?Promise.reject(Ns(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(As(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Z6(this),n=new J6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ed("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await K6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&As(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await tl.create(this,[As(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(ar(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&R6(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function sa(t){return Qt(t)}class ub{constructor(e){this.auth=e,this.observer=null,this.addObserver=pB(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function t8(t){lm=t}function PD(t){return lm.loadJS(t)}function n8(){return lm.recaptchaEnterpriseScript}function r8(){return lm.gapiScript}function s8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class i8{constructor(){this.enterprise=new o8}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class o8{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const a8="recaptcha-enterprise",ND="NO_RECAPTCHA";class l8{constructor(e){this.type=a8,this.auth=sa(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{F6(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new j6(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;ib(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(ND)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new i8().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&ib(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=n8();l.length!==0&&(l+=a),PD(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function db(t,e,n,r=!1,s=!1){const i=new l8(t);let o;if(s)o=ND;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function zv(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await db(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await db(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c8(t,e){const n=Gw(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Wo(i,e??{}))return s;Mr(s,"already-initialized")}return n.initialize({options:e})}function u8(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(As);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function d8(t,e,n){const r=sa(t);we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=kD(e),{host:o,port:a}=h8(e),l=a===null?"":`:${a}`,u={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){we(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),we(Wo(u,r.config.emulator)&&Wo(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,f8(),am(o)&&oD(`${i}//${o}${l}`)}function kD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function h8(t){const e=kD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:hb(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:hb(o)}}}function hb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function f8(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Cs("not implemented")}_getIdTokenResponse(e){return Cs("not implemented")}_linkToIdToken(e,n){return Cs("not implemented")}_getReauthenticationResolver(e){return Cs("not implemented")}}async function p8(t,e){return ro(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m8(t,e){return Id(t,"POST","/v1/accounts:signInWithPassword",no(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g8(t,e){return Id(t,"POST","/v1/accounts:signInWithEmailLink",no(t,e))}async function y8(t,e){return Id(t,"POST","/v1/accounts:signInWithEmailLink",no(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju extends Jw{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new ju(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ju(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zv(e,n,"signInWithPassword",m8);case"emailLink":return g8(e,{email:this._email,oobCode:this._password});default:Mr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zv(e,r,"signUpPassword",p8);case"emailLink":return y8(e,{idToken:n,email:this._email,oobCode:this._password});default:Mr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nl(t,e){return Id(t,"POST","/v1/accounts:signInWithIdp",no(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v8="http://localhost";class Ho extends Jw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ho(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Mr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=bd(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Ho(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return nl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,nl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,nl(e,n)}buildRequest(){const e={requestUri:v8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Td(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _8(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function w8(t){const e=Wc(qc(t)).link,n=e?Wc(qc(e)).deep_link_id:null,r=Wc(qc(t)).deep_link_id;return(r?Wc(qc(r)).link:null)||r||n||e||t}class e0{constructor(e){var n,r,s,i,o,a;const l=Wc(qc(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=_8((s=l.mode)!==null&&s!==void 0?s:null);we(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=w8(e);try{return new e0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(){this.providerId=nc.PROVIDER_ID}static credential(e,n){return ju._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=e0.parseLink(n);return we(r,"argument-error"),ju._fromEmailAndCode(e,r.code,r.tenantId)}}nc.PROVIDER_ID="password";nc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";nc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd extends DD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends Cd{constructor(){super("facebook.com")}static credential(e){return Ho._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return li.credential(e.oauthAccessToken)}catch{return null}}}li.FACEBOOK_SIGN_IN_METHOD="facebook.com";li.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends Cd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ho._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ci.credential(n,r)}catch{return null}}}ci.GOOGLE_SIGN_IN_METHOD="google.com";ci.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends Cd{constructor(){super("github.com")}static credential(e){return Ho._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ui.credential(e.oauthAccessToken)}catch{return null}}}ui.GITHUB_SIGN_IN_METHOD="github.com";ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends Cd{constructor(){super("twitter.com")}static credential(e,n){return Ho._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return di.credential(n,r)}catch{return null}}}di.TWITTER_SIGN_IN_METHOD="twitter.com";di.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x8(t,e){return Id(t,"POST","/v1/accounts:signUp",no(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Cr._fromIdTokenResponse(e,r,s),o=fb(r);return new Ko({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=fb(r);return new Ko({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function fb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf extends Ks{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Xf.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Xf(e,n,r,s)}}function OD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Xf._fromErrorAndOperation(t,i,e,r):i})}async function E8(t,e,n=!1){const r=await Vu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ko._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T8(t,e,n=!1){const{auth:r}=t;if(ar(r.app))return Promise.reject(Ns(r));const s="reauthenticate";try{const i=await Vu(t,OD(r,s,e,t),n);we(i.idToken,r,"internal-error");const o=Zw(i.idToken);we(o,r,"internal-error");const{sub:a}=o;return we(t.uid===a,r,"user-mismatch"),Ko._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Mr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MD(t,e,n=!1){if(ar(t.app))return Promise.reject(Ns(t));const r="signIn",s=await OD(t,r,e),i=await Ko._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function b8(t,e){return MD(sa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LD(t){const e=sa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function S8(t,e,n){if(ar(t.app))return Promise.reject(Ns(t));const r=sa(t),o=await zv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",x8).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&LD(t),l}),a=await Ko._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function I8(t,e,n){return ar(t.app)?Promise.reject(Ns(t)):b8(Qt(t),nc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&LD(t),r})}function C8(t,e,n,r){return Qt(t).onIdTokenChanged(e,n,r)}function A8(t,e,n){return Qt(t).beforeAuthStateChanged(e,n)}function R8(t,e,n,r){return Qt(t).onAuthStateChanged(e,n,r)}function P8(t){return Qt(t).signOut()}const Jf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jf,"1"),this.storage.removeItem(Jf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N8=1e3,k8=10;class jD extends VD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Q6()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,k8):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},N8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jD.type="LOCAL";const D8=jD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD extends VD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}FD.type="SESSION";const UD=FD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O8(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new cm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await O8(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=t0("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(){return window}function L8(t){rs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(){return typeof rs().WorkerGlobalScope<"u"&&typeof rs().importScripts=="function"}async function V8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function j8(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function F8(){return $D()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD="firebaseLocalStorageDb",U8=1,ep="firebaseLocalStorage",BD="fbase_key";class Ad{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function um(t,e){return t.transaction([ep],e?"readwrite":"readonly").objectStore(ep)}function $8(){const t=indexedDB.deleteDatabase(zD);return new Ad(t).toPromise()}function Bv(){const t=indexedDB.open(zD,U8);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ep,{keyPath:BD})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ep)?e(r):(r.close(),await $8(),e(await Bv()))})})}async function pb(t,e,n){const r=um(t,!0).put({[BD]:e,value:n});return new Ad(r).toPromise()}async function z8(t,e){const n=um(t,!1).get(e),r=await new Ad(n).toPromise();return r===void 0?null:r.value}function mb(t,e){const n=um(t,!0).delete(e);return new Ad(n).toPromise()}const B8=800,W8=3;class WD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>W8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $D()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cm._getInstance(F8()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await V8(),!this.activeServiceWorker)return;this.sender=new M8(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||j8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bv();return await pb(e,Jf,"1"),await mb(e,Jf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>pb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>z8(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>mb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=um(s,!1).getAll();return new Ad(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),B8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WD.type="LOCAL";const q8=WD;new Sd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H8(t,e){return e?As(e):(we(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0 extends Jw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return nl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return nl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function K8(t){return MD(t.auth,new n0(t),t.bypassAuthState)}function G8(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),T8(n,new n0(t),t.bypassAuthState)}async function Q8(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),E8(n,new n0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return K8;case"linkViaPopup":case"linkViaRedirect":return Q8;case"reauthViaPopup":case"reauthViaRedirect":return G8;default:Mr(this.auth,"internal-error")}}resolve(e){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y8=new Sd(2e3,1e4);class Ua extends qD{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ua.currentPopupAction&&Ua.currentPopupAction.cancel(),Ua.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){$s(this.filter.length===1,"Popup operations only handle one event");const e=t0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ns(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ns(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ua.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ns(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Y8.get())};e()}}Ua.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z8="pendingRedirect",nf=new Map;class X8 extends qD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=nf.get(this.auth._key());if(!e){try{const r=await J8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}nf.set(this.auth._key(),e)}return this.bypassAuthState||nf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function J8(t,e){const n=n7(e),r=t7(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function e7(t,e){nf.set(t._key(),e)}function t7(t){return As(t._redirectPersistence)}function n7(t){return tf(Z8,t.config.apiKey,t.name)}async function r7(t,e,n=!1){if(ar(t.app))return Promise.reject(Ns(t));const r=sa(t),s=H8(r,e),o=await new X8(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s7=10*60*1e3;class i7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!o7(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!HD(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ns(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=s7&&this.cachedEventUids.clear(),this.cachedEventUids.has(gb(e))}saveEventToCache(e){this.cachedEventUids.add(gb(e)),this.lastProcessedEventTime=Date.now()}}function gb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function HD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function o7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a7(t,e={}){return ro(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c7=/^https?/;async function u7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await a7(t);for(const n of e)try{if(d7(n))return}catch{}Mr(t,"unauthorized-domain")}function d7(t){const e=Uv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!c7.test(n))return!1;if(l7.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h7=new Sd(3e4,6e4);function yb(){const t=rs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function f7(t){return new Promise((e,n)=>{var r,s,i;function o(){yb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yb(),n(ns(t,"network-request-failed"))},timeout:h7.get()})}if(!((s=(r=rs().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=rs().gapi)===null||i===void 0)&&i.load)o();else{const a=s8("iframefcb");return rs()[a]=()=>{gapi.load?o():n(ns(t,"network-request-failed"))},PD(`${r8()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw rf=null,e})}let rf=null;function p7(t){return rf=rf||f7(t),rf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m7=new Sd(5e3,15e3),g7="__/auth/iframe",y7="emulator/auth/iframe",v7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function w7(t){const e=t.config;we(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Yw(e,y7):`https://${t.config.authDomain}/${g7}`,r={apiKey:e.apiKey,appName:t.name,v:tc},s=_7.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Td(r).slice(1)}`}async function x7(t){const e=await p7(t),n=rs().gapi;return we(n,t,"internal-error"),e.open({where:document.body,url:w7(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:v7,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=ns(t,"network-request-failed"),a=rs().setTimeout(()=>{i(o)},m7.get());function l(){rs().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},T7=500,b7=600,S7="_blank",I7="http://localhost";class vb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function C7(t,e,n,r=T7,s=b7){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},E7),{width:r.toString(),height:s.toString(),top:i,left:o}),u=wn().toLowerCase();n&&(a=TD(u)?S7:n),xD(u)&&(e=e||I7,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[v,I])=>`${p}${v}=${I},`,"");if(G6(u)&&a!=="_self")return A7(e||"",a),new vb(null);const f=window.open(e||"",a,d);we(f,t,"popup-blocked");try{f.focus()}catch{}return new vb(f)}function A7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R7="__/auth/handler",P7="emulator/auth/handler",N7=encodeURIComponent("fac");async function _b(t,e,n,r,s,i){we(t.config.authDomain,t,"auth-domain-config-required"),we(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:tc,eventId:s};if(e instanceof DD){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",fB(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof Cd){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${N7}=${encodeURIComponent(l)}`:"";return`${k7(t)}?${Td(a).slice(1)}${u}`}function k7({config:t}){return t.emulator?Yw(t,P7):`https://${t.authDomain}/${R7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg="webStorageSupport";class D7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UD,this._completeRedirectFn=r7,this._overrideRedirectResult=e7}async _openPopup(e,n,r,s){var i;$s((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await _b(e,n,r,Uv(),s);return C7(e,o,t0())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await _b(e,n,r,Uv(),s);return L8(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):($s(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await x7(e),r=new i7(e);return n.register("authEvent",s=>(we(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Bg,{type:Bg},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Bg];o!==void 0&&n(!!o),Mr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=u7(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return AD()||ED()||Xw()}}const O7=D7;var wb="@firebase/auth",xb="1.10.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function V7(t){Ol(new qo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;we(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RD(t)},u=new e8(r,s,i,l);return u8(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ol(new qo("auth-internal",e=>{const n=sa(e.getProvider("auth").getImmediate());return(r=>new M7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mi(wb,xb,L7(t)),Mi(wb,xb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j7=5*60,F7=iD("authIdTokenMaxAge")||j7;let Eb=null;const U7=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>F7)return;const s=n==null?void 0:n.token;Eb!==s&&(Eb=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function $7(t=uD()){const e=Gw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=c8(t,{popupRedirectResolver:O7,persistence:[q8,D8,UD]}),r=iD("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=U7(i.toString());A8(n,o,()=>o(n.currentUser)),C8(n,a=>o(a))}}const s=rD("auth");return s&&d8(n,`http://${s}`),n}function z7(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}t8({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=ns("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",z7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});V7("Browser");var Tb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Li,KD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,b){function C(){}C.prototype=b.prototype,T.D=b.prototype,T.prototype=new C,T.prototype.constructor=T,T.C=function(R,O,D){for(var P=Array(arguments.length-2),H=2;H<arguments.length;H++)P[H-2]=arguments[H];return b.prototype[O].apply(R,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,b,C){C||(C=0);var R=Array(16);if(typeof b=="string")for(var O=0;16>O;++O)R[O]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(O=0;16>O;++O)R[O]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=T.g[0],C=T.g[1],O=T.g[2];var D=T.g[3],P=b+(D^C&(O^D))+R[0]+3614090360&4294967295;b=C+(P<<7&4294967295|P>>>25),P=D+(O^b&(C^O))+R[1]+3905402710&4294967295,D=b+(P<<12&4294967295|P>>>20),P=O+(C^D&(b^C))+R[2]+606105819&4294967295,O=D+(P<<17&4294967295|P>>>15),P=C+(b^O&(D^b))+R[3]+3250441966&4294967295,C=O+(P<<22&4294967295|P>>>10),P=b+(D^C&(O^D))+R[4]+4118548399&4294967295,b=C+(P<<7&4294967295|P>>>25),P=D+(O^b&(C^O))+R[5]+1200080426&4294967295,D=b+(P<<12&4294967295|P>>>20),P=O+(C^D&(b^C))+R[6]+2821735955&4294967295,O=D+(P<<17&4294967295|P>>>15),P=C+(b^O&(D^b))+R[7]+4249261313&4294967295,C=O+(P<<22&4294967295|P>>>10),P=b+(D^C&(O^D))+R[8]+1770035416&4294967295,b=C+(P<<7&4294967295|P>>>25),P=D+(O^b&(C^O))+R[9]+2336552879&4294967295,D=b+(P<<12&4294967295|P>>>20),P=O+(C^D&(b^C))+R[10]+4294925233&4294967295,O=D+(P<<17&4294967295|P>>>15),P=C+(b^O&(D^b))+R[11]+2304563134&4294967295,C=O+(P<<22&4294967295|P>>>10),P=b+(D^C&(O^D))+R[12]+1804603682&4294967295,b=C+(P<<7&4294967295|P>>>25),P=D+(O^b&(C^O))+R[13]+4254626195&4294967295,D=b+(P<<12&4294967295|P>>>20),P=O+(C^D&(b^C))+R[14]+2792965006&4294967295,O=D+(P<<17&4294967295|P>>>15),P=C+(b^O&(D^b))+R[15]+1236535329&4294967295,C=O+(P<<22&4294967295|P>>>10),P=b+(O^D&(C^O))+R[1]+4129170786&4294967295,b=C+(P<<5&4294967295|P>>>27),P=D+(C^O&(b^C))+R[6]+3225465664&4294967295,D=b+(P<<9&4294967295|P>>>23),P=O+(b^C&(D^b))+R[11]+643717713&4294967295,O=D+(P<<14&4294967295|P>>>18),P=C+(D^b&(O^D))+R[0]+3921069994&4294967295,C=O+(P<<20&4294967295|P>>>12),P=b+(O^D&(C^O))+R[5]+3593408605&4294967295,b=C+(P<<5&4294967295|P>>>27),P=D+(C^O&(b^C))+R[10]+38016083&4294967295,D=b+(P<<9&4294967295|P>>>23),P=O+(b^C&(D^b))+R[15]+3634488961&4294967295,O=D+(P<<14&4294967295|P>>>18),P=C+(D^b&(O^D))+R[4]+3889429448&4294967295,C=O+(P<<20&4294967295|P>>>12),P=b+(O^D&(C^O))+R[9]+568446438&4294967295,b=C+(P<<5&4294967295|P>>>27),P=D+(C^O&(b^C))+R[14]+3275163606&4294967295,D=b+(P<<9&4294967295|P>>>23),P=O+(b^C&(D^b))+R[3]+4107603335&4294967295,O=D+(P<<14&4294967295|P>>>18),P=C+(D^b&(O^D))+R[8]+1163531501&4294967295,C=O+(P<<20&4294967295|P>>>12),P=b+(O^D&(C^O))+R[13]+2850285829&4294967295,b=C+(P<<5&4294967295|P>>>27),P=D+(C^O&(b^C))+R[2]+4243563512&4294967295,D=b+(P<<9&4294967295|P>>>23),P=O+(b^C&(D^b))+R[7]+1735328473&4294967295,O=D+(P<<14&4294967295|P>>>18),P=C+(D^b&(O^D))+R[12]+2368359562&4294967295,C=O+(P<<20&4294967295|P>>>12),P=b+(C^O^D)+R[5]+4294588738&4294967295,b=C+(P<<4&4294967295|P>>>28),P=D+(b^C^O)+R[8]+2272392833&4294967295,D=b+(P<<11&4294967295|P>>>21),P=O+(D^b^C)+R[11]+1839030562&4294967295,O=D+(P<<16&4294967295|P>>>16),P=C+(O^D^b)+R[14]+4259657740&4294967295,C=O+(P<<23&4294967295|P>>>9),P=b+(C^O^D)+R[1]+2763975236&4294967295,b=C+(P<<4&4294967295|P>>>28),P=D+(b^C^O)+R[4]+1272893353&4294967295,D=b+(P<<11&4294967295|P>>>21),P=O+(D^b^C)+R[7]+4139469664&4294967295,O=D+(P<<16&4294967295|P>>>16),P=C+(O^D^b)+R[10]+3200236656&4294967295,C=O+(P<<23&4294967295|P>>>9),P=b+(C^O^D)+R[13]+681279174&4294967295,b=C+(P<<4&4294967295|P>>>28),P=D+(b^C^O)+R[0]+3936430074&4294967295,D=b+(P<<11&4294967295|P>>>21),P=O+(D^b^C)+R[3]+3572445317&4294967295,O=D+(P<<16&4294967295|P>>>16),P=C+(O^D^b)+R[6]+76029189&4294967295,C=O+(P<<23&4294967295|P>>>9),P=b+(C^O^D)+R[9]+3654602809&4294967295,b=C+(P<<4&4294967295|P>>>28),P=D+(b^C^O)+R[12]+3873151461&4294967295,D=b+(P<<11&4294967295|P>>>21),P=O+(D^b^C)+R[15]+530742520&4294967295,O=D+(P<<16&4294967295|P>>>16),P=C+(O^D^b)+R[2]+3299628645&4294967295,C=O+(P<<23&4294967295|P>>>9),P=b+(O^(C|~D))+R[0]+4096336452&4294967295,b=C+(P<<6&4294967295|P>>>26),P=D+(C^(b|~O))+R[7]+1126891415&4294967295,D=b+(P<<10&4294967295|P>>>22),P=O+(b^(D|~C))+R[14]+2878612391&4294967295,O=D+(P<<15&4294967295|P>>>17),P=C+(D^(O|~b))+R[5]+4237533241&4294967295,C=O+(P<<21&4294967295|P>>>11),P=b+(O^(C|~D))+R[12]+1700485571&4294967295,b=C+(P<<6&4294967295|P>>>26),P=D+(C^(b|~O))+R[3]+2399980690&4294967295,D=b+(P<<10&4294967295|P>>>22),P=O+(b^(D|~C))+R[10]+4293915773&4294967295,O=D+(P<<15&4294967295|P>>>17),P=C+(D^(O|~b))+R[1]+2240044497&4294967295,C=O+(P<<21&4294967295|P>>>11),P=b+(O^(C|~D))+R[8]+1873313359&4294967295,b=C+(P<<6&4294967295|P>>>26),P=D+(C^(b|~O))+R[15]+4264355552&4294967295,D=b+(P<<10&4294967295|P>>>22),P=O+(b^(D|~C))+R[6]+2734768916&4294967295,O=D+(P<<15&4294967295|P>>>17),P=C+(D^(O|~b))+R[13]+1309151649&4294967295,C=O+(P<<21&4294967295|P>>>11),P=b+(O^(C|~D))+R[4]+4149444226&4294967295,b=C+(P<<6&4294967295|P>>>26),P=D+(C^(b|~O))+R[11]+3174756917&4294967295,D=b+(P<<10&4294967295|P>>>22),P=O+(b^(D|~C))+R[2]+718787259&4294967295,O=D+(P<<15&4294967295|P>>>17),P=C+(D^(O|~b))+R[9]+3951481745&4294967295,T.g[0]=T.g[0]+b&4294967295,T.g[1]=T.g[1]+(O+(P<<21&4294967295|P>>>11))&4294967295,T.g[2]=T.g[2]+O&4294967295,T.g[3]=T.g[3]+D&4294967295}r.prototype.u=function(T,b){b===void 0&&(b=T.length);for(var C=b-this.blockSize,R=this.B,O=this.h,D=0;D<b;){if(O==0)for(;D<=C;)s(this,T,D),D+=this.blockSize;if(typeof T=="string"){for(;D<b;)if(R[O++]=T.charCodeAt(D++),O==this.blockSize){s(this,R),O=0;break}}else for(;D<b;)if(R[O++]=T[D++],O==this.blockSize){s(this,R),O=0;break}}this.h=O,this.o+=b},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var b=1;b<T.length-8;++b)T[b]=0;var C=8*this.o;for(b=T.length-8;b<T.length;++b)T[b]=C&255,C/=256;for(this.u(T),T=Array(16),b=C=0;4>b;++b)for(var R=0;32>R;R+=8)T[C++]=this.g[b]>>>R&255;return T};function i(T,b){var C=a;return Object.prototype.hasOwnProperty.call(C,T)?C[T]:C[T]=b(T)}function o(T,b){this.h=b;for(var C=[],R=!0,O=T.length-1;0<=O;O--){var D=T[O]|0;R&&D==b||(C[O]=D,R=!1)}this.g=C}var a={};function l(T){return-128<=T&&128>T?i(T,function(b){return new o([b|0],0>b?-1:0)}):new o([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return S(u(-T));for(var b=[],C=1,R=0;T>=C;R++)b[R]=T/C|0,C*=4294967296;return new o(b,0)}function d(T,b){if(T.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(T.charAt(0)=="-")return S(d(T.substring(1),b));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=u(Math.pow(b,8)),R=f,O=0;O<T.length;O+=8){var D=Math.min(8,T.length-O),P=parseInt(T.substring(O,O+D),b);8>D?(D=u(Math.pow(b,D)),R=R.j(D).add(u(P))):(R=R.j(C),R=R.add(u(P)))}return R}var f=l(0),p=l(1),v=l(16777216);t=o.prototype,t.m=function(){if(_(this))return-S(this).m();for(var T=0,b=1,C=0;C<this.g.length;C++){var R=this.i(C);T+=(0<=R?R:4294967296+R)*b,b*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(I(this))return"0";if(_(this))return"-"+S(this).toString(T);for(var b=u(Math.pow(T,6)),C=this,R="";;){var O=N(C,b).g;C=E(C,O.j(b));var D=((0<C.g.length?C.g[0]:C.h)>>>0).toString(T);if(C=O,I(C))return D+R;for(;6>D.length;)D="0"+D;R=D+R}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function I(T){if(T.h!=0)return!1;for(var b=0;b<T.g.length;b++)if(T.g[b]!=0)return!1;return!0}function _(T){return T.h==-1}t.l=function(T){return T=E(this,T),_(T)?-1:I(T)?0:1};function S(T){for(var b=T.g.length,C=[],R=0;R<b;R++)C[R]=~T.g[R];return new o(C,~T.h).add(p)}t.abs=function(){return _(this)?S(this):this},t.add=function(T){for(var b=Math.max(this.g.length,T.g.length),C=[],R=0,O=0;O<=b;O++){var D=R+(this.i(O)&65535)+(T.i(O)&65535),P=(D>>>16)+(this.i(O)>>>16)+(T.i(O)>>>16);R=P>>>16,D&=65535,P&=65535,C[O]=P<<16|D}return new o(C,C[C.length-1]&-2147483648?-1:0)};function E(T,b){return T.add(S(b))}t.j=function(T){if(I(this)||I(T))return f;if(_(this))return _(T)?S(this).j(S(T)):S(S(this).j(T));if(_(T))return S(this.j(S(T)));if(0>this.l(v)&&0>T.l(v))return u(this.m()*T.m());for(var b=this.g.length+T.g.length,C=[],R=0;R<2*b;R++)C[R]=0;for(R=0;R<this.g.length;R++)for(var O=0;O<T.g.length;O++){var D=this.i(R)>>>16,P=this.i(R)&65535,H=T.i(O)>>>16,B=T.i(O)&65535;C[2*R+2*O]+=P*B,g(C,2*R+2*O),C[2*R+2*O+1]+=D*B,g(C,2*R+2*O+1),C[2*R+2*O+1]+=P*H,g(C,2*R+2*O+1),C[2*R+2*O+2]+=D*H,g(C,2*R+2*O+2)}for(R=0;R<b;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=b;R<2*b;R++)C[R]=0;return new o(C,0)};function g(T,b){for(;(T[b]&65535)!=T[b];)T[b+1]+=T[b]>>>16,T[b]&=65535,b++}function x(T,b){this.g=T,this.h=b}function N(T,b){if(I(b))throw Error("division by zero");if(I(T))return new x(f,f);if(_(T))return b=N(S(T),b),new x(S(b.g),S(b.h));if(_(b))return b=N(T,S(b)),new x(S(b.g),b.h);if(30<T.g.length){if(_(T)||_(b))throw Error("slowDivide_ only works with positive integers.");for(var C=p,R=b;0>=R.l(T);)C=k(C),R=k(R);var O=M(C,1),D=M(R,1);for(R=M(R,2),C=M(C,2);!I(R);){var P=D.add(R);0>=P.l(T)&&(O=O.add(C),D=P),R=M(R,1),C=M(C,1)}return b=E(T,O.j(b)),new x(O,b)}for(O=f;0<=T.l(b);){for(C=Math.max(1,Math.floor(T.m()/b.m())),R=Math.ceil(Math.log(C)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),D=u(C),P=D.j(b);_(P)||0<P.l(T);)C-=R,D=u(C),P=D.j(b);I(D)&&(D=p),O=O.add(D),T=E(T,P)}return new x(O,T)}t.A=function(T){return N(this,T).h},t.and=function(T){for(var b=Math.max(this.g.length,T.g.length),C=[],R=0;R<b;R++)C[R]=this.i(R)&T.i(R);return new o(C,this.h&T.h)},t.or=function(T){for(var b=Math.max(this.g.length,T.g.length),C=[],R=0;R<b;R++)C[R]=this.i(R)|T.i(R);return new o(C,this.h|T.h)},t.xor=function(T){for(var b=Math.max(this.g.length,T.g.length),C=[],R=0;R<b;R++)C[R]=this.i(R)^T.i(R);return new o(C,this.h^T.h)};function k(T){for(var b=T.g.length+1,C=[],R=0;R<b;R++)C[R]=T.i(R)<<1|T.i(R-1)>>>31;return new o(C,T.h)}function M(T,b){var C=b>>5;b%=32;for(var R=T.g.length-C,O=[],D=0;D<R;D++)O[D]=0<b?T.i(D+C)>>>b|T.i(D+C+1)<<32-b:T.i(D+C);return new o(O,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,KD=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Li=o}).apply(typeof Tb<"u"?Tb:typeof self<"u"?self:typeof window<"u"?window:{});var Ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var GD,Hc,QD,sf,Wv,YD,ZD,XD;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,w){return c==Array.prototype||c==Object.prototype||(c[m]=w.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ch=="object"&&Ch];for(var m=0;m<c.length;++m){var w=c[m];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function s(c,m){if(m)e:{var w=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var F=c[A];if(!(F in w))break e;w=w[F]}c=c[c.length-1],A=w[c],m=m(A),m!=A&&m!=null&&e(w,c,{configurable:!0,writable:!0,value:m})}}function i(c,m){c instanceof String&&(c+="");var w=0,A=!1,F={next:function(){if(!A&&w<c.length){var z=w++;return{value:m(z,c[z]),done:!1}}return A=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}s("Array.prototype.values",function(c){return c||function(){return i(this,function(m,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function u(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function d(c,m,w){return c.call.apply(c.bind,arguments)}function f(c,m,w){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,A),c.apply(m,F)}}return function(){return c.apply(m,arguments)}}function p(c,m,w){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,p.apply(null,arguments)}function v(c,m){var w=Array.prototype.slice.call(arguments,1);return function(){var A=w.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function I(c,m){function w(){}w.prototype=m.prototype,c.aa=m.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(A,F,z){for(var ne=Array(arguments.length-2),st=2;st<arguments.length;st++)ne[st-2]=arguments[st];return m.prototype[F].apply(A,ne)}}function _(c){const m=c.length;if(0<m){const w=Array(m);for(let A=0;A<m;A++)w[A]=c[A];return w}return[]}function S(c,m){for(let w=1;w<arguments.length;w++){const A=arguments[w];if(l(A)){const F=c.length||0,z=A.length||0;c.length=F+z;for(let ne=0;ne<z;ne++)c[F+ne]=A[ne]}else c.push(A)}}class E{constructor(m,w){this.i=m,this.j=w,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function g(c){return/^[\s\xa0]*$/.test(c)}function x(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function N(c){return N[" "](c),c}N[" "]=function(){};var k=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function M(c,m,w){for(const A in c)m.call(w,c[A],A,c)}function T(c,m){for(const w in c)m.call(void 0,c[w],w,c)}function b(c){const m={};for(const w in c)m[w]=c[w];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(c,m){let w,A;for(let F=1;F<arguments.length;F++){A=arguments[F];for(w in A)c[w]=A[w];for(let z=0;z<C.length;z++)w=C[z],Object.prototype.hasOwnProperty.call(A,w)&&(c[w]=A[w])}}function O(c){var m=1;c=c.split(":");const w=[];for(;0<m&&c.length;)w.push(c.shift()),m--;return c.length&&w.push(c.join(":")),w}function D(c){a.setTimeout(()=>{throw c},0)}function P(){var c=W;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class H{constructor(){this.h=this.g=null}add(m,w){const A=B.get();A.set(m,w),this.h?this.h.next=A:this.g=A,this.h=A}}var B=new E(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(m,w){this.h=m,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let te,$=!1,W=new H,re=()=>{const c=a.Promise.resolve(void 0);te=()=>{c.then(me)}};var me=()=>{for(var c;c=P();){try{c.h.call(c.g)}catch(w){D(w)}var m=B;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}$=!1};function _e(){this.s=this.s,this.C=this.C}_e.prototype.s=!1,_e.prototype.ma=function(){this.s||(this.s=!0,this.N())},_e.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function De(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}De.prototype.h=function(){this.defaultPrevented=!0};var rt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};a.addEventListener("test",w,m),a.removeEventListener("test",w,m)}catch{}return c}();function Et(c,m){if(De.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(k){e:{try{N(m.nodeName);var F=!0;break e}catch{}F=!1}F||(m=null)}}else w=="mouseover"?m=c.fromElement:w=="mouseout"&&(m=c.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ot[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Et.aa.h.call(this)}}I(Et,De);var ot={2:"touch",3:"pen",4:"mouse"};Et.prototype.h=function(){Et.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var pe="closure_listenable_"+(1e6*Math.random()|0),Qe=0;function Ye(c,m,w,A,F){this.listener=c,this.proxy=null,this.src=m,this.type=w,this.capture=!!A,this.ha=F,this.key=++Qe,this.da=this.fa=!1}function Le(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ve(c){this.src=c,this.g={},this.h=0}Ve.prototype.add=function(c,m,w,A,F){var z=c.toString();c=this.g[z],c||(c=this.g[z]=[],this.h++);var ne=jt(c,m,A,F);return-1<ne?(m=c[ne],w||(m.fa=!1)):(m=new Ye(m,this.src,z,!!A,F),m.fa=w,c.push(m)),m};function ze(c,m){var w=m.type;if(w in c.g){var A=c.g[w],F=Array.prototype.indexOf.call(A,m,void 0),z;(z=0<=F)&&Array.prototype.splice.call(A,F,1),z&&(Le(m),c.g[w].length==0&&(delete c.g[w],c.h--))}}function jt(c,m,w,A){for(var F=0;F<c.length;++F){var z=c[F];if(!z.da&&z.listener==m&&z.capture==!!w&&z.ha==A)return F}return-1}var Zt="closure_lm_"+(1e6*Math.random()|0),mr={};function gr(c,m,w,A,F){if(Array.isArray(m)){for(var z=0;z<m.length;z++)gr(c,m[z],w,A,F);return null}return w=oe(w),c&&c[pe]?c.K(m,w,u(A)?!!A.capture:!!A,F):Ur(c,m,w,!1,A,F)}function Ur(c,m,w,A,F,z){if(!m)throw Error("Invalid event type");var ne=u(F)?!!F.capture:!!F,st=U(c);if(st||(c[Zt]=st=new Ve(c)),w=st.add(m,w,A,ne,z),w.proxy)return w;if(A=dc(),w.proxy=A,A.src=c,A.listener=w,c.addEventListener)rt||(F=ne),F===void 0&&(F=!1),c.addEventListener(m.toString(),A,F);else if(c.attachEvent)c.attachEvent(hc(m.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return w}function dc(){function c(w){return m.call(c.src,c.listener,w)}const m=L;return c}function fs(c,m,w,A,F){if(Array.isArray(m))for(var z=0;z<m.length;z++)fs(c,m[z],w,A,F);else A=u(A)?!!A.capture:!!A,w=oe(w),c&&c[pe]?(c=c.i,m=String(m).toString(),m in c.g&&(z=c.g[m],w=jt(z,w,A,F),-1<w&&(Le(z[w]),Array.prototype.splice.call(z,w,1),z.length==0&&(delete c.g[m],c.h--)))):c&&(c=U(c))&&(m=c.g[m.toString()],c=-1,m&&(c=jt(m,w,A,F)),(w=-1<c?m[c]:null)&&$d(w))}function $d(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[pe])ze(m.i,c);else{var w=c.type,A=c.proxy;m.removeEventListener?m.removeEventListener(w,A,c.capture):m.detachEvent?m.detachEvent(hc(w),A):m.addListener&&m.removeListener&&m.removeListener(A),(w=U(m))?(ze(w,c),w.h==0&&(w.src=null,m[Zt]=null)):Le(c)}}}function hc(c){return c in mr?mr[c]:mr[c]="on"+c}function L(c,m){if(c.da)c=!0;else{m=new Et(m,this);var w=c.listener,A=c.ha||c.src;c.fa&&$d(c),c=w.call(A,m)}return c}function U(c){return c=c[Zt],c instanceof Ve?c:null}var q="__closure_events_fn_"+(1e9*Math.random()>>>0);function oe(c){return typeof c=="function"?c:(c[q]||(c[q]=function(m){return c.handleEvent(m)}),c[q])}function J(){_e.call(this),this.i=new Ve(this),this.M=this,this.F=null}I(J,_e),J.prototype[pe]=!0,J.prototype.removeEventListener=function(c,m,w,A){fs(this,c,m,w,A)};function Z(c,m){var w,A=c.F;if(A)for(w=[];A;A=A.F)w.push(A);if(c=c.M,A=m.type||m,typeof m=="string")m=new De(m,c);else if(m instanceof De)m.target=m.target||c;else{var F=m;m=new De(A,c),R(m,F)}if(F=!0,w)for(var z=w.length-1;0<=z;z--){var ne=m.g=w[z];F=he(ne,A,!0,m)&&F}if(ne=m.g=c,F=he(ne,A,!0,m)&&F,F=he(ne,A,!1,m)&&F,w)for(z=0;z<w.length;z++)ne=m.g=w[z],F=he(ne,A,!1,m)&&F}J.prototype.N=function(){if(J.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var w=c.g[m],A=0;A<w.length;A++)Le(w[A]);delete c.g[m],c.h--}}this.F=null},J.prototype.K=function(c,m,w,A){return this.i.add(String(c),m,!1,w,A)},J.prototype.L=function(c,m,w,A){return this.i.add(String(c),m,!0,w,A)};function he(c,m,w,A){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var F=!0,z=0;z<m.length;++z){var ne=m[z];if(ne&&!ne.da&&ne.capture==w){var st=ne.listener,Xt=ne.ha||ne.src;ne.fa&&ze(c.i,ne),F=st.call(Xt,A)!==!1&&F}}return F&&!A.defaultPrevented}function Be(c,m,w){if(typeof c=="function")w&&(c=p(c,w));else if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(c,m||0)}function pt(c){c.g=Be(()=>{c.g=null,c.i&&(c.i=!1,pt(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Wt extends _e{constructor(m,w){super(),this.m=m,this.l=w,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:pt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lo(c){_e.call(this),this.h=c,this.g={}}I(lo,_e);var da=[];function ha(c){M(c.g,function(m,w){this.g.hasOwnProperty(w)&&$d(m)},c),c.g={}}lo.prototype.N=function(){lo.aa.N.call(this),ha(this)},lo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fc=a.JSON.stringify,zd=a.JSON.parse,Um=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function fa(){}fa.prototype.h=null;function hx(c){return c.h||(c.h=c.i())}function fx(){}var pc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $m(){De.call(this,"d")}I($m,De);function zm(){De.call(this,"c")}I(zm,De);var co={},px=null;function Bd(){return px=px||new J}co.La="serverreachability";function mx(c){De.call(this,co.La,c)}I(mx,De);function mc(c){const m=Bd();Z(m,new mx(m))}co.STAT_EVENT="statevent";function gx(c,m){De.call(this,co.STAT_EVENT,c),this.stat=m}I(gx,De);function En(c){const m=Bd();Z(m,new gx(m,c))}co.Ma="timingevent";function yx(c,m){De.call(this,co.Ma,c),this.size=m}I(yx,De);function gc(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},m)}function yc(){this.g=!0}yc.prototype.xa=function(){this.g=!1};function uF(c,m,w,A,F,z){c.info(function(){if(c.g)if(z)for(var ne="",st=z.split("&"),Xt=0;Xt<st.length;Xt++){var Ze=st[Xt].split("=");if(1<Ze.length){var an=Ze[0];Ze=Ze[1];var ln=an.split("_");ne=2<=ln.length&&ln[1]=="type"?ne+(an+"="+Ze+"&"):ne+(an+"=redacted&")}}else ne=null;else ne=z;return"XMLHTTP REQ ("+A+") [attempt "+F+"]: "+m+`
`+w+`
`+ne})}function dF(c,m,w,A,F,z,ne){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+F+"]: "+m+`
`+w+`
`+z+" "+ne})}function pa(c,m,w,A){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+fF(c,w)+(A?" "+A:"")})}function hF(c,m){c.info(function(){return"TIMEOUT: "+m})}yc.prototype.info=function(){};function fF(c,m){if(!c.g)return m;if(!m)return null;try{var w=JSON.parse(m);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var A=w[c];if(!(2>A.length)){var F=A[1];if(Array.isArray(F)&&!(1>F.length)){var z=F[0];if(z!="noop"&&z!="stop"&&z!="close")for(var ne=1;ne<F.length;ne++)F[ne]=""}}}}return fc(w)}catch{return m}}var Wd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vx={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bm;function qd(){}I(qd,fa),qd.prototype.g=function(){return new XMLHttpRequest},qd.prototype.i=function(){return{}},Bm=new qd;function Gs(c,m,w,A){this.j=c,this.i=m,this.l=w,this.R=A||1,this.U=new lo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _x}function _x(){this.i=null,this.g="",this.h=!1}var wx={},Wm={};function qm(c,m,w){c.L=1,c.v=Qd(ps(m)),c.m=w,c.P=!0,xx(c,null)}function xx(c,m){c.F=Date.now(),Hd(c),c.A=ps(c.v);var w=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Mx(w.i,"t",A),c.C=0,w=c.j.J,c.h=new _x,c.g=Jx(c.j,w?m:null,!c.m),0<c.O&&(c.M=new Wt(p(c.Y,c,c.g),c.O)),m=c.U,w=c.g,A=c.ca;var F="readystatechange";Array.isArray(F)||(F&&(da[0]=F.toString()),F=da);for(var z=0;z<F.length;z++){var ne=gr(w,F[z],A||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),mc(),uF(c.i,c.u,c.A,c.l,c.R,c.m)}Gs.prototype.ca=function(c){c=c.target;const m=this.M;m&&ms(c)==3?m.j():this.Y(c)},Gs.prototype.Y=function(c){try{if(c==this.g)e:{const ln=ms(this.g);var m=this.g.Ba();const ya=this.g.Z();if(!(3>ln)&&(ln!=3||this.g&&(this.h.h||this.g.oa()||zx(this.g)))){this.J||ln!=4||m==7||(m==8||0>=ya?mc(3):mc(2)),Hm(this);var w=this.g.Z();this.X=w;t:if(Ex(this)){var A=zx(this.g);c="";var F=A.length,z=ms(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){uo(this),vc(this);var ne="";break t}this.h.i=new a.TextDecoder}for(m=0;m<F;m++)this.h.h=!0,c+=this.h.i.decode(A[m],{stream:!(z&&m==F-1)});A.length=0,this.h.g+=c,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=w==200,dF(this.i,this.u,this.A,this.l,this.R,ln,w),this.o){if(this.T&&!this.K){t:{if(this.g){var st,Xt=this.g;if((st=Xt.g?Xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!g(st)){var Ze=st;break t}}Ze=null}if(w=Ze)pa(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Km(this,w);else{this.o=!1,this.s=3,En(12),uo(this),vc(this);break e}}if(this.P){w=!0;let yr;for(;!this.J&&this.C<ne.length;)if(yr=pF(this,ne),yr==Wm){ln==4&&(this.s=4,En(14),w=!1),pa(this.i,this.l,null,"[Incomplete Response]");break}else if(yr==wx){this.s=4,En(15),pa(this.i,this.l,ne,"[Invalid Chunk]"),w=!1;break}else pa(this.i,this.l,yr,null),Km(this,yr);if(Ex(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ln!=4||ne.length!=0||this.h.h||(this.s=1,En(16),w=!1),this.o=this.o&&w,!w)pa(this.i,this.l,ne,"[Invalid Chunked Response]"),uo(this),vc(this);else if(0<ne.length&&!this.W){this.W=!0;var an=this.j;an.g==this&&an.ba&&!an.M&&(an.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),Jm(an),an.M=!0,En(11))}}else pa(this.i,this.l,ne,null),Km(this,ne);ln==4&&uo(this),this.o&&!this.J&&(ln==4?Qx(this.j,this):(this.o=!1,Hd(this)))}else NF(this.g),w==400&&0<ne.indexOf("Unknown SID")?(this.s=3,En(12)):(this.s=0,En(13)),uo(this),vc(this)}}}catch{}finally{}};function Ex(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function pF(c,m){var w=c.C,A=m.indexOf(`
`,w);return A==-1?Wm:(w=Number(m.substring(w,A)),isNaN(w)?wx:(A+=1,A+w>m.length?Wm:(m=m.slice(A,A+w),c.C=A+w,m)))}Gs.prototype.cancel=function(){this.J=!0,uo(this)};function Hd(c){c.S=Date.now()+c.I,Tx(c,c.I)}function Tx(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=gc(p(c.ba,c),m)}function Hm(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Gs.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(hF(this.i,this.A),this.L!=2&&(mc(),En(17)),uo(this),this.s=2,vc(this)):Tx(this,this.S-c)};function vc(c){c.j.G==0||c.J||Qx(c.j,c)}function uo(c){Hm(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,ha(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function Km(c,m){try{var w=c.j;if(w.G!=0&&(w.g==c||Gm(w.h,c))){if(!c.K&&Gm(w.h,c)&&w.G==3){try{var A=w.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var F=A;if(F[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)th(w),Jd(w);else break e;Xm(w),En(18)}}else w.za=F[1],0<w.za-w.T&&37500>F[2]&&w.F&&w.v==0&&!w.C&&(w.C=gc(p(w.Za,w),6e3));if(1>=Ix(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else fo(w,11)}else if((c.K||w.g==c)&&th(w),!g(m))for(F=w.Da.g.parse(m),m=0;m<F.length;m++){let Ze=F[m];if(w.T=Ze[0],Ze=Ze[1],w.G==2)if(Ze[0]=="c"){w.K=Ze[1],w.ia=Ze[2];const an=Ze[3];an!=null&&(w.la=an,w.j.info("VER="+w.la));const ln=Ze[4];ln!=null&&(w.Aa=ln,w.j.info("SVER="+w.Aa));const ya=Ze[5];ya!=null&&typeof ya=="number"&&0<ya&&(A=1.5*ya,w.L=A,w.j.info("backChannelRequestTimeoutMs_="+A)),A=w;const yr=c.g;if(yr){const rh=yr.g?yr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(rh){var z=A.h;z.g||rh.indexOf("spdy")==-1&&rh.indexOf("quic")==-1&&rh.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(Qm(z,z.h),z.h=null))}if(A.D){const eg=yr.g?yr.g.getResponseHeader("X-HTTP-Session-Id"):null;eg&&(A.ya=eg,at(A.I,A.D,eg))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),A=w;var ne=c;if(A.qa=Xx(A,A.J?A.ia:null,A.W),ne.K){Cx(A.h,ne);var st=ne,Xt=A.L;Xt&&(st.I=Xt),st.B&&(Hm(st),Hd(st)),A.g=ne}else Kx(A);0<w.i.length&&eh(w)}else Ze[0]!="stop"&&Ze[0]!="close"||fo(w,7);else w.G==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?fo(w,7):Zm(w):Ze[0]!="noop"&&w.l&&w.l.ta(Ze),w.v=0)}}mc(4)}catch{}}var mF=class{constructor(c,m){this.g=c,this.map=m}};function bx(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Sx(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ix(c){return c.h?1:c.g?c.g.size:0}function Gm(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Qm(c,m){c.g?c.g.add(m):c.h=m}function Cx(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}bx.prototype.cancel=function(){if(this.i=Ax(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ax(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const w of c.g.values())m=m.concat(w.D);return m}return _(c.i)}function gF(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var m=[],w=c.length,A=0;A<w;A++)m.push(c[A]);return m}m=[],w=0;for(A in c)m[w++]=c[A];return m}function yF(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var m=[];c=c.length;for(var w=0;w<c;w++)m.push(w);return m}m=[],w=0;for(const A in c)m[w++]=A;return m}}}function Rx(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var w=yF(c),A=gF(c),F=A.length,z=0;z<F;z++)m.call(void 0,A[z],w&&w[z],c)}var Px=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vF(c,m){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var A=c[w].indexOf("="),F=null;if(0<=A){var z=c[w].substring(0,A);F=c[w].substring(A+1)}else z=c[w];m(z,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function ho(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ho){this.h=c.h,Kd(this,c.j),this.o=c.o,this.g=c.g,Gd(this,c.s),this.l=c.l;var m=c.i,w=new xc;w.i=m.i,m.g&&(w.g=new Map(m.g),w.h=m.h),Nx(this,w),this.m=c.m}else c&&(m=String(c).match(Px))?(this.h=!1,Kd(this,m[1]||"",!0),this.o=_c(m[2]||""),this.g=_c(m[3]||"",!0),Gd(this,m[4]),this.l=_c(m[5]||"",!0),Nx(this,m[6]||"",!0),this.m=_c(m[7]||"")):(this.h=!1,this.i=new xc(null,this.h))}ho.prototype.toString=function(){var c=[],m=this.j;m&&c.push(wc(m,kx,!0),":");var w=this.g;return(w||m=="file")&&(c.push("//"),(m=this.o)&&c.push(wc(m,kx,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(wc(w,w.charAt(0)=="/"?xF:wF,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",wc(w,TF)),c.join("")};function ps(c){return new ho(c)}function Kd(c,m,w){c.j=w?_c(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function Gd(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function Nx(c,m,w){m instanceof xc?(c.i=m,bF(c.i,c.h)):(w||(m=wc(m,EF)),c.i=new xc(m,c.h))}function at(c,m,w){c.i.set(m,w)}function Qd(c){return at(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function _c(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function wc(c,m,w){return typeof c=="string"?(c=encodeURI(c).replace(m,_F),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function _F(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var kx=/[#\/\?@]/g,wF=/[#\?:]/g,xF=/[#\?]/g,EF=/[#\?@]/g,TF=/#/g;function xc(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function Qs(c){c.g||(c.g=new Map,c.h=0,c.i&&vF(c.i,function(m,w){c.add(decodeURIComponent(m.replace(/\+/g," ")),w)}))}t=xc.prototype,t.add=function(c,m){Qs(this),this.i=null,c=ma(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(m),this.h+=1,this};function Dx(c,m){Qs(c),m=ma(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Ox(c,m){return Qs(c),m=ma(c,m),c.g.has(m)}t.forEach=function(c,m){Qs(this),this.g.forEach(function(w,A){w.forEach(function(F){c.call(m,F,A,this)},this)},this)},t.na=function(){Qs(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),w=[];for(let A=0;A<m.length;A++){const F=c[A];for(let z=0;z<F.length;z++)w.push(m[A])}return w},t.V=function(c){Qs(this);let m=[];if(typeof c=="string")Ox(this,c)&&(m=m.concat(this.g.get(ma(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)m=m.concat(c[w])}return m},t.set=function(c,m){return Qs(this),this.i=null,c=ma(this,c),Ox(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function Mx(c,m,w){Dx(c,m),0<w.length&&(c.i=null,c.g.set(ma(c,m),_(w)),c.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var w=0;w<m.length;w++){var A=m[w];const z=encodeURIComponent(String(A)),ne=this.V(A);for(A=0;A<ne.length;A++){var F=z;ne[A]!==""&&(F+="="+encodeURIComponent(String(ne[A]))),c.push(F)}}return this.i=c.join("&")};function ma(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function bF(c,m){m&&!c.j&&(Qs(c),c.i=null,c.g.forEach(function(w,A){var F=A.toLowerCase();A!=F&&(Dx(this,A),Mx(this,F,w))},c)),c.j=m}function SF(c,m){const w=new yc;if(a.Image){const A=new Image;A.onload=v(Ys,w,"TestLoadImage: loaded",!0,m,A),A.onerror=v(Ys,w,"TestLoadImage: error",!1,m,A),A.onabort=v(Ys,w,"TestLoadImage: abort",!1,m,A),A.ontimeout=v(Ys,w,"TestLoadImage: timeout",!1,m,A),a.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else m(!1)}function IF(c,m){const w=new yc,A=new AbortController,F=setTimeout(()=>{A.abort(),Ys(w,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:A.signal}).then(z=>{clearTimeout(F),z.ok?Ys(w,"TestPingServer: ok",!0,m):Ys(w,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(F),Ys(w,"TestPingServer: error",!1,m)})}function Ys(c,m,w,A,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),A(w)}catch{}}function CF(){this.g=new Um}function AF(c,m,w){const A=w||"";try{Rx(c,function(F,z){let ne=F;u(F)&&(ne=fc(F)),m.push(A+z+"="+encodeURIComponent(ne))})}catch(F){throw m.push(A+"type="+encodeURIComponent("_badmap")),F}}function Yd(c){this.l=c.Ub||null,this.j=c.eb||!1}I(Yd,fa),Yd.prototype.g=function(){return new Zd(this.l,this.j)},Yd.prototype.i=function(c){return function(){return c}}({});function Zd(c,m){J.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Zd,J),t=Zd.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,Tc(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ec(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Tc(this)),this.g&&(this.readyState=3,Tc(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Lx(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Lx(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Ec(this):Tc(this),this.readyState==3&&Lx(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ec(this))},t.Qa=function(c){this.g&&(this.response=c,Ec(this))},t.ga=function(){this.g&&Ec(this)};function Ec(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Tc(c)}t.setRequestHeader=function(c,m){this.u.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var w=m.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=m.next();return c.join(`\r
`)};function Tc(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Zd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Vx(c){let m="";return M(c,function(w,A){m+=A,m+=":",m+=w,m+=`\r
`}),m}function Ym(c,m,w){e:{for(A in w){var A=!1;break e}A=!0}A||(w=Vx(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):at(c,m,w))}function Tt(c){J.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Tt,J);var RF=/^https?$/i,PF=["POST","PUT"];t=Tt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,m,w,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bm.g(),this.v=this.o?hx(this.o):hx(Bm),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(z){jx(this,z);return}if(c=w||"",w=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var F in A)w.set(F,A[F]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const z of A.keys())w.set(z,A.get(z));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(w.keys()).find(z=>z.toLowerCase()=="content-type"),F=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(PF,m,void 0))||A||F||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,ne]of w)this.g.setRequestHeader(z,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$x(this),this.u=!0,this.g.send(c),this.u=!1}catch(z){jx(this,z)}};function jx(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,Fx(c),Xd(c)}function Fx(c){c.A||(c.A=!0,Z(c,"complete"),Z(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Z(this,"complete"),Z(this,"abort"),Xd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xd(this,!0)),Tt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ux(this):this.bb())},t.bb=function(){Ux(this)};function Ux(c){if(c.h&&typeof o<"u"&&(!c.v[1]||ms(c)!=4||c.Z()!=2)){if(c.u&&ms(c)==4)Be(c.Ea,0,c);else if(Z(c,"readystatechange"),ms(c)==4){c.h=!1;try{const ne=c.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var w;if(!(w=m)){var A;if(A=ne===0){var F=String(c.D).match(Px)[1]||null;!F&&a.self&&a.self.location&&(F=a.self.location.protocol.slice(0,-1)),A=!RF.test(F?F.toLowerCase():"")}w=A}if(w)Z(c,"complete"),Z(c,"success");else{c.m=6;try{var z=2<ms(c)?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.Z()+"]",Fx(c)}}finally{Xd(c)}}}}function Xd(c,m){if(c.g){$x(c);const w=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||Z(c,"ready");try{w.onreadystatechange=A}catch{}}}function $x(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function ms(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<ms(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),zd(m)}};function zx(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function NF(c){const m={};c=(c.g&&2<=ms(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(g(c[A]))continue;var w=O(c[A]);const F=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const z=m[F]||[];m[F]=z,z.push(w)}T(m,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bc(c,m,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||m}function Bx(c){this.Aa=0,this.i=[],this.j=new yc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bc("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bc("baseRetryDelayMs",5e3,c),this.cb=bc("retryDelaySeedMs",1e4,c),this.Wa=bc("forwardChannelMaxRetries",2,c),this.wa=bc("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new bx(c&&c.concurrentRequestLimit),this.Da=new CF,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Bx.prototype,t.la=8,t.G=1,t.connect=function(c,m,w,A){En(0),this.W=c,this.H=m||{},w&&A!==void 0&&(this.H.OSID=w,this.H.OAID=A),this.F=this.X,this.I=Xx(this,null,this.W),eh(this)};function Zm(c){if(Wx(c),c.G==3){var m=c.U++,w=ps(c.I);if(at(w,"SID",c.K),at(w,"RID",m),at(w,"TYPE","terminate"),Sc(c,w),m=new Gs(c,c.j,m),m.L=2,m.v=Qd(ps(w)),w=!1,a.navigator&&a.navigator.sendBeacon)try{w=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!w&&a.Image&&(new Image().src=m.v,w=!0),w||(m.g=Jx(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Hd(m)}Zx(c)}function Jd(c){c.g&&(Jm(c),c.g.cancel(),c.g=null)}function Wx(c){Jd(c),c.u&&(a.clearTimeout(c.u),c.u=null),th(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function eh(c){if(!Sx(c.h)&&!c.s){c.s=!0;var m=c.Ga;te||re(),$||(te(),$=!0),W.add(m,c),c.B=0}}function kF(c,m){return Ix(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=gc(p(c.Ga,c,m),Yx(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const F=new Gs(this,this.j,c);let z=this.o;if(this.S&&(z?(z=b(z),R(z,this.S)):z=this.S),this.m!==null||this.O||(F.H=z,z=null),this.P)e:{for(var m=0,w=0;w<this.i.length;w++){t:{var A=this.i[w];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=w;break e}if(m===4096||w===this.i.length-1){m=w+1;break e}}m=1e3}else m=1e3;m=Hx(this,F,m),w=ps(this.I),at(w,"RID",c),at(w,"CVER",22),this.D&&at(w,"X-HTTP-Session-Id",this.D),Sc(this,w),z&&(this.O?m="headers="+encodeURIComponent(String(Vx(z)))+"&"+m:this.m&&Ym(w,this.m,z)),Qm(this.h,F),this.Ua&&at(w,"TYPE","init"),this.P?(at(w,"$req",m),at(w,"SID","null"),F.T=!0,qm(F,w,null)):qm(F,w,m),this.G=2}}else this.G==3&&(c?qx(this,c):this.i.length==0||Sx(this.h)||qx(this))};function qx(c,m){var w;m?w=m.l:w=c.U++;const A=ps(c.I);at(A,"SID",c.K),at(A,"RID",w),at(A,"AID",c.T),Sc(c,A),c.m&&c.o&&Ym(A,c.m,c.o),w=new Gs(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),m&&(c.i=m.D.concat(c.i)),m=Hx(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Qm(c.h,w),qm(w,A,m)}function Sc(c,m){c.H&&M(c.H,function(w,A){at(m,A,w)}),c.l&&Rx({},function(w,A){at(m,A,w)})}function Hx(c,m,w){w=Math.min(c.i.length,w);var A=c.l?p(c.l.Na,c.l,c):null;e:{var F=c.i;let z=-1;for(;;){const ne=["count="+w];z==-1?0<w?(z=F[0].g,ne.push("ofs="+z)):z=0:ne.push("ofs="+z);let st=!0;for(let Xt=0;Xt<w;Xt++){let Ze=F[Xt].g;const an=F[Xt].map;if(Ze-=z,0>Ze)z=Math.max(0,F[Xt].g-100),st=!1;else try{AF(an,ne,"req"+Ze+"_")}catch{A&&A(an)}}if(st){A=ne.join("&");break e}}}return c=c.i.splice(0,w),m.D=c,A}function Kx(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;te||re(),$||(te(),$=!0),W.add(m,c),c.v=0}}function Xm(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=gc(p(c.Fa,c),Yx(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Gx(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=gc(p(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,En(10),Jd(this),Gx(this))};function Jm(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Gx(c){c.g=new Gs(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=ps(c.qa);at(m,"RID","rpc"),at(m,"SID",c.K),at(m,"AID",c.T),at(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&at(m,"TO",c.ja),at(m,"TYPE","xmlhttp"),Sc(c,m),c.m&&c.o&&Ym(m,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=Qd(ps(m)),w.m=null,w.P=!0,xx(w,c)}t.Za=function(){this.C!=null&&(this.C=null,Jd(this),Xm(this),En(19))};function th(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Qx(c,m){var w=null;if(c.g==m){th(c),Jm(c),c.g=null;var A=2}else if(Gm(c.h,m))w=m.D,Cx(c.h,m),A=1;else return;if(c.G!=0){if(m.o)if(A==1){w=m.m?m.m.length:0,m=Date.now()-m.F;var F=c.B;A=Bd(),Z(A,new yx(A,w)),eh(c)}else Kx(c);else if(F=m.s,F==3||F==0&&0<m.X||!(A==1&&kF(c,m)||A==2&&Xm(c)))switch(w&&0<w.length&&(m=c.h,m.i=m.i.concat(w)),F){case 1:fo(c,5);break;case 4:fo(c,10);break;case 3:fo(c,6);break;default:fo(c,2)}}}function Yx(c,m){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*m}function fo(c,m){if(c.j.info("Error code "+m),m==2){var w=p(c.fb,c),A=c.Xa;const F=!A;A=new ho(A||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Kd(A,"https"),Qd(A),F?SF(A.toString(),w):IF(A.toString(),w)}else En(2);c.G=0,c.l&&c.l.sa(m),Zx(c),Wx(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),En(2)):(this.j.info("Failed to ping google.com"),En(1))};function Zx(c){if(c.G=0,c.ka=[],c.l){const m=Ax(c.h);(m.length!=0||c.i.length!=0)&&(S(c.ka,m),S(c.ka,c.i),c.h.i.length=0,_(c.i),c.i.length=0),c.l.ra()}}function Xx(c,m,w){var A=w instanceof ho?ps(w):new ho(w);if(A.g!="")m&&(A.g=m+"."+A.g),Gd(A,A.s);else{var F=a.location;A=F.protocol,m=m?m+"."+F.hostname:F.hostname,F=+F.port;var z=new ho(null);A&&Kd(z,A),m&&(z.g=m),F&&Gd(z,F),w&&(z.l=w),A=z}return w=c.D,m=c.ya,w&&m&&at(A,w,m),at(A,"VER",c.la),Sc(c,A),A}function Jx(c,m,w){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new Tt(new Yd({eb:w})):new Tt(c.pa),m.Ha(c.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function eE(){}t=eE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function nh(){}nh.prototype.g=function(c,m){return new Wn(c,m)};function Wn(c,m){J.call(this),this.g=new Bx(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!g(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!g(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new ga(this)}I(Wn,J),Wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wn.prototype.close=function(){Zm(this.g)},Wn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=fc(c),c=w);m.i.push(new mF(m.Ya++,c)),m.G==3&&eh(m)},Wn.prototype.N=function(){this.g.l=null,delete this.j,Zm(this.g),delete this.g,Wn.aa.N.call(this)};function tE(c){$m.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const w in m){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}I(tE,$m);function nE(){zm.call(this),this.status=1}I(nE,zm);function ga(c){this.g=c}I(ga,eE),ga.prototype.ua=function(){Z(this.g,"a")},ga.prototype.ta=function(c){Z(this.g,new tE(c))},ga.prototype.sa=function(c){Z(this.g,new nE)},ga.prototype.ra=function(){Z(this.g,"b")},nh.prototype.createWebChannel=nh.prototype.g,Wn.prototype.send=Wn.prototype.o,Wn.prototype.open=Wn.prototype.m,Wn.prototype.close=Wn.prototype.close,XD=function(){return new nh},ZD=function(){return Bd()},YD=co,Wv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Wd.NO_ERROR=0,Wd.TIMEOUT=8,Wd.HTTP_ERROR=6,sf=Wd,vx.COMPLETE="complete",QD=vx,fx.EventType=pc,pc.OPEN="a",pc.CLOSE="b",pc.ERROR="c",pc.MESSAGE="d",J.prototype.listen=J.prototype.K,Hc=fx,Tt.prototype.listenOnce=Tt.prototype.L,Tt.prototype.getLastError=Tt.prototype.Ka,Tt.prototype.getLastErrorCode=Tt.prototype.Ba,Tt.prototype.getStatus=Tt.prototype.Z,Tt.prototype.getResponseJson=Tt.prototype.Oa,Tt.prototype.getResponseText=Tt.prototype.oa,Tt.prototype.send=Tt.prototype.ea,Tt.prototype.setWithCredentials=Tt.prototype.Ha,GD=Tt}).apply(typeof Ch<"u"?Ch:typeof self<"u"?self:typeof window<"u"?window:{});const bb="@firebase/firestore",Sb="4.7.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rc="11.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=new Hw("@firebase/firestore");function Ta(){return Go.logLevel}function ue(t,...e){if(Go.logLevel<=Ue.DEBUG){const n=e.map(r0);Go.debug(`Firestore (${rc}): ${t}`,...n)}}function zs(t,...e){if(Go.logLevel<=Ue.ERROR){const n=e.map(r0);Go.error(`Firestore (${rc}): ${t}`,...n)}}function Ml(t,...e){if(Go.logLevel<=Ue.WARN){const n=e.map(r0);Go.warn(`Firestore (${rc}): ${t}`,...n)}}function r0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,JD(t,r,n)}function JD(t,e,n){let r=`FIRESTORE (${rc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw zs(r),new Error(r)}function tt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||JD(e,s,r)}function Ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Ks{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class B7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pn.UNAUTHENTICATED))}shutdown(){}}class W7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class q7{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tt(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new ks;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ks,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ks)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(tt(typeof r.accessToken=="string",31837,{l:r}),new eO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new pn(e)}}class H7{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class K7{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new H7(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ib{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class G7{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ar(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){tt(this.o===void 0,3512);const r=i=>{i.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,ue("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ib(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(tt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ib(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=Q7(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Oe(t,e){return t<e?-1:t>e?1:0}function qv(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return Oe(r,s);{const i=tO(),o=Y7(i.encode(Cb(t,n)),i.encode(Cb(e,n)));return o!==0?o:Oe(r,s)}}n+=r>65535?2:1}return Oe(t.length,e.length)}function Cb(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Y7(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Oe(t[n],e[n]);return Oe(t.length,e.length)}function Ll(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab=-62135596800,Rb=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Rb);return new _t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Ab)throw new de(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Rb}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Ab;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new _t(0,0))}static max(){return new be(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="__name__";class Wr{constructor(e,n,r){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&xe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Wr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Wr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Wr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Oe(e.length,n.length)}static compareSegments(e,n){const r=Wr.isNumericId(e),s=Wr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Wr.extractNumericId(e).compare(Wr.extractNumericId(n)):qv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Li.fromString(e.substring(4,e.length-2))}}class ut extends Wr{construct(e,n,r){return new ut(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(G.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new ut(n)}static emptyPath(){return new ut([])}}const Z7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Wr{construct(e,n,r){return new nn(e,n,r)}static isValidIdentifier(e){return Z7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Pb}static keyField(){return new nn([Pb])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new de(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new de(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new de(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new de(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(n)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(ut.fromString(e))}static fromName(e){return new ye(ut.fromString(e).popFirst(5))}static empty(){return new ye(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new ut(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu=-1;function X7(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=be.fromTimestamp(r===1e9?new _t(n+1,0):new _t(n,r));return new Bi(s,ye.empty(),e)}function J7(t){return new Bi(t.readTime,t.key,Fu)}class Bi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Bi(be.min(),ye.empty(),Fu)}static max(){return new Bi(be.max(),ye.empty(),Fu)}}function eW(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:Oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tW="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nW{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sc(t){if(t.code!==G.FAILED_PRECONDITION||t.message!==tW)throw t;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(s=>s?Q.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new Q((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function rW(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ic(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}dm.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0=-1;function hm(t){return t==null}function tp(t){return t===0&&1/t==-1/0}function sW(t){return typeof t=="number"&&Number.isInteger(t)&&!tp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO="";function iW(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Nb(e)),e=oW(t.get(n),e);return Nb(e)}function oW(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case rO:n+="";break;default:n+=i}}return n}function Nb(t){return t+rO+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function so(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function sO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n){this.comparator=e,this.root=n||tn.EMPTY}insert(e,n){return new xt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ah(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ah(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ah(this.root,e,this.comparator,!0)}}class Ah{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??tn.RED,this.left=s??tn.EMPTY,this.right=i??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new tn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return tn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Db(this.data.getIterator())}getIteratorFrom(e){return new Db(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Bt(this.comparator);return n.data=e,n}}class Db{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new Qn([])}unionWith(e){let n=new Bt(nn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ll(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new iO("Invalid base64 string: "+i):i}}(e);return new on(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new on(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const aW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wi(t){if(tt(!!t,39018),typeof t=="string"){let e=0;const n=aW.exec(t);if(tt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rt(t.seconds),nanos:Rt(t.nanos)}}function Rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qi(t){return typeof t=="string"?on.fromBase64String(t):on.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO="server_timestamp",aO="__type__",lO="__previous_value__",cO="__local_write_time__";function i0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[aO])===null||n===void 0?void 0:n.stringValue)===oO}function fm(t){const e=t.mapValue.fields[lO];return i0(e)?fm(e):e}function Uu(t){const e=Wi(t.mapValue.fields[cO].timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lW{constructor(e,n,r,s,i,o,a,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const np="(default)";class $u{constructor(e,n){this.projectId=e,this.database=n||np}static empty(){return new $u("","")}get isDefaultDatabase(){return this.database===np}isEqual(e){return e instanceof $u&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO="__type__",dO="__max__",Rh={mapValue:{fields:{__type__:{stringValue:dO}}}},hO="__vector__",rp="value";function Hi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?i0(t)?4:uW(t)?9007199254740991:cW(t)?10:11:xe(28295,{value:t})}function ls(t,e){if(t===e)return!0;const n=Hi(t);if(n!==Hi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Uu(t).isEqual(Uu(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Wi(s.timestampValue),a=Wi(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return qi(s.bytesValue).isEqual(qi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Rt(s.geoPointValue.latitude)===Rt(i.geoPointValue.latitude)&&Rt(s.geoPointValue.longitude)===Rt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Rt(s.integerValue)===Rt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Rt(s.doubleValue),a=Rt(i.doubleValue);return o===a?tp(o)===tp(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ll(t.arrayValue.values||[],e.arrayValue.values||[],ls);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(kb(o)!==kb(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ls(o[l],a[l])))return!1;return!0}(t,e);default:return xe(52216,{left:t})}}function zu(t,e){return(t.values||[]).find(n=>ls(n,e))!==void 0}function Vl(t,e){if(t===e)return 0;const n=Hi(t),r=Hi(e);if(n!==r)return Oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Rt(i.integerValue||i.doubleValue),l=Rt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Ob(t.timestampValue,e.timestampValue);case 4:return Ob(Uu(t),Uu(e));case 5:return qv(t.stringValue,e.stringValue);case 6:return function(i,o){const a=qi(i),l=qi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=Oe(a[u],l[u]);if(d!==0)return d}return Oe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Oe(Rt(i.latitude),Rt(o.latitude));return a!==0?a:Oe(Rt(i.longitude),Rt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Mb(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,u,d;const f=i.fields||{},p=o.fields||{},v=(a=f[rp])===null||a===void 0?void 0:a.arrayValue,I=(l=p[rp])===null||l===void 0?void 0:l.arrayValue,_=Oe(((u=v==null?void 0:v.values)===null||u===void 0?void 0:u.length)||0,((d=I==null?void 0:I.values)===null||d===void 0?void 0:d.length)||0);return _!==0?_:Mb(v,I)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Rh.mapValue&&o===Rh.mapValue)return 0;if(i===Rh.mapValue)return 1;if(o===Rh.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const p=qv(l[f],d[f]);if(p!==0)return p;const v=Vl(a[l[f]],u[d[f]]);if(v!==0)return v}return Oe(l.length,d.length)}(t.mapValue,e.mapValue);default:throw xe(23264,{Pe:n})}}function Ob(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Oe(t,e);const n=Wi(t),r=Wi(e),s=Oe(n.seconds,r.seconds);return s!==0?s:Oe(n.nanos,r.nanos)}function Mb(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Vl(n[s],r[s]);if(i)return i}return Oe(n.length,r.length)}function jl(t){return Hv(t)}function Hv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Wi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return qi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ye.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Hv(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Hv(n.fields[o])}`;return s+"}"}(t.mapValue):xe(61005,{value:t})}function of(t){switch(Hi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=fm(t);return e?16+of(e):16;case 5:return 2*t.stringValue.length;case 6:return qi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+of(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return so(r.fields,(i,o)=>{s+=i.length+of(o)}),s}(t.mapValue);default:throw xe(13486,{value:t})}}function Lb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Kv(t){return!!t&&"integerValue"in t}function o0(t){return!!t&&"arrayValue"in t}function Vb(t){return!!t&&"nullValue"in t}function jb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function af(t){return!!t&&"mapValue"in t}function cW(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[uO])===null||n===void 0?void 0:n.stringValue)===hO}function hu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return so(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=hu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function uW(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===dO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!af(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hu(n)}setAll(e){let n=nn.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=hu(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());af(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ls(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];af(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){so(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new jn(hu(this.value))}}function fO(t){const e=[];return so(t.fields,(n,r)=>{const s=new nn([n]);if(af(r)){const i=fO(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new gn(e,0,be.min(),be.min(),be.min(),jn.empty(),0)}static newFoundDocument(e,n,r,s){return new gn(e,1,n,be.min(),r,s,0)}static newNoDocument(e,n){return new gn(e,2,n,be.min(),be.min(),jn.empty(),0)}static newUnknownDocument(e,n){return new gn(e,3,n,be.min(),be.min(),jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,n){this.position=e,this.inclusive=n}}function Fb(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ye.comparator(ye.fromName(o.referenceValue),n.key):r=Vl(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ub(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ls(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n="asc"){this.field=e,this.dir=n}}function dW(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{}class Vt extends pO{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new fW(e,n,r):n==="array-contains"?new gW(e,r):n==="in"?new yW(e,r):n==="not-in"?new vW(e,r):n==="array-contains-any"?new _W(e,r):new Vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new pW(e,r):new mW(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Vl(n,this.value)):n!==null&&Hi(this.value)===Hi(n)&&this.matchesComparison(Vl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Lr extends pO{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Lr(e,n)}matches(e){return mO(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function mO(t){return t.op==="and"}function gO(t){return hW(t)&&mO(t)}function hW(t){for(const e of t.filters)if(e instanceof Lr)return!1;return!0}function Gv(t){if(t instanceof Vt)return t.field.canonicalString()+t.op.toString()+jl(t.value);if(gO(t))return t.filters.map(e=>Gv(e)).join(",");{const e=t.filters.map(n=>Gv(n)).join(",");return`${t.op}(${e})`}}function yO(t,e){return t instanceof Vt?function(r,s){return s instanceof Vt&&r.op===s.op&&r.field.isEqual(s.field)&&ls(r.value,s.value)}(t,e):t instanceof Lr?function(r,s){return s instanceof Lr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&yO(o,s.filters[a]),!0):!1}(t,e):void xe(19439)}function vO(t){return t instanceof Vt?function(n){return`${n.field.canonicalString()} ${n.op} ${jl(n.value)}`}(t):t instanceof Lr?function(n){return n.op.toString()+" {"+n.getFilters().map(vO).join(" ,")+"}"}(t):"Filter"}class fW extends Vt{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class pW extends Vt{constructor(e,n){super(e,"in",n),this.keys=_O("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class mW extends Vt{constructor(e,n){super(e,"not-in",n),this.keys=_O("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function _O(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ye.fromName(r.referenceValue))}class gW extends Vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return o0(n)&&zu(n.arrayValue,this.value)}}class yW extends Vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zu(this.value.arrayValue,n)}}class vW extends Vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!zu(this.value.arrayValue,n)}}class _W extends Vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!o0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>zu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wW{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Ie=null}}function $b(t,e=null,n=[],r=[],s=null,i=null,o=null){return new wW(t,e,n,r,s,i,o)}function a0(t){const e=Ie(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Gv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),hm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>jl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>jl(r)).join(",")),e.Ie=n}return e.Ie}function l0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!dW(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!yO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ub(t.startAt,e.startAt)&&Ub(t.endAt,e.endAt)}function Qv(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function xW(t,e,n,r,s,i,o,a){return new oc(t,e,n,r,s,i,o,a)}function c0(t){return new oc(t)}function zb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wO(t){return t.collectionGroup!==null}function fu(t){const e=Ie(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Bt(nn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new Bu(i,r))}),n.has(nn.keyField().canonicalString())||e.Ee.push(new Bu(nn.keyField(),r))}return e.Ee}function ss(t){const e=Ie(t);return e.de||(e.de=EW(e,fu(t))),e.de}function EW(t,e){if(t.limitType==="F")return $b(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Bu(s.field,i)});const n=t.endAt?new sp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new sp(t.startAt.position,t.startAt.inclusive):null;return $b(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Yv(t,e){const n=t.filters.concat([e]);return new oc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Zv(t,e,n){return new oc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function pm(t,e){return l0(ss(t),ss(e))&&t.limitType===e.limitType}function xO(t){return`${a0(ss(t))}|lt:${t.limitType}`}function ba(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>vO(s)).join(", ")}]`),hm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>jl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>jl(s)).join(",")),`Target(${r})`}(ss(t))}; limitType=${t.limitType})`}function mm(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ye.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of fu(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=Fb(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,fu(r),s)||r.endAt&&!function(o,a,l){const u=Fb(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,fu(r),s))}(t,e)}function TW(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function EO(t){return(e,n)=>{let r=!1;for(const s of fu(t)){const i=bW(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function bW(t,e,n){const r=t.field.isKeyField()?ye.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?Vl(l,u):xe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return xe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){so(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return sO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SW=new xt(ye.comparator);function Bs(){return SW}const TO=new xt(ye.comparator);function Kc(...t){let e=TO;for(const n of t)e=e.insert(n.key,n);return e}function bO(t){let e=TO;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function To(){return pu()}function SO(){return pu()}function pu(){return new ia(t=>t.toString(),(t,e)=>t.isEqual(e))}const IW=new xt(ye.comparator),CW=new Bt(ye.comparator);function $e(...t){let e=CW;for(const n of t)e=e.add(n);return e}const AW=new Bt(Oe);function RW(){return AW}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tp(e)?"-0":e}}function IO(t){return{integerValue:""+t}}function PW(t,e){return sW(e)?IO(e):u0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(){this._=void 0}}function NW(t,e,n){return t instanceof ip?function(s,i){const o={fields:{[aO]:{stringValue:oO},[cO]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&i0(i)&&(i=fm(i)),i&&(o.fields[lO]=i),{mapValue:o}}(n,e):t instanceof Wu?AO(t,e):t instanceof qu?RO(t,e):function(s,i){const o=CO(s,i),a=Bb(o)+Bb(s.Re);return Kv(o)&&Kv(s.Re)?IO(a):u0(s.serializer,a)}(t,e)}function kW(t,e,n){return t instanceof Wu?AO(t,e):t instanceof qu?RO(t,e):n}function CO(t,e){return t instanceof op?function(r){return Kv(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class ip extends gm{}class Wu extends gm{constructor(e){super(),this.elements=e}}function AO(t,e){const n=PO(e);for(const r of t.elements)n.some(s=>ls(s,r))||n.push(r);return{arrayValue:{values:n}}}class qu extends gm{constructor(e){super(),this.elements=e}}function RO(t,e){let n=PO(e);for(const r of t.elements)n=n.filter(s=>!ls(s,r));return{arrayValue:{values:n}}}class op extends gm{constructor(e,n){super(),this.serializer=e,this.Re=n}}function Bb(t){return Rt(t.integerValue||t.doubleValue)}function PO(t){return o0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function DW(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Wu&&s instanceof Wu||r instanceof qu&&s instanceof qu?Ll(r.elements,s.elements,ls):r instanceof op&&s instanceof op?ls(r.Re,s.Re):r instanceof ip&&s instanceof ip}(t.transform,e.transform)}class OW{constructor(e,n){this.version=e,this.transformResults=n}}class dr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new dr}static exists(e){return new dr(void 0,e)}static updateTime(e){return new dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ym{}function NO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new d0(t.key,dr.none()):new Rd(t.key,t.data,dr.none());{const n=t.data,r=jn.empty();let s=new Bt(nn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new io(t.key,r,new Qn(s.toArray()),dr.none())}}function MW(t,e,n){t instanceof Rd?function(s,i,o){const a=s.value.clone(),l=qb(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof io?function(s,i,o){if(!lf(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=qb(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(kO(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function mu(t,e,n,r){return t instanceof Rd?function(i,o,a,l){if(!lf(i.precondition,o))return a;const u=i.value.clone(),d=Hb(i.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof io?function(i,o,a,l){if(!lf(i.precondition,o))return a;const u=Hb(i.fieldTransforms,l,o),d=o.data;return d.setAll(kO(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return lf(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function LW(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=CO(r.transform,s||null);i!=null&&(n===null&&(n=jn.empty()),n.set(r.field,i))}return n||null}function Wb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ll(r,s,(i,o)=>DW(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Rd extends ym{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class io extends ym{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function kO(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function qb(t,e,n){const r=new Map;tt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,kW(o,a,n[s]))}return r}function Hb(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,NW(i,o,e))}return r}class d0 extends ym{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VW extends ym{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jW{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&MW(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=mu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=mu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=SO();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=NO(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(be.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),$e())}isEqual(e){return this.batchId===e.batchId&&Ll(this.mutations,e.mutations,(n,r)=>Wb(n,r))&&Ll(this.baseMutations,e.baseMutations,(n,r)=>Wb(n,r))}}class h0{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){tt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return IW}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new h0(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FW=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UW{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,qe;function $W(t){switch(t){case G.OK:return xe(64938);case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0;default:return xe(15467,{code:t})}}function DO(t){if(t===void 0)return zs("GRPC error has no .code"),G.UNKNOWN;switch(t){case Dt.OK:return G.OK;case Dt.CANCELLED:return G.CANCELLED;case Dt.UNKNOWN:return G.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return G.INTERNAL;case Dt.UNAVAILABLE:return G.UNAVAILABLE;case Dt.UNAUTHENTICATED:return G.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case Dt.NOT_FOUND:return G.NOT_FOUND;case Dt.ALREADY_EXISTS:return G.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return G.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case Dt.ABORTED:return G.ABORTED;case Dt.OUT_OF_RANGE:return G.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return G.UNIMPLEMENTED;case Dt.DATA_LOSS:return G.DATA_LOSS;default:return xe(39323,{code:t})}}(qe=Dt||(Dt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zW=new Li([4294967295,4294967295],0);function Kb(t){const e=tO().encode(t),n=new KD;return n.update(e),new Uint8Array(n.digest())}function Gb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Li([n,r],0),new Li([s,i],0)]}class f0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Gc(`Invalid padding: ${n}`);if(r<0)throw new Gc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Gc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Gc(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Li.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(Li.fromNumber(r)));return s.compare(zW)===1&&(s=new Li([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=Kb(e),[r,s]=Gb(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);if(!this.be(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new f0(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=Kb(e),[r,s]=Gb(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Gc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Pd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new vm(be.min(),s,new xt(Oe),Bs(),$e())}}class Pd{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Pd(r,n,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class OO{constructor(e,n){this.targetId=e,this.Ce=n}}class MO{constructor(e,n,r=on.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Qb{constructor(){this.Fe=0,this.Me=Yb(),this.xe=on.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=$e(),n=$e(),r=$e();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:xe(38017,{changeType:i})}}),new Pd(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=Yb()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,tt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class BW{constructor(e){this.ze=e,this.je=new Map,this.He=Bs(),this.Je=Ph(),this.Ye=Ph(),this.Ze=new xt(Oe)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:xe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(Qv(i))if(r===0){const o=new ye(i.path);this.tt(n,o,gn.newNoDocument(o,be.min()))}else tt(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),l=a?this.lt(a,e,o):1;if(l!==0){this.st(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=qi(r).toUint8Array()}catch(l){if(l instanceof iO)return Ml("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new f0(o,s,i)}catch(l){return Ml(l instanceof Gc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,o)=>{const a=this._t(o);if(a){if(i.current&&Qv(a.target)){const l=new ye(a.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,gn.newNoDocument(l,e))}i.Le&&(n.set(o,i.qe()),i.Qe())}});let r=$e();this.Ye.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this._t(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.He.forEach((i,o)=>o.setReadTime(e));const s=new vm(e,n,this.Ze,this.He,r);return this.He=Bs(),this.Je=Ph(),this.Ye=Ph(),this.Ze=new xt(Oe),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new Qb,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Bt(Oe),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Bt(Oe),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Qb),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Ph(){return new xt(ye.comparator)}function Yb(){return new xt(ye.comparator)}const WW={asc:"ASCENDING",desc:"DESCENDING"},qW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HW={and:"AND",or:"OR"};class KW{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Xv(t,e){return t.useProto3Json||hm(e)?e:{value:e}}function ap(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function GW(t,e){return ap(t,e.toTimestamp())}function is(t){return tt(!!t,49232),be.fromTimestamp(function(n){const r=Wi(n);return new _t(r.seconds,r.nanos)}(t))}function p0(t,e){return Jv(t,e).canonicalString()}function Jv(t,e){const n=function(s){return new ut(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function VO(t){const e=ut.fromString(t);return tt(zO(e),10190,{key:e.toString()}),e}function e_(t,e){return p0(t.databaseId,e.path)}function Wg(t,e){const n=VO(e);if(n.get(1)!==t.databaseId.projectId)throw new de(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(FO(n))}function jO(t,e){return p0(t.databaseId,e)}function QW(t){const e=VO(t);return e.length===4?ut.emptyPath():FO(e)}function t_(t){return new ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function FO(t){return tt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Zb(t,e,n){return{name:e_(t,e),fields:n.value.mapValue.fields}}function YW(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:xe(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(tt(d===void 0||typeof d=="string",58123),on.fromBase64String(d||"")):(tt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),on.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?G.UNKNOWN:DO(u.code);return new de(d,u.message||"")}(o);n=new MO(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Wg(t,r.document.name),i=is(r.document.updateTime),o=r.document.createTime?is(r.document.createTime):be.min(),a=new jn({mapValue:{fields:r.document.fields}}),l=gn.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new cf(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Wg(t,r.document),i=r.readTime?is(r.readTime):be.min(),o=gn.newNoDocument(s,i),a=r.removedTargetIds||[];n=new cf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Wg(t,r.document),i=r.removedTargetIds||[];n=new cf([],i,s,null)}else{if(!("filter"in e))return xe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new UW(s,i),a=r.targetId;n=new OO(a,o)}}return n}function ZW(t,e){let n;if(e instanceof Rd)n={update:Zb(t,e.key,e.value)};else if(e instanceof d0)n={delete:e_(t,e.key)};else if(e instanceof io)n={update:Zb(t,e.key,e.data),updateMask:oq(e.fieldMask)};else{if(!(e instanceof VW))return xe(16599,{ft:e.type});n={verify:e_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof ip)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Wu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof qu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof op)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw xe(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:GW(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:xe(27497)}(t,e.precondition)),n}function XW(t,e){return t&&t.length>0?(tt(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?is(s.updateTime):is(i);return o.isEqual(be.min())&&(o=is(i)),new OW(o,s.transformResults||[])}(n,e))):[]}function JW(t,e){return{documents:[jO(t,e.path)]}}function eq(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=jO(t,s);const i=function(u){if(u.length!==0)return $O(Lr.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:Sa(p.field),direction:rq(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Xv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:s}}function tq(t){let e=QW(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){tt(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const p=UO(f);return p instanceof Lr&&gO(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(I){return new Bu(Ia(I.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,hm(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,v=f.values||[];return new sp(v,p)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const p=!f.before,v=f.values||[];return new sp(v,p)}(n.endAt)),xW(e,s,o,i,a,"F",l,u)}function nq(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function UO(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ia(n.unaryFilter.field);return Vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ia(n.unaryFilter.field);return Vt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ia(n.unaryFilter.field);return Vt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ia(n.unaryFilter.field);return Vt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}}(t):t.fieldFilter!==void 0?function(n){return Vt.create(Ia(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Lr.create(n.compositeFilter.filters.map(r=>UO(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return xe(1026)}}(n.compositeFilter.op))}(t):xe(30097,{filter:t})}function rq(t){return WW[t]}function sq(t){return qW[t]}function iq(t){return HW[t]}function Sa(t){return{fieldPath:t.canonicalString()}}function Ia(t){return nn.fromServerFormat(t.fieldPath)}function $O(t){return t instanceof Vt?function(n){if(n.op==="=="){if(jb(n.value))return{unaryFilter:{field:Sa(n.field),op:"IS_NAN"}};if(Vb(n.value))return{unaryFilter:{field:Sa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(jb(n.value))return{unaryFilter:{field:Sa(n.field),op:"IS_NOT_NAN"}};if(Vb(n.value))return{unaryFilter:{field:Sa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sa(n.field),op:sq(n.op),value:n.value}}}(t):t instanceof Lr?function(n){const r=n.getFilters().map(s=>$O(s));return r.length===1?r[0]:{compositeFilter:{op:iq(n.op),filters:r}}}(t):xe(54877,{filter:t})}function oq(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,n,r,s,i=be.min(),o=be.min(),a=on.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new bi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aq{constructor(e){this.wt=e}}function lq(t){const e=tq({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cq{constructor(){this.yn=new uq}addToCollectionParentIndex(e,n){return this.yn.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(Bi.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(Bi.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class uq{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Bt(ut.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Bt(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},BO=41943040;class Ln{static withCacheSize(e){return new Ln(e,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(BO,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Fl(0)}static ir(){return new Fl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="LruGarbageCollector",dq=1048576;function eS([t,e],[n,r]){const s=Oe(t,n);return s===0?Oe(e,r):s}class hq{constructor(e){this.cr=e,this.buffer=new Bt(eS),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();eS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class fq{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){ue(Jb,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ic(n)?ue(Jb,"Ignoring IndexedDB error during garbage collection: ",n):await sc(n)}await this.Ir(3e5)})}}class pq{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Q.resolve(dm.le);const r=new hq(n);return this.Er.forEachTarget(e,s=>r.Pr(s.sequenceNumber)).next(()=>this.Er.Ar(e,s=>r.Pr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(Xb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Xb):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,s,i,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Ta()<=Ue.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function mq(t,e){return new pq(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gq{constructor(){this.changes=new ia(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yq{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vq{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&mu(r.mutation,s,Qn.empty(),_t.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,$e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=$e()){const s=To();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Kc();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=To();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,$e()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Bs();const o=pu(),a=function(){return pu()}();return n.forEach((l,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof io)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),mu(d.mutation,u,d.mutation.getFieldMask(),_t.now())):o.set(u.key,Qn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var f;return a.set(u,new yq(d,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=pu();let s=new xt((o,a)=>o-a),i=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||Qn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const f=(s.get(a.batchId)||$e()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,f=SO();d.forEach(p=>{if(!i.has(p)){const v=NO(n.get(p),r.get(p));v!==null&&f.set(p,v),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return Q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ye.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Q.resolve(To());let a=Fu,l=i;return o.next(u=>Q.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(d)?Q.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,$e())).next(d=>({batchId:a,changes:bO(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(r=>{let s=Kc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Kc();return this.indexManager.getCollectionParents(e,i).next(a=>Q.forEach(a,l=>{const u=function(f,p){return new oc(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,gn.newInvalidDocument(d)))});let a=Kc();return o.forEach((l,u)=>{const d=i.get(l);d!==void 0&&mu(d.mutation,u,Qn.empty(),_t.now()),mm(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _q{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return Q.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:is(s.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(s){return{name:s.name,query:lq(s.bundledQuery),readTime:is(s.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wq{constructor(){this.overlays=new xt(ye.comparator),this.Or=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=To();return Q.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Or.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Or.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const s=To(),i=n.length+1,o=new ye(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return Q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new xt((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=To(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=To(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return Q.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Or.get(s.largestBatchId).delete(r.key);this.Or.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new FW(n,r));let i=this.Or.get(n);i===void 0&&(i=$e(),this.Or.set(n,i)),this.Or.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xq{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(){this.Nr=new Bt(qt.Br),this.Lr=new Bt(qt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const r=new qt(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new qt(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){const n=new ye(new ut([])),r=new qt(n,e),s=new qt(n,e+1),i=[];return this.Lr.forEachInRange([r,s],o=>{this.Qr(o),i.push(o.key)}),i}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new ye(new ut([])),r=new qt(n,e),s=new qt(n,e+1);let i=$e();return this.Lr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new qt(e,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class qt{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return ye.comparator(e.key,n.key)||Oe(e.Gr,n.Gr)}static kr(e,n){return Oe(e.Gr,n.Gr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eq{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new Bt(qt.Br)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new jW(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.zr=this.zr.add(new qt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,n){return Q.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Hr(r),i=s<0?0:s;return Q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?s0:this.Jn-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new qt(n,0),s=new qt(n,Number.POSITIVE_INFINITY),i=[];return this.zr.forEachInRange([r,s],o=>{const a=this.jr(o.Gr);i.push(a)}),Q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Bt(Oe);return n.forEach(s=>{const i=new qt(s,0),o=new qt(s,Number.POSITIVE_INFINITY);this.zr.forEachInRange([i,o],a=>{r=r.add(a.Gr)})}),Q.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ye.isDocumentKey(i)||(i=i.child(""));const o=new qt(new ye(i),0);let a=new Bt(Oe);return this.zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Gr)),!0)},o),Q.resolve(this.Jr(a))}Jr(e){const n=[];return e.forEach(r=>{const s=this.jr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){tt(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return Q.forEach(n.mutations,s=>{const i=new qt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){const r=new qt(n,0),s=this.zr.firstAfterOrEqual(r);return Q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tq{constructor(e){this.Zr=e,this.docs=function(){return new xt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():gn.newInvalidDocument(n))}getEntries(e,n){let r=Bs();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():gn.newInvalidDocument(s))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Bs();const o=n.path,a=new ye(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||eW(J7(d),r)<=0||(s.has(d.key)||mm(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return Q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){xe(9500)}Xr(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new bq(this)}getSize(e){return Q.resolve(this.size)}}class bq extends gq{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.vr.addEntry(e,s)):this.vr.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sq{constructor(e){this.persistence=e,this.ei=new ia(n=>a0(n),l0),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.ti=0,this.ni=new m0,this.targetCount=0,this.ri=Fl.rr()}forEachTarget(e,n){return this.ei.forEach((r,s)=>n(s)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),Q.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new Fl(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.ar(n),Q.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ei.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ei.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),Q.waitFor(i).next(()=>s)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.ei.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),Q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ni.Wr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,n){this.ii={},this.overlays={},this.si=new dm(0),this.oi=!1,this.oi=!0,this._i=new xq,this.referenceDelegate=e(this),this.ai=new Sq(this),this.indexManager=new cq,this.remoteDocumentCache=function(s){return new Tq(s)}(r=>this.referenceDelegate.ui(r)),this.serializer=new aq(n),this.ci=new _q(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wq,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new Eq(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){ue("MemoryPersistence","Starting transaction:",e);const s=new Iq(this.si.next());return this.referenceDelegate.li(),r(s).next(i=>this.referenceDelegate.hi(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Pi(e,n){return Q.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}}class Iq extends nW{constructor(e){super(),this.currentSequenceNumber=e}}class g0{constructor(e){this.persistence=e,this.Ti=new m0,this.Ii=null}static Ei(e){return new g0(e)}get di(){if(this.Ii)return this.Ii;throw xe(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(s=>this.di.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.di.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.di,r=>{const s=ye.fromPath(r);return this.Ai(e,s).next(i=>{i||n.removeEntry(s,be.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return Q.or([()=>Q.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class lp{constructor(e,n){this.persistence=e,this.Ri=new ia(r=>iW(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=mq(this,n)}static Ei(e,n){return new lp(e,n)}li(){}hi(e){return Q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return Q.forEach(this.Ri,(r,s)=>this.gr(e,r,s).next(i=>i?Q.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.Xr(e,o=>this.gr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,be.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),Q.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),Q.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),Q.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=of(e.data.value)),n}gr(e,n,r){return Q.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.Ri.get(n);return Q.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=s}static Ps(e,n){let r=$e(),s=$e();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new y0(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cq{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aq{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return aB()?8:rW(wn())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Rs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Vs(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new Cq;return this.fs(e,n,o).next(a=>{if(i.result=a,this.Is)return this.gs(e,n,o,a.size)})}).next(()=>i.result)}gs(e,n,r,s){return r.documentReadCount<this.Es?(Ta()<=Ue.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",ba(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),Q.resolve()):(Ta()<=Ue.DEBUG&&ue("QueryEngine","Query:",ba(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(Ta()<=Ue.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",ba(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ss(n))):Q.resolve())}Rs(e,n){if(zb(n))return Q.resolve(null);let r=ss(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Zv(n,null,"F"),r=ss(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=$e(...i);return this.As.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ps(n,a);return this.ys(n,u,o,l.readTime)?this.Rs(e,Zv(n,null,"F")):this.ws(e,u,n,l)}))})))}Vs(e,n,r,s){return zb(n)||s.isEqual(be.min())?Q.resolve(null):this.As.getDocuments(e,r).next(i=>{const o=this.ps(n,i);return this.ys(n,o,r,s)?Q.resolve(null):(Ta()<=Ue.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ba(n)),this.ws(e,o,n,X7(s,Fu)).next(a=>a))})}ps(e,n){let r=new Bt(EO(e));return n.forEach((s,i)=>{mm(e,i)&&(r=r.add(i))}),r}ys(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}fs(e,n,r){return Ta()<=Ue.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",ba(n)),this.As.getDocumentsMatchingQuery(e,n,Bi.min(),r)}ws(e,n,r,s){return this.As.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="LocalStore",Rq=3e8;class Pq{constructor(e,n,r,s){this.persistence=e,this.bs=n,this.serializer=s,this.Ss=new xt(Oe),this.Ds=new ia(i=>a0(i),l0),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vq(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function Nq(t,e,n,r){return new Pq(t,e,n,r)}async function qO(t,e){const n=Ie(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=$e();for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ms:u,removedBatchIds:o,addedBatchIds:a}))})})}function kq(t,e){const n=Ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const f=u.batch,p=f.keys();let v=Q.resolve();return p.forEach(I=>{v=v.next(()=>d.getEntry(l,I)).next(_=>{const S=u.docVersions.get(I);tt(S!==null,48541),_.version.compareTo(S)<0&&(f.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),d.addEntry(_)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=$e();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function HO(t){const e=Ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function Dq(t,e){const n=Ie(t),r=e.snapshotVersion;let s=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Cs.newChangeBuffer({trackRemovals:!0});s=n.Ss;const a=[];e.targetChanges.forEach((d,f)=>{const p=s.get(f);if(!p)return;a.push(n.ai.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.ai.addMatchingKeys(i,d.addedDocuments,f)));let v=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?v=v.withResumeToken(on.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,r)),s=s.insert(f,v),function(_,S,E){return _.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=Rq?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(p,v,d)&&a.push(n.ai.updateTargetData(i,v))});let l=Bs(),u=$e();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(Oq(i,o,e.documentUpdates).next(d=>{l=d.xs,u=d.Os})),!r.isEqual(be.min())){const d=n.ai.getLastRemoteSnapshotVersion(i).next(f=>n.ai.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return Q.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.Ss=s,i))}function Oq(t,e,n){let r=$e(),s=$e();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Bs();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(be.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ue(v0,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{xs:o,Os:s}})}function Mq(t,e){const n=Ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=s0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Lq(t,e){const n=Ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.ai.getTargetData(r,e).next(i=>i?(s=i,Q.resolve(s)):n.ai.allocateTargetId(r).next(o=>(s=new bi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ss.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(e,r.targetId)),r})}async function n_(t,e,n){const r=Ie(t),s=r.Ss.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ic(o))throw o;ue(v0,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(s.target)}function tS(t,e,n){const r=Ie(t);let s=be.min(),i=$e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const f=Ie(l),p=f.Ds.get(d);return p!==void 0?Q.resolve(f.Ss.get(p)):f.ai.getTargetData(u,d)}(r,o,ss(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.bs.getDocumentsMatchingQuery(o,e,n?s:be.min(),n?i:$e())).next(a=>(Vq(r,TW(e),a),{documents:a,Ns:i})))}function Vq(t,e,n){let r=t.vs.get(e)||be.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.vs.set(e,r)}class nS{constructor(){this.activeTargetIds=RW()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jq{constructor(){this.So=new nS,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new nS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="ConnectivityMonitor";class sS{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ue(rS,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){ue(rS,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nh=null;function r_(){return Nh===null?Nh=function(){return 268435456+Math.round(2147483648*Math.random())}():Nh++,"0x"+Nh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg="RestConnection",Uq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $q{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${s}`,this.qo=this.databaseId.database===np?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Qo(e,n,r,s,i){const o=r_(),a=this.$o(e,n.toUriEncodedString());ue(qg,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(l,s,i);const{host:u}=new URL(a),d=am(u);return this.Ko(e,a,l,r,d).then(f=>(ue(qg,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Ml(qg,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Wo(e,n,r,s,i,o){return this.Qo(e,n,r,s,i)}Uo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+rc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}$o(e,n){const r=Uq[e];return`${this.Lo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zq{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn="WebChannelConnection";class Bq extends $q{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,s,i){const o=r_();return new Promise((a,l)=>{const u=new GD;u.setWithCredentials(!0),u.listenOnce(QD.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case sf.NO_ERROR:const f=u.getResponseJson();ue(dn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case sf.TIMEOUT:ue(dn,`RPC '${e}' ${o} timed out`),l(new de(G.DEADLINE_EXCEEDED,"Request time out"));break;case sf.HTTP_ERROR:const p=u.getStatus();if(ue(dn,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);const I=v==null?void 0:v.error;if(I&&I.status&&I.message){const _=function(E){const g=E.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(g)>=0?g:G.UNKNOWN}(I.status);l(new de(_,I.message))}else l(new de(G.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new de(G.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{s_:e,streamId:o,o_:u.getLastErrorCode(),__:u.getLastError()})}}finally{ue(dn,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);ue(dn,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",d,r,15)})}a_(e,n,r){const s=r_(),i=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=XD(),a=ZD(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Uo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");ue(dn,`Creating RPC '${e}' stream ${s}: ${d}`,l);const f=o.createWebChannel(d,l);let p=!1,v=!1;const I=new zq({Go:S=>{v?ue(dn,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(p||(ue(dn,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),ue(dn,`RPC '${e}' stream ${s} sending:`,S),f.send(S))},zo:()=>f.close()}),_=(S,E,g)=>{S.listen(E,x=>{try{g(x)}catch(N){setTimeout(()=>{throw N},0)}})};return _(f,Hc.EventType.OPEN,()=>{v||(ue(dn,`RPC '${e}' stream ${s} transport opened.`),I.t_())}),_(f,Hc.EventType.CLOSE,()=>{v||(v=!0,ue(dn,`RPC '${e}' stream ${s} transport closed`),I.r_())}),_(f,Hc.EventType.ERROR,S=>{v||(v=!0,Ml(dn,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),I.r_(new de(G.UNAVAILABLE,"The operation could not be completed")))}),_(f,Hc.EventType.MESSAGE,S=>{var E;if(!v){const g=S.data[0];tt(!!g,16349);const x=g,N=(x==null?void 0:x.error)||((E=x[0])===null||E===void 0?void 0:E.error);if(N){ue(dn,`RPC '${e}' stream ${s} received error:`,N);const k=N.status;let M=function(C){const R=Dt[C];if(R!==void 0)return DO(R)}(k),T=N.message;M===void 0&&(M=G.INTERNAL,T="Unknown error status: "+k+" with message "+N.message),v=!0,I.r_(new de(M,T)),f.close()}else ue(dn,`RPC '${e}' stream ${s} received:`,g),I.i_(g)}}),_(a,YD.STAT_EVENT,S=>{S.stat===Wv.PROXY?ue(dn,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===Wv.NOPROXY&&ue(dn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{I.n_()},0),I}}function Hg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(t){return new KW(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,n,r=1e3,s=1.5,i=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=s,this.l_=i,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),s=Math.max(0,n-r);s>0&&ue("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,s,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="PersistentStream";class GO{constructor(e,n,r,s,i,o,a,l){this.bi=e,this.R_=r,this.V_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new KO(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===G.RESOURCE_EXHAUSTED?(zs(n.toString()),zs("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.m_===n&&this.B_(r,s)},r=>{e(()=>{const s=new de(G.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(s)})})}B_(e,n){const r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(s=>{r(()=>this.L_(s))}),this.stream.onMessage(s=>{r(()=>++this.p_==1?this.q_(s):this.onNext(s))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return ue(iS,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(ue(iS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Wq extends GO{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=YW(this.serializer,e),r=function(i){if(!("targetChange"in i))return be.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?be.min():o.readTime?is(o.readTime):be.min()}(e);return this.listener.Q_(n,r)}U_(e){const n={};n.database=t_(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Qv(l)?{documents:JW(i,l)}:{query:eq(i,l).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=LO(i,o.resumeToken);const u=Xv(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(be.min())>0){a.readTime=ap(i,o.snapshotVersion.toTimestamp());const u=Xv(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=nq(this.serializer,e);r&&(n.labels=r),this.F_(n)}K_(e){const n={};n.database=t_(this.serializer),n.removeTarget=e,this.F_(n)}}class qq extends GO{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=XW(e.writeResults,e.commitTime),r=is(e.commitTime);return this.listener.j_(r,n)}H_(){const e={};e.database=t_(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>ZW(this.serializer,r))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hq{}class Kq extends Hq{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.J_=!1}Y_(){if(this.J_)throw new de(G.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Qo(e,Jv(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new de(G.UNKNOWN,i.toString())})}Wo(e,n,r,s,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Wo(e,Jv(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new de(G.UNKNOWN,o.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class Gq{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(zs(n),this.ea=!1):ue("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo="RemoteStore";class Qq{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=i,this.ca.vo(o=>{r.enqueueAndForget(async()=>{oa(this)&&(ue(Qo,"Restarting streams for network reachability change."),await async function(l){const u=Ie(l);u.aa.add(4),await Nd(u),u.la.set("Unknown"),u.aa.delete(4),await wm(u)}(this))})}),this.la=new Gq(r,s)}}async function wm(t){if(oa(t))for(const e of t.ua)await e(!0)}async function Nd(t){for(const e of t.ua)await e(!1)}function QO(t,e){const n=Ie(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),E0(n)?x0(n):ac(n).b_()&&w0(n,e))}function _0(t,e){const n=Ie(t),r=ac(n);n._a.delete(e),r.b_()&&YO(n,e),n._a.size===0&&(r.b_()?r.v_():oa(n)&&n.la.set("Unknown"))}function w0(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ac(t).U_(e)}function YO(t,e){t.ha.Ke(e),ac(t).K_(e)}function x0(t){t.ha=new BW({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),ac(t).start(),t.la.ta()}function E0(t){return oa(t)&&!ac(t).w_()&&t._a.size>0}function oa(t){return Ie(t).aa.size===0}function ZO(t){t.ha=void 0}async function Yq(t){t.la.set("Online")}async function Zq(t){t._a.forEach((e,n)=>{w0(t,e)})}async function Xq(t,e){ZO(t),E0(t)?(t.la.ia(e),x0(t)):t.la.set("Unknown")}async function Jq(t,e,n){if(t.la.set("Online"),e instanceof MO&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s._a.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s._a.delete(a),s.ha.removeTarget(a))}(t,e)}catch(r){ue(Qo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await cp(t,r)}else if(e instanceof cf?t.ha.Xe(e):e instanceof OO?t.ha.ot(e):t.ha.nt(e),!n.isEqual(be.min()))try{const r=await HO(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.ha.It(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=i._a.get(u);d&&i._a.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=i._a.get(l);if(!d)return;i._a.set(l,d.withResumeToken(on.EMPTY_BYTE_STRING,d.snapshotVersion)),YO(i,l);const f=new bi(d.target,l,u,d.sequenceNumber);w0(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ue(Qo,"Failed to raise snapshot:",r),await cp(t,r)}}async function cp(t,e,n){if(!ic(e))throw e;t.aa.add(1),await Nd(t),t.la.set("Offline"),n||(n=()=>HO(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ue(Qo,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await wm(t)})}function XO(t,e){return e().catch(n=>cp(t,n,e))}async function xm(t){const e=Ie(t),n=Ki(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:s0;for(;eH(e);)try{const s=await Mq(e.localStore,r);if(s===null){e.oa.length===0&&n.v_();break}r=s.batchId,tH(e,s)}catch(s){await cp(e,s)}JO(e)&&e2(e)}function eH(t){return oa(t)&&t.oa.length<10}function tH(t,e){t.oa.push(e);const n=Ki(t);n.b_()&&n.W_&&n.G_(e.mutations)}function JO(t){return oa(t)&&!Ki(t).w_()&&t.oa.length>0}function e2(t){Ki(t).start()}async function nH(t){Ki(t).H_()}async function rH(t){const e=Ki(t);for(const n of t.oa)e.G_(n.mutations)}async function sH(t,e,n){const r=t.oa.shift(),s=h0.from(r,e,n);await XO(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await xm(t)}async function iH(t,e){e&&Ki(t).W_&&await async function(r,s){if(function(o){return $W(o)&&o!==G.ABORTED}(s.code)){const i=r.oa.shift();Ki(r).D_(),await XO(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await xm(r)}}(t,e),JO(t)&&e2(t)}async function oS(t,e){const n=Ie(t);n.asyncQueue.verifyOperationInProgress(),ue(Qo,"RemoteStore received new credentials");const r=oa(n);n.aa.add(3),await Nd(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await wm(n)}async function oH(t,e){const n=Ie(t);e?(n.aa.delete(2),await wm(n)):e||(n.aa.add(2),await Nd(n),n.la.set("Unknown"))}function ac(t){return t.Pa||(t.Pa=function(n,r,s){const i=Ie(n);return i.Y_(),new Wq(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{jo:Yq.bind(null,t),Jo:Zq.bind(null,t),Zo:Xq.bind(null,t),Q_:Jq.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),E0(t)?x0(t):t.la.set("Unknown")):(await t.Pa.stop(),ZO(t))})),t.Pa}function Ki(t){return t.Ta||(t.Ta=function(n,r,s){const i=Ie(n);return i.Y_(),new qq(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:nH.bind(null,t),Zo:iH.bind(null,t),z_:rH.bind(null,t),j_:sH.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await xm(t)):(await t.Ta.stop(),t.oa.length>0&&(ue(Qo,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new T0(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function b0(t,e){if(zs("AsyncQueue",`${e}: ${t}`),ic(t))return new de(G.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{static emptySet(e){return new rl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=Kc(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof rl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new rl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(){this.Ia=new xt(ye.comparator)}track(e){const n=e.doc.key,r=this.Ia.get(n);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(n):e.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):xe(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ul{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ul(e,n,rl.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aH{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class lH{constructor(){this.queries=lS(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){const s=Ie(n),i=s.queries;s.queries=lS(),i.forEach((o,a)=>{for(const l of a.Ra)l.onError(r)})})(this,new de(G.ABORTED,"Firestore shutting down"))}}function lS(){return new ia(t=>xO(t),pm)}async function t2(t,e){const n=Ie(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Va()&&e.ma()&&(r=2):(i=new aH,r=e.ma()?0:1);try{switch(r){case 0:i.Aa=await n.onListen(s,!0);break;case 1:i.Aa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=b0(o,`Initialization of query '${ba(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Ra.push(e),e.ga(n.onlineState),i.Aa&&e.pa(i.Aa)&&S0(n)}async function n2(t,e){const n=Ie(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Ra.indexOf(e);o>=0&&(i.Ra.splice(o,1),i.Ra.length===0?s=e.ma()?0:1:!i.Va()&&e.ma()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function cH(t,e){const n=Ie(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Ra)a.pa(s)&&(r=!0);o.Aa=s}}r&&S0(n)}function uH(t,e,n){const r=Ie(t),s=r.queries.get(e);if(s)for(const i of s.Ra)i.onError(n);r.queries.delete(e)}function S0(t){t.fa.forEach(e=>{e.next()})}var s_,cS;(cS=s_||(s_={})).ya="default",cS.Cache="cache";class r2{constructor(e,n,r){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ul(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const r=n!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=Ul.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==s_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.key=e}}class i2{constructor(e){this.key=e}}class dH{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=$e(),this.mutatedKeys=$e(),this.Ua=EO(e),this.Ka=new rl(this.Ua)}get Wa(){return this.qa}Ga(e,n){const r=n?n.za:new aS,s=n?n.Ka:this.Ka;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const p=s.get(d),v=mm(this.query,f)?f:null,I=!!p&&this.mutatedKeys.has(p.key),_=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let S=!1;p&&v?p.data.isEqual(v.data)?I!==_&&(r.track({type:3,doc:v}),S=!0):this.ja(p,v)||(r.track({type:2,doc:v}),S=!0,(l&&this.Ua(v,l)>0||u&&this.Ua(v,u)<0)&&(a=!0)):!p&&v?(r.track({type:0,doc:v}),S=!0):p&&!v&&(r.track({type:1,doc:p}),S=!0,(l||u)&&(a=!0)),S&&(v?(o=o.add(v),i=_?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Ka:o,za:r,ys:a,mutatedKeys:i}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const o=e.za.da();o.sort((d,f)=>function(v,I){const _=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Vt:S})}};return _(v)-_(I)}(d.type,f.type)||this.Ua(d.doc,f.doc)),this.Ha(r),s=s!=null&&s;const a=n&&!s?this.Ja():[],l=this.$a.size===0&&this.current&&!s?1:0,u=l!==this.Qa;return this.Qa=l,o.length!==0||u?{snapshot:new Ul(this.query,e.Ka,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:a}:{Ya:a}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new aS,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=$e(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const n=[];return e.forEach(r=>{this.$a.has(r)||n.push(new i2(r))}),this.$a.forEach(r=>{e.has(r)||n.push(new s2(r))}),n}Xa(e){this.qa=e.Ns,this.$a=$e();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return Ul.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const I0="SyncEngine";class hH{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class fH{constructor(e){this.key=e,this.tu=!1}}class pH{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.nu={},this.ru=new ia(a=>xO(a),pm),this.iu=new Map,this.su=new Set,this.ou=new xt(ye.comparator),this._u=new Map,this.au=new m0,this.uu={},this.cu=new Map,this.lu=Fl.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function mH(t,e,n=!0){const r=d2(t);let s;const i=r.ru.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.eu()):s=await o2(r,e,n,!0),s}async function gH(t,e){const n=d2(t);await o2(n,e,!0,!1)}async function o2(t,e,n,r){const s=await Lq(t.localStore,ss(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await yH(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&QO(t.remoteStore,s),a}async function yH(t,e,n,r,s){t.Pu=(f,p,v)=>async function(_,S,E,g){let x=S.view.Ga(E);x.ys&&(x=await tS(_.localStore,S.query,!1).then(({documents:T})=>S.view.Ga(T,x)));const N=g&&g.targetChanges.get(S.targetId),k=g&&g.targetMismatches.get(S.targetId)!=null,M=S.view.applyChanges(x,_.isPrimaryClient,N,k);return dS(_,S.targetId,M.Ya),M.snapshot}(t,f,p,v);const i=await tS(t.localStore,e,!0),o=new dH(e,i.Ns),a=o.Ga(i.documents),l=Pd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);dS(t,n,u.Ya);const d=new hH(e,n,o);return t.ru.set(e,d),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),u.snapshot}async function vH(t,e,n){const r=Ie(t),s=r.ru.get(e),i=r.iu.get(s.targetId);if(i.length>1)return r.iu.set(s.targetId,i.filter(o=>!pm(o,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await n_(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&_0(r.remoteStore,s.targetId),i_(r,s.targetId)}).catch(sc)):(i_(r,s.targetId),await n_(r.localStore,s.targetId,!0))}async function _H(t,e){const n=Ie(t),r=n.ru.get(e),s=n.iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),_0(n.remoteStore,r.targetId))}async function wH(t,e,n){const r=CH(t);try{const s=await function(o,a){const l=Ie(o),u=_t.now(),d=a.reduce((v,I)=>v.add(I.key),$e());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let I=Bs(),_=$e();return l.Cs.getEntries(v,d).next(S=>{I=S,I.forEach((E,g)=>{g.isValidDocument()||(_=_.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,I)).next(S=>{f=S;const E=[];for(const g of a){const x=LW(g,f.get(g.key).overlayedDocument);x!=null&&E.push(new io(g.key,x,fO(x.value.mapValue),dr.exists(!0)))}return l.mutationQueue.addMutationBatch(v,u,E,a)}).next(S=>{p=S;const E=S.applyToLocalDocumentSet(f,_);return l.documentOverlayCache.saveOverlays(v,S.batchId,E)})}).then(()=>({batchId:p.batchId,changes:bO(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.uu[o.currentUser.toKey()];u||(u=new xt(Oe)),u=u.insert(a,l),o.uu[o.currentUser.toKey()]=u}(r,s.batchId,n),await kd(r,s.changes),await xm(r.remoteStore)}catch(s){const i=b0(s,"Failed to persist write");n.reject(i)}}async function a2(t,e){const n=Ie(t);try{const r=await Dq(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n._u.get(i);o&&(tt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.tu=!0:s.modifiedDocuments.size>0?tt(o.tu,14607):s.removedDocuments.size>0&&(tt(o.tu,42227),o.tu=!1))}),await kd(n,r,e)}catch(r){await sc(r)}}function uS(t,e,n){const r=Ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ru.forEach((i,o)=>{const a=o.view.ga(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Ie(o);l.onlineState=a;let u=!1;l.queries.forEach((d,f)=>{for(const p of f.Ra)p.ga(a)&&(u=!0)}),u&&S0(l)}(r.eventManager,e),s.length&&r.nu.Q_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xH(t,e,n){const r=Ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r._u.get(e),i=s&&s.key;if(i){let o=new xt(ye.comparator);o=o.insert(i,gn.newNoDocument(i,be.min()));const a=$e().add(i),l=new vm(be.min(),new Map,new xt(Oe),o,a);await a2(r,l),r.ou=r.ou.remove(i),r._u.delete(e),C0(r)}else await n_(r.localStore,e,!1).then(()=>i_(r,e,n)).catch(sc)}async function EH(t,e){const n=Ie(t),r=e.batch.batchId;try{const s=await kq(n.localStore,e);c2(n,r,null),l2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await kd(n,s)}catch(s){await sc(s)}}async function TH(t,e,n){const r=Ie(t);try{const s=await function(o,a){const l=Ie(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(tt(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);c2(r,e,n),l2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await kd(r,s)}catch(s){await sc(s)}}function l2(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function c2(t,e,n){const r=Ie(t);let s=r.uu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.uu[r.currentUser.toKey()]=s}}function i_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.iu.get(e))t.ru.delete(r),n&&t.nu.Tu(r,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(r=>{t.au.containsKey(r)||u2(t,r)})}function u2(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);n!==null&&(_0(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),C0(t))}function dS(t,e,n){for(const r of n)r instanceof s2?(t.au.addReference(r.key,e),bH(t,r)):r instanceof i2?(ue(I0,"Document no longer in limbo: "+r.key),t.au.removeReference(r.key,e),t.au.containsKey(r.key)||u2(t,r.key)):xe(19791,{Iu:r})}function bH(t,e){const n=e.key,r=n.path.canonicalString();t.ou.get(n)||t.su.has(r)||(ue(I0,"New document in limbo: "+n),t.su.add(r),C0(t))}function C0(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new ye(ut.fromString(e)),r=t.lu.next();t._u.set(r,new fH(n)),t.ou=t.ou.insert(n,r),QO(t.remoteStore,new bi(ss(c0(n.path)),r,"TargetPurposeLimboResolution",dm.le))}}async function kd(t,e,n){const r=Ie(t),s=[],i=[],o=[];r.ru.isEmpty()||(r.ru.forEach((a,l)=>{o.push(r.Pu(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){s.push(u);const f=y0.Ps(l.targetId,u);i.push(f)}}))}),await Promise.all(o),r.nu.Q_(s),await async function(l,u){const d=Ie(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Q.forEach(u,p=>Q.forEach(p.ls,v=>d.persistence.referenceDelegate.addReference(f,p.targetId,v)).next(()=>Q.forEach(p.hs,v=>d.persistence.referenceDelegate.removeReference(f,p.targetId,v)))))}catch(f){if(!ic(f))throw f;ue(v0,"Failed to update sequence numbers: "+f)}for(const f of u){const p=f.targetId;if(!f.fromCache){const v=d.Ss.get(p),I=v.snapshotVersion,_=v.withLastLimboFreeSnapshotVersion(I);d.Ss=d.Ss.insert(p,_)}}}(r.localStore,i))}async function SH(t,e){const n=Ie(t);if(!n.currentUser.isEqual(e)){ue(I0,"User change. New user:",e.toKey());const r=await qO(n.localStore,e);n.currentUser=e,function(i,o){i.cu.forEach(a=>{a.forEach(l=>{l.reject(new de(G.CANCELLED,o))})}),i.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await kd(n,r.Ms)}}function IH(t,e){const n=Ie(t),r=n._u.get(e);if(r&&r.tu)return $e().add(r.key);{let s=$e();const i=n.iu.get(e);if(!i)return s;for(const o of i){const a=n.ru.get(o);s=s.unionWith(a.view.Wa)}return s}}function d2(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=a2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xH.bind(null,e),e.nu.Q_=cH.bind(null,e.eventManager),e.nu.Tu=uH.bind(null,e.eventManager),e}function CH(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TH.bind(null,e),e}class up{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_m(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return Nq(this.persistence,new Aq,e.initialUser,this.serializer)}Ru(e){return new WO(g0.Ei,this.serializer)}Au(e){return new jq}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}up.provider={build:()=>new up};class AH extends up{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){tt(this.persistence.referenceDelegate instanceof lp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new fq(r,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new WO(r=>lp.Ei(r,n),this.serializer)}}class o_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>uS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=SH.bind(null,this.syncEngine),await oH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lH}()}createDatastore(e){const n=_m(e.databaseInfo.databaseId),r=function(i){return new Bq(i)}(e.databaseInfo);return function(i,o,a,l){return new Kq(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new Qq(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>uS(this.syncEngine,n,0),function(){return sS.C()?new sS:new Fq}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,d){const f=new pH(s,i,o,a,l,u);return d&&(f.hu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Ie(s);ue(Qo,"RemoteStore shutting down."),i.aa.add(5),await Nd(i),i.ca.shutdown(),i.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}o_.provider={build:()=>new o_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):zs("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="FirestoreClient";class RH{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=pn.UNAUTHENTICATED,this.clientId=nO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{ue(Gi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ue(Gi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=b0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Kg(t,e){t.asyncQueue.verifyOperationInProgress(),ue(Gi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await qO(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function hS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await PH(t);ue(Gi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>oS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>oS(e.remoteStore,s)),t._onlineComponents=e}async function PH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ue(Gi,"Using user provided OfflineComponentProvider");try{await Kg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===G.FAILED_PRECONDITION||s.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ml("Error using user provided cache. Falling back to memory cache: "+n),await Kg(t,new up)}}else ue(Gi,"Using default OfflineComponentProvider"),await Kg(t,new AH(void 0));return t._offlineComponents}async function f2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ue(Gi,"Using user provided OnlineComponentProvider"),await hS(t,t._uninitializedComponentsProvider._online)):(ue(Gi,"Using default OnlineComponentProvider"),await hS(t,new o_))),t._onlineComponents}function NH(t){return f2(t).then(e=>e.syncEngine)}async function p2(t){const e=await f2(t),n=e.eventManager;return n.onListen=mH.bind(null,e.syncEngine),n.onUnlisten=vH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_H.bind(null,e.syncEngine),n}function kH(t,e,n={}){const r=new ks;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new h2({next:p=>{d.yu(),o.enqueueAndForget(()=>n2(i,f));const v=p.docs.has(a);!v&&p.fromCache?u.reject(new de(G.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&p.fromCache&&l&&l.source==="server"?u.reject(new de(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new r2(c0(a.path),d,{includeMetadataChanges:!0,Fa:!0});return t2(i,f)}(await p2(t),t.asyncQueue,e,n,r)),r.promise}function DH(t,e,n={}){const r=new ks;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new h2({next:p=>{d.yu(),o.enqueueAndForget(()=>n2(i,f)),p.fromCache&&l.source==="server"?u.reject(new de(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new r2(a,d,{includeMetadataChanges:!0,Fa:!0});return t2(i,f)}(await p2(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(t,e,n){if(!n)throw new de(G.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function OH(t,e,n,r){if(e===!0&&r===!0)throw new de(G.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function pS(t){if(!ye.isDocumentKey(t))throw new de(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mS(t){if(ye.isDocumentKey(t))throw new de(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Em(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe(12329,{type:typeof t})}function Vr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Em(t);throw new de(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2="firestore.googleapis.com",gS=!0;class yS{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new de(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=y2,this.ssl=gS}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:gS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=BO;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<dq)throw new de(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=m2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new de(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new de(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new de(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tm{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new B7;switch(r.type){case"firstParty":return new K7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=fS.get(n);r&&(ue("ComponentProvider","Removing Datastore"),fS.delete(n),r.terminate())}(this),Promise.resolve()}}function MH(t,e,n,r={}){var s;t=Vr(t,Tm);const i=am(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;i&&oD(`https://${l}`),o.host!==y2&&o.host!==l&&Ml("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:l,ssl:i,emulatorOptions:r});if(!Wo(u,a)&&(t._setSettings(u),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=pn.MOCK_USER;else{d=eB(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new de(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new pn(p)}t._authCredentials=new W7(new eO(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new aa(this.firestore,e,this._query)}}class Rn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rn(this.firestore,e,this._key)}}class Vi extends aa{constructor(e,n,r){super(e,n,c0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new ye(e))}withConverter(e){return new Vi(this.firestore,e,this._path)}}function vS(t,e,...n){if(t=Qt(t),g2("collection","path",e),t instanceof Tm){const r=ut.fromString(e,...n);return mS(r),new Vi(t,null,r)}{if(!(t instanceof Rn||t instanceof Vi))throw new de(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ut.fromString(e,...n));return mS(r),new Vi(t.firestore,null,r)}}function sl(t,e,...n){if(t=Qt(t),arguments.length===1&&(e=nO.newId()),g2("doc","path",e),t instanceof Tm){const r=ut.fromString(e,...n);return pS(r),new Rn(t,null,new ye(r))}{if(!(t instanceof Rn||t instanceof Vi))throw new de(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ut.fromString(e,...n));return pS(r),new Rn(t.firestore,t instanceof Vi?t.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="AsyncQueue";class wS{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new KO(this,"async_queue_retry"),this.ju=()=>{const r=Hg();r&&ue(_S,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const n=Hg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=Hg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new ks;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!ic(e))throw e;ue(_S,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,zs("INTERNAL UNHANDLED ERROR: ",xS(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const s=T0.createAndSchedule(this,e,n,r,i=>this.Xu(i));return this.Uu.push(s),s}Ju(){this.Ku&&xe(47125,{ec:xS(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function xS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class la extends Tm{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new wS,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wS(e),this._firestoreClient=void 0,await e}}}function LH(t,e){const n=typeof t=="object"?t:uD(),r=typeof t=="string"?t:np,s=Gw(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Xz("firestore");i&&MH(s,...i)}return s}function A0(t){if(t._terminated)throw new de(G.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||VH(t),t._firestoreClient}function VH(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,u,d){return new lW(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,m2(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new RH(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $l(on.fromBase64String(e))}catch(n){throw new de(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $l(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jH=/^__.*__$/;class FH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new io(e,this.data,this.fieldMask,n,this.fieldTransforms):new Rd(e,this.data,n,this.fieldTransforms)}}class v2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new io(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{oc:t})}}class k0{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this._c(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new k0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ac({path:r,cc:!1});return s.lc(e),s}hc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ac({path:r,cc:!1});return s._c(),s}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return dp(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(_2(this.oc)&&jH.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class UH{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||_m(e)}dc(e,n,r,s=!1){return new k0({oc:e,methodName:n,Ec:r,path:nn.emptyPath(),cc:!1,Ic:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sm(t){const e=t._freezeSettings(),n=_m(t._databaseId);return new UH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function w2(t,e,n,r,s,i={}){const o=t.dc(i.merge||i.mergeFields?2:0,e,n,s);D0("Data must be an object, but it was:",o,r);const a=x2(r,o);let l,u;if(i.merge)l=new Qn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const p=a_(e,f,n);if(!o.contains(p))throw new de(G.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);T2(d,p)||d.push(p)}l=new Qn(d),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new FH(new jn(a),l,u)}class Im extends R0{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Im}}function $H(t,e,n,r){const s=t.dc(1,e,n);D0("Data must be an object, but it was:",s,r);const i=[],o=jn.empty();so(r,(l,u)=>{const d=O0(e,l,n);u=Qt(u);const f=s.hc(d);if(u instanceof Im)i.push(d);else{const p=Dd(u,f);p!=null&&(i.push(d),o.set(d,p))}});const a=new Qn(i);return new v2(o,a,s.fieldTransforms)}function zH(t,e,n,r,s,i){const o=t.dc(1,e,n),a=[a_(e,r,n)],l=[s];if(i.length%2!=0)throw new de(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(a_(e,i[p])),l.push(i[p+1]);const u=[],d=jn.empty();for(let p=a.length-1;p>=0;--p)if(!T2(u,a[p])){const v=a[p];let I=l[p];I=Qt(I);const _=o.hc(v);if(I instanceof Im)u.push(v);else{const S=Dd(I,_);S!=null&&(u.push(v),d.set(v,S))}}const f=new Qn(u);return new v2(d,f,o.fieldTransforms)}function BH(t,e,n,r=!1){return Dd(n,t.dc(r?4:3,e))}function Dd(t,e){if(E2(t=Qt(t)))return D0("Unsupported field value:",e,t),x2(t,e);if(t instanceof R0)return function(r,s){if(!_2(s.oc))throw s.Tc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Tc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Dd(a,s.Pc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Qt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return PW(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=_t.fromDate(r);return{timestampValue:ap(s.serializer,i)}}if(r instanceof _t){const i=new _t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ap(s.serializer,i)}}if(r instanceof P0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $l)return{bytesValue:LO(s.serializer,r._byteString)};if(r instanceof Rn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Tc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:p0(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof N0)return function(o,a){return{mapValue:{fields:{[uO]:{stringValue:hO},[rp]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Tc("VectorValues must only contain numeric values.");return u0(a.serializer,u)})}}}}}}(r,s);throw s.Tc(`Unsupported field value: ${Em(r)}`)}(t,e)}function x2(t,e){const n={};return sO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):so(t,(r,s)=>{const i=Dd(s,e.uc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function E2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _t||t instanceof P0||t instanceof $l||t instanceof Rn||t instanceof R0||t instanceof N0)}function D0(t,e,n){if(!E2(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Em(n);throw r==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+r)}}function a_(t,e,n){if((e=Qt(e))instanceof bm)return e._internalPath;if(typeof e=="string")return O0(t,e);throw dp("Field path arguments must be of type string or ",t,!1,void 0,n)}const WH=new RegExp("[~\\*/\\[\\]]");function O0(t,e,n){if(e.search(WH)>=0)throw dp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bm(...e.split("."))._internalPath}catch{throw dp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dp(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new de(G.INVALID_ARGUMENT,a+t+l)}function T2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Cm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class qH extends b2{data(){return super.data()}}function Cm(t,e){return typeof e=="string"?O0(t,e):e instanceof bm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HH(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class M0{}class S2 extends M0{}function KH(t,e,...n){let r=[];e instanceof M0&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof L0).length,a=i.filter(l=>l instanceof Am).length;if(o>1||o>0&&a>0)throw new de(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Am extends S2{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Am(e,n,r)}_apply(e){const n=this._parse(e);return I2(e._query,n),new aa(e.firestore,e.converter,Yv(e._query,n))}_parse(e){const n=Sm(e.firestore);return function(i,o,a,l,u,d,f){let p;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new de(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){TS(f,d);const I=[];for(const _ of f)I.push(ES(l,i,_));p={arrayValue:{values:I}}}else p=ES(l,i,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||TS(f,d),p=BH(a,o,f,d==="in"||d==="not-in");return Vt.create(u,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function GH(t,e,n){const r=e,s=Cm("where",t);return Am._create(s,r,n)}class L0 extends M0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new L0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Lr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)I2(o,l),o=Yv(o,l)}(e._query,n),new aa(e.firestore,e.converter,Yv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class V0 extends S2{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new V0(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new de(G.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new de(G.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bu(i,o)}(e._query,this._field,this._direction);return new aa(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new oc(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function QH(t,e="asc"){const n=e,r=Cm("orderBy",t);return V0._create(r,n)}function ES(t,e,n){if(typeof(n=Qt(n))=="string"){if(n==="")throw new de(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wO(e)&&n.indexOf("/")!==-1)throw new de(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ut.fromString(n));if(!ye.isDocumentKey(r))throw new de(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Lb(t,new ye(r))}if(n instanceof Rn)return Lb(t,n._key);throw new de(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Em(n)}.`)}function TS(t,e){if(!Array.isArray(t)||t.length===0)throw new de(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function I2(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new de(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class YH{convertValue(e,n="none"){switch(Hi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return so(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[rp].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Rt(o.doubleValue));return new N0(i)}convertGeoPoint(e){return new P0(Rt(e.latitude),Rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=fm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Uu(e));default:return null}}convertTimestamp(e){const n=Wi(e);return new _t(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ut.fromString(e);tt(zO(r),9688,{name:e});const s=new $u(r.get(1),r.get(3)),i=new ye(r.popFirst(5));return s.isEqual(n)||zs(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class A2 extends b2{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new uf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Cm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class uf extends A2{data(e={}){return super.data(e)}}class ZH{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Qc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new uf(this._firestore,this._userDataWriter,r.key,r,new Qc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new uf(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Qc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new uf(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Qc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:XH(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function XH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(t){t=Vr(t,Rn);const e=Vr(t.firestore,la);return kH(A0(e),t._key).then(n=>sK(e,t,n))}class P2 extends YH{constructor(e){super(),this.firestore=e}convertBytes(e){return new $l(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,n)}}function JH(t){t=Vr(t,aa);const e=Vr(t.firestore,la),n=A0(e),r=new P2(e);return HH(t._query),DH(n,t._query).then(s=>new ZH(e,r,t,s))}function eK(t,e,n){t=Vr(t,Rn);const r=Vr(t.firestore,la),s=C2(t.converter,e);return Rm(r,[w2(Sm(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,dr.none())])}function tK(t,e,n,...r){t=Vr(t,Rn);const s=Vr(t.firestore,la),i=Sm(s);let o;return o=typeof(e=Qt(e))=="string"||e instanceof bm?zH(i,"updateDoc",t._key,e,n,r):$H(i,"updateDoc",t._key,e),Rm(s,[o.toMutation(t._key,dr.exists(!0))])}function nK(t){return Rm(Vr(t.firestore,la),[new d0(t._key,dr.none())])}function rK(t,e){const n=Vr(t.firestore,la),r=sl(t),s=C2(t.converter,e);return Rm(n,[w2(Sm(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,dr.exists(!1))]).then(()=>r)}function Rm(t,e){return function(r,s){const i=new ks;return r.asyncQueue.enqueueAndForget(async()=>wH(await NH(r),s,i)),i.promise}(A0(t),e)}function sK(t,e,n){const r=n.docs.get(e._key),s=new P2(t);return new A2(t,s,e._key,r,new Qc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){rc=s})(tc),Ol(new qo("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new la(new q7(r.getProvider("auth-internal")),new G7(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new de(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $u(u.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Mi(bb,Sb,e),Mi(bb,Sb,"esm2017")})();const iK={apiKey:"AIzaSyC5rjogSXv_7BJ5mT58PIJoi-BWedce4wc",authDomain:"guitar-practice-tracker.firebaseapp.com",projectId:"guitar-practice-tracker",storageBucket:"guitar-practice-tracker.appspot.com",messagingSenderId:void 0,appId:"1:182882362321:web:9792aae4d08a70f39836f0"},N2=cD(iK),kh=$7(N2),yo=LH(N2),k2=y.createContext(null);function oK({children:t}){const{toast:e}=vd(),n=yd(),[r,s]=y.useState(!0),[i,o]=y.useState(null),[a,l]=y.useState(null),{data:u,isLoading:d}=FN({queryKey:["userProfile",a==null?void 0:a.uid],queryFn:async()=>{if(!a)return null;const _=sl(yo,"users",a.uid),S=await R2(_);return S.exists()?S.data():null},enabled:!!a}),f=a?{uid:a.uid,email:a.email,displayName:a.displayName,...u}:null;y.useEffect(()=>{const _=R8(kh,S=>{l(S),s(!1)});return()=>_()},[]);const p=Ya({mutationFn:async _=>(await I8(kh,_.username,_.password)).user,onSuccess:()=>{e({title:"Welcome back!",description:"Logged in successfully"})},onError:_=>{e({title:"Login failed",description:_.message,variant:"destructive"})}}),v=Ya({mutationFn:async _=>{const E=(await S8(kh,_.username,_.password)).user;return await eK(sl(yo,"users",E.uid),{name:_.name,username:_.username,createdAt:new Date}),E},onSuccess:(_,S)=>{e({title:"Account created!",description:`Welcome to VinylVault, ${S.name}`})},onError:_=>{e({title:"Registration failed",description:_.message,variant:"destructive"})}}),I=Ya({mutationFn:async()=>{await P8(kh)},onSuccess:()=>{n.invalidateQueries({queryKey:["userProfile"]}),n.invalidateQueries({queryKey:["records"]}),e({title:"Logged out",description:"You have been successfully logged out"})},onError:_=>{e({title:"Logout failed",description:_.message,variant:"destructive"})}});return h.jsx(k2.Provider,{value:{user:f,isLoading:r||d,error:i,loginMutation:p,registerMutation:v,logoutMutation:I},children:t})}function lc(){const t=y.useContext(k2);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}var aK=y.createContext(void 0);function j0(t){const e=y.useContext(aK);return t||e||"ltr"}var Gg=0;function F0(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??bS()),document.body.insertAdjacentElement("beforeend",t[1]??bS()),Gg++,()=>{Gg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Gg--}},[])}function bS(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Qg="focusScope.autoFocusOnMount",Yg="focusScope.autoFocusOnUnmount",SS={bubbles:!1,cancelable:!0},lK="FocusScope",Pm=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=y.useState(null),u=vn(s),d=vn(i),f=y.useRef(null),p=Xe(e,_=>l(_)),v=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let _=function(x){if(v.paused||!a)return;const N=x.target;a.contains(N)?f.current=N:ri(f.current,{select:!0})},S=function(x){if(v.paused||!a)return;const N=x.relatedTarget;N!==null&&(a.contains(N)||ri(f.current,{select:!0}))},E=function(x){if(document.activeElement===document.body)for(const k of x)k.removedNodes.length>0&&ri(a)};document.addEventListener("focusin",_),document.addEventListener("focusout",S);const g=new MutationObserver(E);return a&&g.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",S),g.disconnect()}}},[r,a,v.paused]),y.useEffect(()=>{if(a){CS.add(v);const _=document.activeElement;if(!a.contains(_)){const E=new CustomEvent(Qg,SS);a.addEventListener(Qg,u),a.dispatchEvent(E),E.defaultPrevented||(cK(pK(D2(a)),{select:!0}),document.activeElement===_&&ri(a))}return()=>{a.removeEventListener(Qg,u),setTimeout(()=>{const E=new CustomEvent(Yg,SS);a.addEventListener(Yg,d),a.dispatchEvent(E),E.defaultPrevented||ri(_??document.body,{select:!0}),a.removeEventListener(Yg,d),CS.remove(v)},0)}}},[a,u,d,v]);const I=y.useCallback(_=>{if(!n&&!r||v.paused)return;const S=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,E=document.activeElement;if(S&&E){const g=_.currentTarget,[x,N]=uK(g);x&&N?!_.shiftKey&&E===N?(_.preventDefault(),n&&ri(x,{select:!0})):_.shiftKey&&E===x&&(_.preventDefault(),n&&ri(N,{select:!0})):E===g&&_.preventDefault()}},[n,r,v.paused]);return h.jsx(Pe.div,{tabIndex:-1,...o,ref:p,onKeyDown:I})});Pm.displayName=lK;function cK(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ri(r,{select:e}),document.activeElement!==n)return}function uK(t){const e=D2(t),n=IS(e,t),r=IS(e.reverse(),t);return[n,r]}function D2(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function IS(t,e){for(const n of t)if(!dK(n,{upTo:e}))return n}function dK(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function hK(t){return t instanceof HTMLInputElement&&"select"in t}function ri(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&hK(t)&&e&&t.select()}}var CS=fK();function fK(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=AS(t,e),t.unshift(e)},remove(e){var n;t=AS(t,e),(n=t[0])==null||n.resume()}}}function AS(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function pK(t){return t.filter(e=>e.tagName!=="A")}var Zg="rovingFocusGroup.onEntryFocus",mK={bubbles:!1,cancelable:!0},Nm="RovingFocusGroup",[l_,O2,gK]=Xp(Nm),[yK,M2]=Hs(Nm,[gK]),[vK,_K]=yK(Nm),L2=y.forwardRef((t,e)=>h.jsx(l_.Provider,{scope:t.__scopeRovingFocusGroup,children:h.jsx(l_.Slot,{scope:t.__scopeRovingFocusGroup,children:h.jsx(wK,{...t,ref:e})})}));L2.displayName=Nm;var wK=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,p=y.useRef(null),v=Xe(e,p),I=j0(i),[_=null,S]=Nl({prop:o,defaultProp:a,onChange:l}),[E,g]=y.useState(!1),x=vn(u),N=O2(n),k=y.useRef(!1),[M,T]=y.useState(0);return y.useEffect(()=>{const b=p.current;if(b)return b.addEventListener(Zg,x),()=>b.removeEventListener(Zg,x)},[x]),h.jsx(vK,{scope:n,orientation:r,dir:I,loop:s,currentTabStopId:_,onItemFocus:y.useCallback(b=>S(b),[S]),onItemShiftTab:y.useCallback(()=>g(!0),[]),onFocusableItemAdd:y.useCallback(()=>T(b=>b+1),[]),onFocusableItemRemove:y.useCallback(()=>T(b=>b-1),[]),children:h.jsx(Pe.div,{tabIndex:E||M===0?-1:0,"data-orientation":r,...f,ref:v,style:{outline:"none",...t.style},onMouseDown:ie(t.onMouseDown,()=>{k.current=!0}),onFocus:ie(t.onFocus,b=>{const C=!k.current;if(b.target===b.currentTarget&&C&&!E){const R=new CustomEvent(Zg,mK);if(b.currentTarget.dispatchEvent(R),!R.defaultPrevented){const O=N().filter(K=>K.focusable),D=O.find(K=>K.active),P=O.find(K=>K.id===_),B=[D,P,...O].filter(Boolean).map(K=>K.ref.current);F2(B,d)}}k.current=!1}),onBlur:ie(t.onBlur,()=>g(!1))})})}),V2="RovingFocusGroupItem",j2=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=Ps(),l=i||a,u=_K(V2,n),d=u.currentTabStopId===l,f=O2(n),{onFocusableItemAdd:p,onFocusableItemRemove:v}=u;return y.useEffect(()=>{if(r)return p(),()=>v()},[r,p,v]),h.jsx(l_.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:h.jsx(Pe.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:ie(t.onMouseDown,I=>{r?u.onItemFocus(l):I.preventDefault()}),onFocus:ie(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:ie(t.onKeyDown,I=>{if(I.key==="Tab"&&I.shiftKey){u.onItemShiftTab();return}if(I.target!==I.currentTarget)return;const _=TK(I,u.orientation,u.dir);if(_!==void 0){if(I.metaKey||I.ctrlKey||I.altKey||I.shiftKey)return;I.preventDefault();let E=f().filter(g=>g.focusable).map(g=>g.ref.current);if(_==="last")E.reverse();else if(_==="prev"||_==="next"){_==="prev"&&E.reverse();const g=E.indexOf(I.currentTarget);E=u.loop?bK(E,g+1):E.slice(g+1)}setTimeout(()=>F2(E))}})})})});j2.displayName=V2;var xK={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function EK(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function TK(t,e,n){const r=EK(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return xK[r]}function F2(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function bK(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var SK=L2,IK=j2,CK=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},_a=new WeakMap,Dh=new WeakMap,Oh={},Xg=0,U2=function(t){return t&&(t.host||U2(t.parentNode))},AK=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=U2(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},RK=function(t,e,n,r){var s=AK(e,Array.isArray(t)?t:[t]);Oh[n]||(Oh[n]=new WeakMap);var i=Oh[n],o=[],a=new Set,l=new Set(s),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))d(p);else try{var v=p.getAttribute(r),I=v!==null&&v!=="false",_=(_a.get(p)||0)+1,S=(i.get(p)||0)+1;_a.set(p,_),i.set(p,S),o.push(p),_===1&&I&&Dh.set(p,!0),S===1&&p.setAttribute(n,"true"),I||p.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",p,E)}})};return d(e),a.clear(),Xg++,function(){o.forEach(function(f){var p=_a.get(f)-1,v=i.get(f)-1;_a.set(f,p),i.set(f,v),p||(Dh.has(f)||f.removeAttribute(r),Dh.delete(f)),v||f.removeAttribute(n)}),Xg--,Xg||(_a=new WeakMap,_a=new WeakMap,Dh=new WeakMap,Oh={})}},U0=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=CK(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),RK(r,s,n,"aria-hidden")):function(){return null}},df="right-scroll-bar-position",hf="width-before-scroll-bar",PK="with-scroll-bars-hidden",NK="--removed-body-scroll-bar-size";function Jg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function kK(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var DK=typeof window<"u"?y.useLayoutEffect:y.useEffect,RS=new WeakMap;function OK(t,e){var n=kK(null,function(r){return t.forEach(function(s){return Jg(s,r)})});return DK(function(){var r=RS.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Jg(a,null)}),i.forEach(function(a){s.has(a)||Jg(a,o)})}RS.set(n,t)},[t]),n}function MK(t){return t}function LK(t,e){e===void 0&&(e=MK);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function VK(t){t===void 0&&(t={});var e=LK(null);return e.options=Zr({async:!0,ssr:!1},t),e}var $2=function(t){var e=t.sideCar,n=bd(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,Zr({},n))};$2.isSideCarExport=!0;function jK(t,e){return t.useMedium(e),$2}var z2=VK(),ey=function(){},km=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:ey,onWheelCapture:ey,onTouchMoveCapture:ey}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,p=t.sideCar,v=t.noIsolation,I=t.inert,_=t.allowPinchZoom,S=t.as,E=S===void 0?"div":S,g=t.gapMode,x=bd(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=p,k=OK([n,e]),M=Zr(Zr({},x),s);return y.createElement(y.Fragment,null,d&&y.createElement(N,{sideCar:z2,removeScrollBar:u,shards:f,noIsolation:v,inert:I,setCallbacks:i,allowPinchZoom:!!_,lockRef:n,gapMode:g}),o?y.cloneElement(y.Children.only(a),Zr(Zr({},M),{ref:k})):y.createElement(E,Zr({},M,{className:l,ref:k}),a))});km.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};km.classNames={fullWidth:hf,zeroRight:df};var FK=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function UK(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=FK();return e&&t.setAttribute("nonce",e),t}function $K(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function zK(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var BK=function(){var t=0,e=null;return{add:function(n){t==0&&(e=UK())&&($K(e,n),zK(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},WK=function(){var t=BK();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},B2=function(){var t=WK(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},qK={left:0,top:0,right:0,gap:0},ty=function(t){return parseInt(t||"",10)||0},HK=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[ty(n),ty(r),ty(s)]},KK=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return qK;var e=HK(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},GK=B2(),il="data-scroll-locked",QK=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(PK,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(il,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(df,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(hf,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(df," .").concat(df,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(hf," .").concat(hf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(il,`] {
    `).concat(NK,": ").concat(a,`px;
  }
`)},PS=function(){var t=parseInt(document.body.getAttribute(il)||"0",10);return isFinite(t)?t:0},YK=function(){y.useEffect(function(){return document.body.setAttribute(il,(PS()+1).toString()),function(){var t=PS()-1;t<=0?document.body.removeAttribute(il):document.body.setAttribute(il,t.toString())}},[])},ZK=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;YK();var i=y.useMemo(function(){return KK(s)},[s]);return y.createElement(GK,{styles:QK(i,!e,s,n?"":"!important")})},c_=!1;if(typeof window<"u")try{var Mh=Object.defineProperty({},"passive",{get:function(){return c_=!0,!0}});window.addEventListener("test",Mh,Mh),window.removeEventListener("test",Mh,Mh)}catch{c_=!1}var wa=c_?{passive:!1}:!1,XK=function(t){return t.tagName==="TEXTAREA"},W2=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!XK(t)&&n[e]==="visible")},JK=function(t){return W2(t,"overflowY")},eG=function(t){return W2(t,"overflowX")},NS=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=q2(t,r);if(s){var i=H2(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},tG=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},nG=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},q2=function(t,e){return t==="v"?JK(e):eG(e)},H2=function(t,e){return t==="v"?tG(e):nG(e)},rG=function(t,e){return t==="h"&&e==="rtl"?-1:1},sG=function(t,e,n,r,s){var i=rG(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),u=!1,d=o>0,f=0,p=0;do{var v=H2(t,a),I=v[0],_=v[1],S=v[2],E=_-S-i*I;(I||E)&&q2(t,a)&&(f+=E,p+=I),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(p)<1||!s))&&(u=!0),u},Lh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},kS=function(t){return[t.deltaX,t.deltaY]},DS=function(t){return t&&"current"in t?t.current:t},iG=function(t,e){return t[0]===e[0]&&t[1]===e[1]},oG=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},aG=0,xa=[];function lG(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),s=y.useState(aG++)[0],i=y.useState(B2)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var _=C6([t.lockRef.current],(t.shards||[]).map(DS),!0).filter(Boolean);return _.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),_.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(_,S){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!o.current.allowPinchZoom;var E=Lh(_),g=n.current,x="deltaX"in _?_.deltaX:g[0]-E[0],N="deltaY"in _?_.deltaY:g[1]-E[1],k,M=_.target,T=Math.abs(x)>Math.abs(N)?"h":"v";if("touches"in _&&T==="h"&&M.type==="range")return!1;var b=NS(T,M);if(!b)return!0;if(b?k=T:(k=T==="v"?"h":"v",b=NS(T,M)),!b)return!1;if(!r.current&&"changedTouches"in _&&(x||N)&&(r.current=k),!k)return!0;var C=r.current||k;return sG(C,S,_,C==="h"?x:N,!0)},[]),l=y.useCallback(function(_){var S=_;if(!(!xa.length||xa[xa.length-1]!==i)){var E="deltaY"in S?kS(S):Lh(S),g=e.current.filter(function(k){return k.name===S.type&&(k.target===S.target||S.target===k.shadowParent)&&iG(k.delta,E)})[0];if(g&&g.should){S.cancelable&&S.preventDefault();return}if(!g){var x=(o.current.shards||[]).map(DS).filter(Boolean).filter(function(k){return k.contains(S.target)}),N=x.length>0?a(S,x[0]):!o.current.noIsolation;N&&S.cancelable&&S.preventDefault()}}},[]),u=y.useCallback(function(_,S,E,g){var x={name:_,delta:S,target:E,should:g,shadowParent:cG(E)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(N){return N!==x})},1)},[]),d=y.useCallback(function(_){n.current=Lh(_),r.current=void 0},[]),f=y.useCallback(function(_){u(_.type,kS(_),_.target,a(_,t.lockRef.current))},[]),p=y.useCallback(function(_){u(_.type,Lh(_),_.target,a(_,t.lockRef.current))},[]);y.useEffect(function(){return xa.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,wa),document.addEventListener("touchmove",l,wa),document.addEventListener("touchstart",d,wa),function(){xa=xa.filter(function(_){return _!==i}),document.removeEventListener("wheel",l,wa),document.removeEventListener("touchmove",l,wa),document.removeEventListener("touchstart",d,wa)}},[]);var v=t.removeScrollBar,I=t.inert;return y.createElement(y.Fragment,null,I?y.createElement(i,{styles:oG(s)}):null,v?y.createElement(ZK,{gapMode:t.gapMode}):null)}function cG(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const uG=jK(z2,lG);var Dm=y.forwardRef(function(t,e){return y.createElement(km,Zr({},t,{ref:e,sideCar:uG}))});Dm.classNames=km.classNames;var u_=["Enter"," "],dG=["ArrowDown","PageUp","Home"],K2=["ArrowUp","PageDown","End"],hG=[...dG,...K2],fG={ltr:[...u_,"ArrowRight"],rtl:[...u_,"ArrowLeft"]},pG={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Od="Menu",[Hu,mG,gG]=Xp(Od),[ca,G2]=Hs(Od,[gG,ec,M2]),Om=ec(),Q2=M2(),[yG,ua]=ca(Od),[vG,Md]=ca(Od),Y2=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=Om(e),[l,u]=y.useState(null),d=y.useRef(!1),f=vn(i),p=j0(s);return y.useEffect(()=>{const v=()=>{d.current=!0,document.addEventListener("pointerdown",I,{capture:!0,once:!0}),document.addEventListener("pointermove",I,{capture:!0,once:!0})},I=()=>d.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",I,{capture:!0}),document.removeEventListener("pointermove",I,{capture:!0})}},[]),h.jsx(Bk,{...a,children:h.jsx(yG,{scope:e,open:n,onOpenChange:f,content:l,onContentChange:u,children:h.jsx(vG,{scope:e,onClose:y.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:p,modal:o,children:r})})})};Y2.displayName=Od;var _G="MenuAnchor",$0=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Om(n);return h.jsx(zw,{...s,...r,ref:e})});$0.displayName=_G;var z0="MenuPortal",[wG,Z2]=ca(z0,{forceMount:void 0}),X2=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=ua(z0,e);return h.jsx(wG,{scope:e,forceMount:n,children:h.jsx(ds,{present:n||i.open,children:h.jsx(_d,{asChild:!0,container:s,children:r})})})};X2.displayName=z0;var hr="MenuContent",[xG,B0]=ca(hr),J2=y.forwardRef((t,e)=>{const n=Z2(hr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=ua(hr,t.__scopeMenu),o=Md(hr,t.__scopeMenu);return h.jsx(Hu.Provider,{scope:t.__scopeMenu,children:h.jsx(ds,{present:r||i.open,children:h.jsx(Hu.Slot,{scope:t.__scopeMenu,children:o.modal?h.jsx(EG,{...s,ref:e}):h.jsx(TG,{...s,ref:e})})})})}),EG=y.forwardRef((t,e)=>{const n=ua(hr,t.__scopeMenu),r=y.useRef(null),s=Xe(e,r);return y.useEffect(()=>{const i=r.current;if(i)return U0(i)},[]),h.jsx(W0,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ie(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),TG=y.forwardRef((t,e)=>{const n=ua(hr,t.__scopeMenu);return h.jsx(W0,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),bG=zo("MenuContent.ScrollLock"),W0=y.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:v,disableOutsideScroll:I,..._}=t,S=ua(hr,n),E=Md(hr,n),g=Om(n),x=Q2(n),N=mG(n),[k,M]=y.useState(null),T=y.useRef(null),b=Xe(e,T,S.onContentChange),C=y.useRef(0),R=y.useRef(""),O=y.useRef(0),D=y.useRef(null),P=y.useRef("right"),H=y.useRef(0),B=I?Dm:y.Fragment,K=I?{as:bG,allowPinchZoom:!0}:void 0,te=W=>{var pe,Qe;const re=R.current+W,me=N().filter(Ye=>!Ye.disabled),_e=document.activeElement,De=(pe=me.find(Ye=>Ye.ref.current===_e))==null?void 0:pe.textValue,rt=me.map(Ye=>Ye.textValue),Et=LG(rt,re,De),ot=(Qe=me.find(Ye=>Ye.textValue===Et))==null?void 0:Qe.ref.current;(function Ye(Le){R.current=Le,window.clearTimeout(C.current),Le!==""&&(C.current=window.setTimeout(()=>Ye(""),1e3))})(re),ot&&setTimeout(()=>ot.focus())};y.useEffect(()=>()=>window.clearTimeout(C.current),[]),F0();const $=y.useCallback(W=>{var me,_e;return P.current===((me=D.current)==null?void 0:me.side)&&jG(W,(_e=D.current)==null?void 0:_e.area)},[]);return h.jsx(xG,{scope:n,searchRef:R,onItemEnter:y.useCallback(W=>{$(W)&&W.preventDefault()},[$]),onItemLeave:y.useCallback(W=>{var re;$(W)||((re=T.current)==null||re.focus(),M(null))},[$]),onTriggerLeave:y.useCallback(W=>{$(W)&&W.preventDefault()},[$]),pointerGraceTimerRef:O,onPointerGraceIntentChange:y.useCallback(W=>{D.current=W},[]),children:h.jsx(B,{...K,children:h.jsx(Pm,{asChild:!0,trapped:s,onMountAutoFocus:ie(i,W=>{var re;W.preventDefault(),(re=T.current)==null||re.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:h.jsx(Yl,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:v,children:h.jsx(SK,{asChild:!0,...x,dir:E.dir,orientation:"vertical",loop:r,currentTabStopId:k,onCurrentTabStopIdChange:M,onEntryFocus:ie(l,W=>{E.isUsingKeyboardRef.current||W.preventDefault()}),preventScrollOnEntryFocus:!0,children:h.jsx(Bw,{role:"menu","aria-orientation":"vertical","data-state":mM(S.open),"data-radix-menu-content":"",dir:E.dir,...g,..._,ref:b,style:{outline:"none",..._.style},onKeyDown:ie(_.onKeyDown,W=>{const me=W.target.closest("[data-radix-menu-content]")===W.currentTarget,_e=W.ctrlKey||W.altKey||W.metaKey,De=W.key.length===1;me&&(W.key==="Tab"&&W.preventDefault(),!_e&&De&&te(W.key));const rt=T.current;if(W.target!==rt||!hG.includes(W.key))return;W.preventDefault();const ot=N().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);K2.includes(W.key)&&ot.reverse(),OG(ot)}),onBlur:ie(t.onBlur,W=>{W.currentTarget.contains(W.target)||(window.clearTimeout(C.current),R.current="")}),onPointerMove:ie(t.onPointerMove,Ku(W=>{const re=W.target,me=H.current!==W.clientX;if(W.currentTarget.contains(re)&&me){const _e=W.clientX>H.current?"right":"left";P.current=_e,H.current=W.clientX}}))})})})})})})});J2.displayName=hr;var SG="MenuGroup",q0=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.jsx(Pe.div,{role:"group",...r,ref:e})});q0.displayName=SG;var IG="MenuLabel",eM=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.jsx(Pe.div,{...r,ref:e})});eM.displayName=IG;var hp="MenuItem",OS="menu.itemSelect",Mm=y.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=y.useRef(null),o=Md(hp,t.__scopeMenu),a=B0(hp,t.__scopeMenu),l=Xe(e,i),u=y.useRef(!1),d=()=>{const f=i.current;if(!n&&f){const p=new CustomEvent(OS,{bubbles:!0,cancelable:!0});f.addEventListener(OS,v=>r==null?void 0:r(v),{once:!0}),Iw(f,p),p.defaultPrevented?u.current=!1:o.onClose()}};return h.jsx(tM,{...s,ref:l,disabled:n,onClick:ie(t.onClick,d),onPointerDown:f=>{var p;(p=t.onPointerDown)==null||p.call(t,f),u.current=!0},onPointerUp:ie(t.onPointerUp,f=>{var p;u.current||(p=f.currentTarget)==null||p.click()}),onKeyDown:ie(t.onKeyDown,f=>{const p=a.searchRef.current!=="";n||p&&f.key===" "||u_.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Mm.displayName=hp;var tM=y.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=B0(hp,n),a=Q2(n),l=y.useRef(null),u=Xe(e,l),[d,f]=y.useState(!1),[p,v]=y.useState("");return y.useEffect(()=>{const I=l.current;I&&v((I.textContent??"").trim())},[i.children]),h.jsx(Hu.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:h.jsx(IK,{asChild:!0,...a,focusable:!r,children:h.jsx(Pe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:ie(t.onPointerMove,Ku(I=>{r?o.onItemLeave(I):(o.onItemEnter(I),I.defaultPrevented||I.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ie(t.onPointerLeave,Ku(I=>o.onItemLeave(I))),onFocus:ie(t.onFocus,()=>f(!0)),onBlur:ie(t.onBlur,()=>f(!1))})})})}),CG="MenuCheckboxItem",nM=y.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return h.jsx(aM,{scope:t.__scopeMenu,checked:n,children:h.jsx(Mm,{role:"menuitemcheckbox","aria-checked":fp(n)?"mixed":n,...s,ref:e,"data-state":K0(n),onSelect:ie(s.onSelect,()=>r==null?void 0:r(fp(n)?!0:!n),{checkForDefaultPrevented:!1})})})});nM.displayName=CG;var rM="MenuRadioGroup",[AG,RG]=ca(rM,{value:void 0,onValueChange:()=>{}}),sM=y.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=vn(r);return h.jsx(AG,{scope:t.__scopeMenu,value:n,onValueChange:i,children:h.jsx(q0,{...s,ref:e})})});sM.displayName=rM;var iM="MenuRadioItem",oM=y.forwardRef((t,e)=>{const{value:n,...r}=t,s=RG(iM,t.__scopeMenu),i=n===s.value;return h.jsx(aM,{scope:t.__scopeMenu,checked:i,children:h.jsx(Mm,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":K0(i),onSelect:ie(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});oM.displayName=iM;var H0="MenuItemIndicator",[aM,PG]=ca(H0,{checked:!1}),lM=y.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=PG(H0,n);return h.jsx(ds,{present:r||fp(i.checked)||i.checked===!0,children:h.jsx(Pe.span,{...s,ref:e,"data-state":K0(i.checked)})})});lM.displayName=H0;var NG="MenuSeparator",cM=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.jsx(Pe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});cM.displayName=NG;var kG="MenuArrow",uM=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Om(n);return h.jsx(Ww,{...s,...r,ref:e})});uM.displayName=kG;var DG="MenuSub",[PJ,dM]=ca(DG),Yc="MenuSubTrigger",hM=y.forwardRef((t,e)=>{const n=ua(Yc,t.__scopeMenu),r=Md(Yc,t.__scopeMenu),s=dM(Yc,t.__scopeMenu),i=B0(Yc,t.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,u={__scopeMenu:t.__scopeMenu},d=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>d,[d]),y.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),l(null)}},[a,l]),h.jsx($0,{asChild:!0,...u,children:h.jsx(tM,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":mM(n.open),...t,ref:Zp(e,s.onTriggerChange),onClick:f=>{var p;(p=t.onClick)==null||p.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ie(t.onPointerMove,Ku(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:ie(t.onPointerLeave,Ku(f=>{var v,I;d();const p=(v=n.content)==null?void 0:v.getBoundingClientRect();if(p){const _=(I=n.content)==null?void 0:I.dataset.side,S=_==="right",E=S?-5:5,g=p[S?"left":"right"],x=p[S?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+E,y:f.clientY},{x:g,y:p.top},{x,y:p.top},{x,y:p.bottom},{x:g,y:p.bottom}],side:_}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ie(t.onKeyDown,f=>{var v;const p=i.searchRef.current!=="";t.disabled||p&&f.key===" "||fG[r.dir].includes(f.key)&&(n.onOpenChange(!0),(v=n.content)==null||v.focus(),f.preventDefault())})})})});hM.displayName=Yc;var fM="MenuSubContent",pM=y.forwardRef((t,e)=>{const n=Z2(hr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=ua(hr,t.__scopeMenu),o=Md(hr,t.__scopeMenu),a=dM(fM,t.__scopeMenu),l=y.useRef(null),u=Xe(e,l);return h.jsx(Hu.Provider,{scope:t.__scopeMenu,children:h.jsx(ds,{present:r||i.open,children:h.jsx(Hu.Slot,{scope:t.__scopeMenu,children:h.jsx(W0,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ie(t.onFocusOutside,d=>{d.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ie(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:ie(t.onKeyDown,d=>{var v;const f=d.currentTarget.contains(d.target),p=pG[o.dir].includes(d.key);f&&p&&(i.onOpenChange(!1),(v=a.trigger)==null||v.focus(),d.preventDefault())})})})})})});pM.displayName=fM;function mM(t){return t?"open":"closed"}function fp(t){return t==="indeterminate"}function K0(t){return fp(t)?"indeterminate":t?"checked":"unchecked"}function OG(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function MG(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function LG(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=MG(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function VG(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,u=e[o].x,d=e[o].y;l>r!=d>r&&n<(u-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function jG(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return VG(n,e)}function Ku(t){return e=>e.pointerType==="mouse"?t(e):void 0}var FG=Y2,UG=$0,$G=X2,zG=J2,BG=q0,WG=eM,qG=Mm,HG=nM,KG=sM,GG=oM,QG=lM,YG=cM,ZG=uM,XG=hM,JG=pM,G0="DropdownMenu",[eQ,NJ]=Hs(G0,[G2]),Dn=G2(),[tQ,gM]=eQ(G0),yM=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=Dn(e),u=y.useRef(null),[d=!1,f]=Nl({prop:s,defaultProp:i,onChange:o});return h.jsx(tQ,{scope:e,triggerId:Ps(),triggerRef:u,contentId:Ps(),open:d,onOpenChange:f,onOpenToggle:y.useCallback(()=>f(p=>!p),[f]),modal:a,children:h.jsx(FG,{...l,open:d,onOpenChange:f,dir:r,modal:a,children:n})})};yM.displayName=G0;var vM="DropdownMenuTrigger",_M=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=gM(vM,n),o=Dn(n);return h.jsx(UG,{asChild:!0,...o,children:h.jsx(Pe.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Zp(e,i.triggerRef),onPointerDown:ie(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:ie(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});_M.displayName=vM;var nQ="DropdownMenuPortal",wM=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Dn(e);return h.jsx($G,{...r,...n})};wM.displayName=nQ;var xM="DropdownMenuContent",EM=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=gM(xM,n),i=Dn(n),o=y.useRef(!1);return h.jsx(zG,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:ie(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:ie(t.onInteractOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});EM.displayName=xM;var rQ="DropdownMenuGroup",sQ=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Dn(n);return h.jsx(BG,{...s,...r,ref:e})});sQ.displayName=rQ;var iQ="DropdownMenuLabel",TM=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Dn(n);return h.jsx(WG,{...s,...r,ref:e})});TM.displayName=iQ;var oQ="DropdownMenuItem",bM=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Dn(n);return h.jsx(qG,{...s,...r,ref:e})});bM.displayName=oQ;var aQ="DropdownMenuCheckboxItem",SM=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Dn(n);return h.jsx(HG,{...s,...r,ref:e})});SM.displayName=aQ;var lQ="DropdownMenuRadioGroup",cQ=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Dn(n);return h.jsx(KG,{...s,...r,ref:e})});cQ.displayName=lQ;var uQ="DropdownMenuRadioItem",IM=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Dn(n);return h.jsx(GG,{...s,...r,ref:e})});IM.displayName=uQ;var dQ="DropdownMenuItemIndicator",CM=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Dn(n);return h.jsx(QG,{...s,...r,ref:e})});CM.displayName=dQ;var hQ="DropdownMenuSeparator",AM=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Dn(n);return h.jsx(YG,{...s,...r,ref:e})});AM.displayName=hQ;var fQ="DropdownMenuArrow",pQ=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Dn(n);return h.jsx(ZG,{...s,...r,ref:e})});pQ.displayName=fQ;var mQ="DropdownMenuSubTrigger",RM=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Dn(n);return h.jsx(XG,{...s,...r,ref:e})});RM.displayName=mQ;var gQ="DropdownMenuSubContent",PM=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Dn(n);return h.jsx(JG,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});PM.displayName=gQ;var yQ=yM,vQ=_M,_Q=wM,NM=EM,kM=TM,DM=bM,OM=SM,MM=IM,LM=CM,VM=AM,jM=RM,FM=PM;const wQ=yQ,xQ=vQ,EQ=y.forwardRef(({className:t,inset:e,children:n,...r},s)=>h.jsxs(jM,{ref:s,className:je("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,h.jsx(g9,{className:"ml-auto"})]}));EQ.displayName=jM.displayName;const TQ=y.forwardRef(({className:t,...e},n)=>h.jsx(FM,{ref:n,className:je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));TQ.displayName=FM.displayName;const UM=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>h.jsx(_Q,{children:h.jsx(NM,{ref:r,sideOffset:e,className:je("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...n})}));UM.displayName=NM.displayName;const ff=y.forwardRef(({className:t,inset:e,...n},r)=>h.jsx(DM,{ref:r,className:je("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n}));ff.displayName=DM.displayName;const bQ=y.forwardRef(({className:t,children:e,checked:n,...r},s)=>h.jsxs(OM,{ref:s,className:je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(LM,{children:h.jsx(hk,{className:"h-4 w-4"})})}),e]}));bQ.displayName=OM.displayName;const SQ=y.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(MM,{ref:r,className:je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(LM,{children:h.jsx(_9,{className:"h-2 w-2 fill-current"})})}),e]}));SQ.displayName=MM.displayName;const IQ=y.forwardRef(({className:t,inset:e,...n},r)=>h.jsx(kM,{ref:r,className:je("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));IQ.displayName=kM.displayName;const $M=y.forwardRef(({className:t,...e},n)=>h.jsx(VM,{ref:n,className:je("-mx-1 my-1 h-px bg-muted",t),...e}));$M.displayName=VM.displayName;function CQ({user:t,onSearch:e,searchQuery:n}){const{logoutMutation:r}=lc(),[s,i]=y.useState(!1),o=u=>{e(u.target.value)},a=()=>{r.mutate()},l=()=>{i(!s)};return h.jsx("header",{className:"bg-navy border-b border-amber/20 sticky top-0 z-40 shadow-lg",children:h.jsxs("div",{className:"container mx-auto px-4 py-3",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("div",{className:"relative w-10 h-10 vinyl-after",children:h.jsx("div",{className:"absolute inset-0 bg-burgundy rounded-full record-grooves"})}),h.jsx("h1",{className:"text-2xl font-heading font-bold text-amber",children:"VinylVault"})]}),h.jsx("div",{className:"hidden md:block flex-grow max-w-md mx-6",children:h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"text",placeholder:"Search your collection...",className:"w-full py-2 px-4 pl-10 bg-navy border border-amber/30 rounded-full focus:outline-none focus:ring-2 focus:ring-amber text-sm",value:n,onChange:o}),h.jsx(Za,{className:"absolute left-3 top-2.5 text-amber h-5 w-5"})]})}),h.jsxs("nav",{className:"flex items-center space-x-1 md:space-x-4",children:[h.jsx("button",{className:"md:hidden p-2 rounded-full hover:bg-navy-700",onClick:l,children:h.jsx(Za,{className:"text-amber h-5 w-5"})}),h.jsxs(L3,{href:"/",className:"p-2 rounded-md hover:bg-charcoal flex items-center",children:[h.jsx(x9,{className:"text-amber h-5 w-5 mr-1"}),h.jsx("span",{className:"hidden md:inline",children:"Dashboard"})]}),h.jsxs(wQ,{children:[h.jsxs(xQ,{className:"p-2 rounded-md hover:bg-charcoal flex items-center",children:[h.jsx(MT,{className:"text-amber h-5 w-5 mr-1"}),h.jsx("span",{className:"hidden md:inline",children:t==null?void 0:t.name}),h.jsx(Nw,{className:"text-amber h-4 w-4 ml-1"})]}),h.jsxs(UM,{className:"bg-charcoal border-amber/30 text-cream",children:[h.jsxs(ff,{className:"hover:bg-navy cursor-pointer",children:[h.jsx(MT,{className:"mr-2 h-4 w-4"}),h.jsx("span",{children:"Profile"})]}),h.jsxs(ff,{className:"hover:bg-navy cursor-pointer",children:[h.jsx(S9,{className:"mr-2 h-4 w-4"}),h.jsx("span",{children:"Settings"})]}),h.jsx($M,{className:"bg-amber/20"}),h.jsxs(ff,{className:"hover:bg-burgundy cursor-pointer",onClick:a,children:[h.jsx(E9,{className:"mr-2 h-4 w-4"}),h.jsx("span",{children:"Sign Out"})]})]})]})]})]}),s&&h.jsx("div",{className:"md:hidden mt-3 pb-2",children:h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"text",placeholder:"Search your collection...",className:"w-full py-2 px-4 pl-10 bg-navy border border-amber/30 rounded-full focus:outline-none focus:ring-2 focus:ring-amber text-sm",value:n,onChange:o}),h.jsx(Za,{className:"absolute left-3 top-2.5 text-amber h-5 w-5"})]})})]})})}function AQ(){return h.jsx("footer",{className:"bg-charcoal py-6 text-cream/70 text-sm border-t border-amber/10",children:h.jsx("div",{className:"container mx-auto px-4",children:h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[h.jsxs("div",{className:"flex items-center mb-4 md:mb-0",children:[h.jsx("div",{className:"relative w-8 h-8 vinyl-after mr-2",children:h.jsx("div",{className:"absolute inset-0 bg-burgundy rounded-full record-grooves"})}),h.jsx("span",{className:"font-heading font-bold text-amber",children:"VinylVault"})]}),h.jsxs("div",{className:"flex space-x-6",children:[h.jsx("a",{href:"#",className:"hover:text-amber transition-colors",children:"About"}),h.jsx("a",{href:"#",className:"hover:text-amber transition-colors",children:"Privacy"}),h.jsx("a",{href:"#",className:"hover:text-amber transition-colors",children:"Terms"}),h.jsx("a",{href:"#",className:"hover:text-amber transition-colors",children:"Contact"})]}),h.jsxs("div",{className:"mt-4 md:mt-0",children:["© ",new Date().getFullYear()," VinylVault. All rights reserved."]})]})})})}const MS="https://images.unsplash.com/photo-1614613535308-eb5fbd3d2c17?auto=format&fit=crop&w=500&h=500";function RQ({record:t,onClick:e}){return h.jsxs("div",{className:"record-card bg-charcoal rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 hover:translate-y-[-5px] cursor-pointer",onClick:e,children:[h.jsxs("div",{className:"relative aspect-square overflow-hidden group",children:[h.jsx("img",{src:t.coverImage||MS,alt:`${t.artist} - ${t.title}`,className:"w-full h-full object-cover",onError:n=>{n.target.src=MS}}),h.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-navy/90 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end justify-between p-4",children:[h.jsx("button",{className:"p-2 bg-burgundy rounded-full hover:bg-burgundy/80",title:"Play",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-cream",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:h.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})})}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("button",{className:"p-2 bg-navy/80 rounded-full hover:bg-navy",title:"Edit",onClick:n=>{n.stopPropagation()},children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-amber",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),h.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),h.jsx("button",{className:"p-2 bg-navy/80 rounded-full hover:bg-navy",title:"More Info",onClick:n=>{n.stopPropagation(),e()},children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-amber",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("circle",{cx:"12",cy:"12",r:"10"}),h.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),h.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})})]})]})]}),h.jsxs("div",{className:"p-4",children:[h.jsx("h3",{className:"font-heading font-bold text-lg truncate",title:t.title,children:t.title}),h.jsx("p",{className:"text-cream opacity-80 truncate",title:t.artist,children:t.artist}),h.jsxs("div",{className:"flex justify-between items-center mt-2",children:[h.jsx("span",{className:"text-sm text-amber",children:t.year||"Unknown year"}),t.genre&&h.jsx("span",{className:"text-xs bg-burgundy/20 text-burgundy px-2 py-1 rounded-full",children:t.genre})]})]})]})}function LS(t){const e=t.data();return{id:t.id,...e,createdAt:e.createdAt instanceof _t?e.createdAt.toDate():e.createdAt}}const Q0={async getRecords(t){console.log("Fetching records for user:",t);const e=vS(yo,"records"),n=KH(e,GH("userId","==",t),QH("createdAt","desc"));try{const r=await JH(n);console.log("Records found:",r.docs.length);const s=r.docs.map(i=>(console.log("Record data:",i.id,i.data()),LS(i)));return console.log("Processed records:",s),s}catch(r){throw console.error("Error fetching records:",r),r}},async getRecord(t){const e=sl(yo,"records",t),n=await R2(e);return n.exists()?LS(n):null},async createRecord(t){const e=vS(yo,"records"),n={...t,createdAt:new Date};return{id:(await rK(e,n)).id,...n}},async updateRecord(t,e){const n=sl(yo,"records",t),{id:r,createdAt:s,...i}=e;await tK(n,i)},async deleteRecord(t){const e=sl(yo,"records",t);await nK(e)},async searchRecords(t,e){const n=await this.getRecords(t),r=e.toLowerCase();return n.filter(s=>s.title.toLowerCase().includes(r)||s.artist.toLowerCase().includes(r)||s.genre&&s.genre.toLowerCase().includes(r)||s.year&&s.year.toLowerCase().includes(r))}},ny=Object.freeze(Object.defineProperty({__proto__:null,recordsService:Q0},Symbol.toStringTag,{value:"Module"})),Vh={"bee gees":{year:"1977",genre:"Disco",coverImage:"https://m.media-amazon.com/images/I/61g-E7+95zL._UF1000,1000_QL80_.jpg"},"saturday night fever":{year:"1977",genre:"Disco",coverImage:"https://m.media-amazon.com/images/I/61g-E7+95zL._UF1000,1000_QL80_.jpg"},ren:{year:"2012",genre:"Hip Hop",coverImage:"https://f4.bcbits.com/img/a1393343511_65"},"sick boi":{year:"2012",genre:"Hip Hop",coverImage:"https://f4.bcbits.com/img/a1393343511_65"},"michael jackson":{year:"1982",genre:"Pop",coverImage:"https://m.media-amazon.com/images/I/71uGjw17d8L._UF1000,1000_QL80_.jpg"},thriller:{year:"1982",genre:"Pop",coverImage:"https://m.media-amazon.com/images/I/71uGjw17d8L._UF1000,1000_QL80_.jpg"},"pink floyd":{year:"1973",genre:"Rock",coverImage:"https://m.media-amazon.com/images/I/61jx0giD+qL._UF1000,1000_QL80_.jpg"},"dark side":{year:"1973",genre:"Rock",coverImage:"https://m.media-amazon.com/images/I/61jx0giD+qL._UF1000,1000_QL80_.jpg"},nirvana:{year:"1991",genre:"Grunge",coverImage:"https://m.media-amazon.com/images/I/71DQrKpImPL._UF1000,1000_QL80_.jpg"},nevermind:{year:"1991",genre:"Grunge",coverImage:"https://m.media-amazon.com/images/I/71DQrKpImPL._UF1000,1000_QL80_.jpg"},"fleetwood mac":{year:"1977",genre:"Rock",coverImage:"https://m.media-amazon.com/images/I/71BekDJBb3L._UF1000,1000_QL80_.jpg"},rumours:{year:"1977",genre:"Rock",coverImage:"https://m.media-amazon.com/images/I/71BekDJBb3L._UF1000,1000_QL80_.jpg"},beatles:{year:"1969",genre:"Rock",coverImage:"https://m.media-amazon.com/images/I/818pIz-iV2L._UF1000,1000_QL80_.jpg"},"abbey road":{year:"1969",genre:"Rock",coverImage:"https://m.media-amazon.com/images/I/818pIz-iV2L._UF1000,1000_QL80_.jpg"},"dark side of the moon":{year:"1973",genre:"Progressive Rock",coverImage:"https://m.media-amazon.com/images/I/61jx0giD+qL._UF1000,1000_QL80_.jpg"},"paul simon":{year:"1986",genre:"Folk Rock",coverImage:"https://m.media-amazon.com/images/I/71jUsnb+8QL._UF1000,1000_QL80_.jpg"},graceland:{year:"1986",genre:"Folk Rock",coverImage:"https://m.media-amazon.com/images/I/71jUsnb+8QL._UF1000,1000_QL80_.jpg"}};async function PQ(t,e){try{console.log(`Looking up metadata for: "${t} - ${e}"`);const n=t.toLowerCase().trim(),r=e.toLowerCase().trim(),s=`${n} ${r}`;for(const[i,o]of Object.entries(Vh)){if(n.includes(i)&&i.length>3)return console.log(`Found match on artist "${n}" in database entry "${i}"`),o;if(r.includes(i)&&i.length>3)return console.log(`Found match on title "${r}" in database entry "${i}"`),o;if(i.includes(n)||i.includes(r))return console.log(`Found reverse match for "${n}" or "${r}" in database entry "${i}"`),o}for(const[i,o]of Object.entries(Vh))if(s.includes(i)&&i.length>3)return console.log(`Found match in combined query for "${i}"`),o;return n.includes("bee")&&r.includes("fever")?Vh["bee gees"]:n.includes("ren")&&r.includes("sick")?Vh.ren:(console.log(`No metadata found for "${t} - ${e}"`),{})}catch(n){return console.error("Error in metadata lookup:",n),{}}}var Ld=t=>t.type==="checkbox",bo=t=>t instanceof Date,In=t=>t==null;const zM=t=>typeof t=="object";var kt=t=>!In(t)&&!Array.isArray(t)&&zM(t)&&!bo(t),NQ=t=>kt(t)&&t.target?Ld(t.target)?t.target.checked:t.target.value:t,kQ=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,DQ=(t,e)=>t.has(kQ(e)),OQ=t=>{const e=t.constructor&&t.constructor.prototype;return kt(e)&&e.hasOwnProperty("isPrototypeOf")},Y0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function St(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Y0&&(t instanceof Blob||r))&&(n||kt(t)))if(e=n?[]:{},!n&&!OQ(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=St(t[s]));else return t;return e}var Vd=t=>Array.isArray(t)?t.filter(Boolean):[],ht=t=>t===void 0,ae=(t,e,n)=>{if(!e||!kt(t))return n;const r=Vd(e.split(/[,[\].]+?/)).reduce((s,i)=>In(s)?s:s[i],t);return ht(r)||r===t?ht(t[e])?n:t[e]:r},qr=t=>typeof t=="boolean",Z0=t=>/^\w*$/.test(t),BM=t=>Vd(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Je=(t,e,n)=>{let r=-1;const s=Z0(e)?[e]:BM(e),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let l=n;if(r!==o){const u=t[a];l=kt(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=l,t=t[a]}};const VS={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},lr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ys={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},MQ=Me.createContext(null),LQ=()=>Me.useContext(MQ);var VQ=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==lr.all&&(e._proxyFormState[o]=!r||lr.all),t[o]}});return s},Xr=t=>typeof t=="string",jQ=(t,e,n,r,s)=>Xr(t)?(r&&e.watch.add(t),ae(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),ae(n,i))):(r&&(e.watchAll=!0),n),WM=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},Un=t=>Array.isArray(t)?t:[t],jS=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},d_=t=>In(t)||!zM(t);function hi(t,e){if(d_(t)||d_(e))return t===e;if(bo(t)&&bo(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(bo(i)&&bo(o)||kt(i)&&kt(o)||Array.isArray(i)&&Array.isArray(o)?!hi(i,o):i!==o)return!1}}return!0}var fn=t=>kt(t)&&!Object.keys(t).length,X0=t=>t.type==="file",Ir=t=>typeof t=="function",pp=t=>{if(!Y0)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},qM=t=>t.type==="select-multiple",J0=t=>t.type==="radio",FQ=t=>J0(t)||Ld(t),ry=t=>pp(t)&&t.isConnected;function UQ(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=ht(t)?r++:t[e[r++]];return t}function $Q(t){for(const e in t)if(t.hasOwnProperty(e)&&!ht(t[e]))return!1;return!0}function Ot(t,e){const n=Array.isArray(e)?e:Z0(e)?[e]:BM(e),r=n.length===1?t:UQ(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(kt(r)&&fn(r)||Array.isArray(r)&&$Q(r))&&Ot(t,n.slice(0,-1)),t}var HM=t=>{for(const e in t)if(Ir(t[e]))return!0;return!1};function mp(t,e={}){const n=Array.isArray(t);if(kt(t)||n)for(const r in t)Array.isArray(t[r])||kt(t[r])&&!HM(t[r])?(e[r]=Array.isArray(t[r])?[]:{},mp(t[r],e[r])):In(t[r])||(e[r]=!0);return e}function KM(t,e,n){const r=Array.isArray(t);if(kt(t)||r)for(const s in t)Array.isArray(t[s])||kt(t[s])&&!HM(t[s])?ht(e)||d_(n[s])?n[s]=Array.isArray(t[s])?mp(t[s],[]):{...mp(t[s])}:KM(t[s],In(e)?{}:e[s],n[s]):n[s]=!hi(t[s],e[s]);return n}var Lc=(t,e)=>KM(t,e,mp(e));const FS={value:!1,isValid:!1},US={value:!0,isValid:!0};var GM=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ht(t[0].attributes.value)?ht(t[0].value)||t[0].value===""?US:{value:t[0].value,isValid:!0}:US:FS}return FS},QM=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>ht(t)?t:e?t===""?NaN:t&&+t:n&&Xr(t)?new Date(t):r?r(t):t;const $S={isValid:!1,value:null};var YM=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,$S):$S;function zS(t){const e=t.ref;return X0(e)?e.files:J0(e)?YM(t.refs).value:qM(e)?[...e.selectedOptions].map(({value:n})=>n):Ld(e)?GM(t.refs).value:QM(ht(e.value)?t.ref.value:e.value,t)}var zQ=(t,e,n,r)=>{const s={};for(const i of t){const o=ae(e,i);o&&Je(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},gp=t=>t instanceof RegExp,Vc=t=>ht(t)?t:gp(t)?t.source:kt(t)?gp(t.value)?t.value.source:t.value:t,$a=t=>({isOnSubmit:!t||t===lr.onSubmit,isOnBlur:t===lr.onBlur,isOnChange:t===lr.onChange,isOnAll:t===lr.all,isOnTouch:t===lr.onTouched});const BS="AsyncFunction";var BQ=t=>!!t&&!!t.validate&&!!(Ir(t.validate)&&t.validate.constructor.name===BS||kt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===BS)),WQ=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),h_=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const ol=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=ae(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(ol(a,e))break}else if(kt(a)&&ol(a,e))break}}};function WS(t,e,n){const r=ae(t,n);if(r||Z0(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=ae(e,i),a=ae(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:n}}var qQ=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return fn(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||lr.all))},HQ=(t,e,n)=>!t||!e||t===e||Un(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),KQ=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,GQ=(t,e)=>!Vd(ae(t,e)).length&&Ot(t,e),ZM=(t,e,n)=>{const r=Un(ae(t,n));return Je(r,"root",e[n]),Je(t,n,r),t},pf=t=>Xr(t);function qS(t,e,n="validate"){if(pf(t)||Array.isArray(t)&&t.every(pf)||qr(t)&&!t)return{type:n,message:pf(t)?t:"",ref:e}}var Ea=t=>kt(t)&&!gp(t)?t:{value:t,message:""},f_=async(t,e,n,r,s,i)=>{const{ref:o,refs:a,required:l,maxLength:u,minLength:d,min:f,max:p,pattern:v,validate:I,name:_,valueAsNumber:S,mount:E}=t._f,g=ae(n,_);if(!E||e.has(_))return{};const x=a?a[0]:o,N=D=>{s&&x.reportValidity&&(x.setCustomValidity(qr(D)?"":D||""),x.reportValidity())},k={},M=J0(o),T=Ld(o),b=M||T,C=(S||X0(o))&&ht(o.value)&&ht(g)||pp(o)&&o.value===""||g===""||Array.isArray(g)&&!g.length,R=WM.bind(null,_,r,k),O=(D,P,H,B=ys.maxLength,K=ys.minLength)=>{const te=D?P:H;k[_]={type:D?B:K,message:te,ref:o,...R(D?B:K,te)}};if(i?!Array.isArray(g)||!g.length:l&&(!b&&(C||In(g))||qr(g)&&!g||T&&!GM(a).isValid||M&&!YM(a).isValid)){const{value:D,message:P}=pf(l)?{value:!!l,message:l}:Ea(l);if(D&&(k[_]={type:ys.required,message:P,ref:x,...R(ys.required,P)},!r))return N(P),k}if(!C&&(!In(f)||!In(p))){let D,P;const H=Ea(p),B=Ea(f);if(!In(g)&&!isNaN(g)){const K=o.valueAsNumber||g&&+g;In(H.value)||(D=K>H.value),In(B.value)||(P=K<B.value)}else{const K=o.valueAsDate||new Date(g),te=re=>new Date(new Date().toDateString()+" "+re),$=o.type=="time",W=o.type=="week";Xr(H.value)&&g&&(D=$?te(g)>te(H.value):W?g>H.value:K>new Date(H.value)),Xr(B.value)&&g&&(P=$?te(g)<te(B.value):W?g<B.value:K<new Date(B.value))}if((D||P)&&(O(!!D,H.message,B.message,ys.max,ys.min),!r))return N(k[_].message),k}if((u||d)&&!C&&(Xr(g)||i&&Array.isArray(g))){const D=Ea(u),P=Ea(d),H=!In(D.value)&&g.length>+D.value,B=!In(P.value)&&g.length<+P.value;if((H||B)&&(O(H,D.message,P.message),!r))return N(k[_].message),k}if(v&&!C&&Xr(g)){const{value:D,message:P}=Ea(v);if(gp(D)&&!g.match(D)&&(k[_]={type:ys.pattern,message:P,ref:o,...R(ys.pattern,P)},!r))return N(P),k}if(I){if(Ir(I)){const D=await I(g,n),P=qS(D,x);if(P&&(k[_]={...P,...R(ys.validate,P.message)},!r))return N(P.message),k}else if(kt(I)){let D={};for(const P in I){if(!fn(D)&&!r)break;const H=qS(await I[P](g,n),x,P);H&&(D={...H,...R(P,H.message)},N(H.message),r&&(k[_]=D))}if(!fn(D)&&(k[_]={ref:x,...D},!r))return k}}return N(!0),k};const QQ={mode:lr.onSubmit,reValidateMode:lr.onChange,shouldFocusError:!0};function YQ(t={}){let e={...QQ,...t},n={submitCount:0,isDirty:!1,isLoading:Ir(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let s=kt(e.defaultValues)||kt(e.values)?St(e.values||e.defaultValues)||{}:{},i=e.shouldUnregister?{}:St(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const p={array:jS(),state:jS()},v=$a(e.mode),I=$a(e.reValidateMode),_=e.criteriaMode===lr.all,S=L=>U=>{clearTimeout(u),u=setTimeout(L,U)},E=async L=>{if(!e.disabled&&(d.isValid||f.isValid||L)){const U=e.resolver?fn((await C()).errors):await O(r,!0);U!==n.isValid&&p.state.next({isValid:U})}},g=(L,U)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((L||Array.from(a.mount)).forEach(q=>{q&&(U?Je(n.validatingFields,q,U):Ot(n.validatingFields,q))}),p.state.next({validatingFields:n.validatingFields,isValidating:!fn(n.validatingFields)}))},x=(L,U=[],q,oe,J=!0,Z=!0)=>{if(oe&&q&&!e.disabled){if(o.action=!0,Z&&Array.isArray(ae(r,L))){const he=q(ae(r,L),oe.argA,oe.argB);J&&Je(r,L,he)}if(Z&&Array.isArray(ae(n.errors,L))){const he=q(ae(n.errors,L),oe.argA,oe.argB);J&&Je(n.errors,L,he),GQ(n.errors,L)}if((d.touchedFields||f.touchedFields)&&Z&&Array.isArray(ae(n.touchedFields,L))){const he=q(ae(n.touchedFields,L),oe.argA,oe.argB);J&&Je(n.touchedFields,L,he)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=Lc(s,i)),p.state.next({name:L,isDirty:P(L,U),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Je(i,L,U)},N=(L,U)=>{Je(n.errors,L,U),p.state.next({errors:n.errors})},k=L=>{n.errors=L,p.state.next({errors:n.errors,isValid:!1})},M=(L,U,q,oe)=>{const J=ae(r,L);if(J){const Z=ae(i,L,ht(q)?ae(s,L):q);ht(Z)||oe&&oe.defaultChecked||U?Je(i,L,U?Z:zS(J._f)):K(L,Z),o.mount&&E()}},T=(L,U,q,oe,J)=>{let Z=!1,he=!1;const Be={name:L};if(!e.disabled){if(!q||oe){(d.isDirty||f.isDirty)&&(he=n.isDirty,n.isDirty=Be.isDirty=P(),Z=he!==Be.isDirty);const pt=hi(ae(s,L),U);he=!!ae(n.dirtyFields,L),pt?Ot(n.dirtyFields,L):Je(n.dirtyFields,L,!0),Be.dirtyFields=n.dirtyFields,Z=Z||(d.dirtyFields||f.dirtyFields)&&he!==!pt}if(q){const pt=ae(n.touchedFields,L);pt||(Je(n.touchedFields,L,q),Be.touchedFields=n.touchedFields,Z=Z||(d.touchedFields||f.touchedFields)&&pt!==q)}Z&&J&&p.state.next(Be)}return Z?Be:{}},b=(L,U,q,oe)=>{const J=ae(n.errors,L),Z=(d.isValid||f.isValid)&&qr(U)&&n.isValid!==U;if(e.delayError&&q?(l=S(()=>N(L,q)),l(e.delayError)):(clearTimeout(u),l=null,q?Je(n.errors,L,q):Ot(n.errors,L)),(q?!hi(J,q):J)||!fn(oe)||Z){const he={...oe,...Z&&qr(U)?{isValid:U}:{},errors:n.errors,name:L};n={...n,...he},p.state.next(he)}},C=async L=>{g(L,!0);const U=await e.resolver(i,e.context,zQ(L||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return g(L),U},R=async L=>{const{errors:U}=await C(L);if(L)for(const q of L){const oe=ae(U,q);oe?Je(n.errors,q,oe):Ot(n.errors,q)}else n.errors=U;return U},O=async(L,U,q={valid:!0})=>{for(const oe in L){const J=L[oe];if(J){const{_f:Z,...he}=J;if(Z){const Be=a.array.has(Z.name),pt=J._f&&BQ(J._f);pt&&d.validatingFields&&g([oe],!0);const Wt=await f_(J,a.disabled,i,_,e.shouldUseNativeValidation&&!U,Be);if(pt&&d.validatingFields&&g([oe]),Wt[Z.name]&&(q.valid=!1,U))break;!U&&(ae(Wt,Z.name)?Be?ZM(n.errors,Wt,Z.name):Je(n.errors,Z.name,Wt[Z.name]):Ot(n.errors,Z.name))}!fn(he)&&await O(he,U,q)}}return q.valid},D=()=>{for(const L of a.unMount){const U=ae(r,L);U&&(U._f.refs?U._f.refs.every(q=>!ry(q)):!ry(U._f.ref))&&Ye(L)}a.unMount=new Set},P=(L,U)=>!e.disabled&&(L&&U&&Je(i,L,U),!hi(_e(),s)),H=(L,U,q)=>jQ(L,a,{...o.mount?i:ht(U)?s:Xr(L)?{[L]:U}:U},q,U),B=L=>Vd(ae(o.mount?i:s,L,e.shouldUnregister?ae(s,L,[]):[])),K=(L,U,q={})=>{const oe=ae(r,L);let J=U;if(oe){const Z=oe._f;Z&&(!Z.disabled&&Je(i,L,QM(U,Z)),J=pp(Z.ref)&&In(U)?"":U,qM(Z.ref)?[...Z.ref.options].forEach(he=>he.selected=J.includes(he.value)):Z.refs?Ld(Z.ref)?Z.refs.length>1?Z.refs.forEach(he=>(!he.defaultChecked||!he.disabled)&&(he.checked=Array.isArray(J)?!!J.find(Be=>Be===he.value):J===he.value)):Z.refs[0]&&(Z.refs[0].checked=!!J):Z.refs.forEach(he=>he.checked=he.value===J):X0(Z.ref)?Z.ref.value="":(Z.ref.value=J,Z.ref.type||p.state.next({name:L,values:St(i)})))}(q.shouldDirty||q.shouldTouch)&&T(L,J,q.shouldTouch,q.shouldDirty,!0),q.shouldValidate&&me(L)},te=(L,U,q)=>{for(const oe in U){const J=U[oe],Z=`${L}.${oe}`,he=ae(r,Z);(a.array.has(L)||kt(J)||he&&!he._f)&&!bo(J)?te(Z,J,q):K(Z,J,q)}},$=(L,U,q={})=>{const oe=ae(r,L),J=a.array.has(L),Z=St(U);Je(i,L,Z),J?(p.array.next({name:L,values:St(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&q.shouldDirty&&p.state.next({name:L,dirtyFields:Lc(s,i),isDirty:P(L,Z)})):oe&&!oe._f&&!In(Z)?te(L,Z,q):K(L,Z,q),h_(L,a)&&p.state.next({...n}),p.state.next({name:o.mount?L:void 0,values:St(i)})},W=async L=>{o.mount=!0;const U=L.target;let q=U.name,oe=!0;const J=ae(r,q),Z=he=>{oe=Number.isNaN(he)||bo(he)&&isNaN(he.getTime())||hi(he,ae(i,q,he))};if(J){let he,Be;const pt=U.type?zS(J._f):NQ(L),Wt=L.type===VS.BLUR||L.type===VS.FOCUS_OUT,lo=!WQ(J._f)&&!e.resolver&&!ae(n.errors,q)&&!J._f.deps||KQ(Wt,ae(n.touchedFields,q),n.isSubmitted,I,v),da=h_(q,a,Wt);Je(i,q,pt),Wt?(J._f.onBlur&&J._f.onBlur(L),l&&l(0)):J._f.onChange&&J._f.onChange(L);const ha=T(q,pt,Wt),fc=!fn(ha)||da;if(!Wt&&p.state.next({name:q,type:L.type,values:St(i)}),lo)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?Wt&&E():Wt||E()),fc&&p.state.next({name:q,...da?{}:ha});if(!Wt&&da&&p.state.next({...n}),e.resolver){const{errors:zd}=await C([q]);if(Z(pt),oe){const Um=WS(n.errors,r,q),fa=WS(zd,r,Um.name||q);he=fa.error,q=fa.name,Be=fn(zd)}}else g([q],!0),he=(await f_(J,a.disabled,i,_,e.shouldUseNativeValidation))[q],g([q]),Z(pt),oe&&(he?Be=!1:(d.isValid||f.isValid)&&(Be=await O(r,!0)));oe&&(J._f.deps&&me(J._f.deps),b(q,Be,he,ha))}},re=(L,U)=>{if(ae(n.errors,U)&&L.focus)return L.focus(),1},me=async(L,U={})=>{let q,oe;const J=Un(L);if(e.resolver){const Z=await R(ht(L)?L:J);q=fn(Z),oe=L?!J.some(he=>ae(Z,he)):q}else L?(oe=(await Promise.all(J.map(async Z=>{const he=ae(r,Z);return await O(he&&he._f?{[Z]:he}:he)}))).every(Boolean),!(!oe&&!n.isValid)&&E()):oe=q=await O(r);return p.state.next({...!Xr(L)||(d.isValid||f.isValid)&&q!==n.isValid?{}:{name:L},...e.resolver||!L?{isValid:q}:{},errors:n.errors}),U.shouldFocus&&!oe&&ol(r,re,L?J:a.mount),oe},_e=L=>{const U={...o.mount?i:s};return ht(L)?U:Xr(L)?ae(U,L):L.map(q=>ae(U,q))},De=(L,U)=>({invalid:!!ae((U||n).errors,L),isDirty:!!ae((U||n).dirtyFields,L),error:ae((U||n).errors,L),isValidating:!!ae(n.validatingFields,L),isTouched:!!ae((U||n).touchedFields,L)}),rt=L=>{L&&Un(L).forEach(U=>Ot(n.errors,U)),p.state.next({errors:L?n.errors:{}})},Et=(L,U,q)=>{const oe=(ae(r,L,{_f:{}})._f||{}).ref,J=ae(n.errors,L)||{},{ref:Z,message:he,type:Be,...pt}=J;Je(n.errors,L,{...pt,...U,ref:oe}),p.state.next({name:L,errors:n.errors,isValid:!1}),q&&q.shouldFocus&&oe&&oe.focus&&oe.focus()},ot=(L,U)=>Ir(L)?p.state.subscribe({next:q=>L(H(void 0,U),q)}):H(L,U,!0),pe=L=>p.state.subscribe({next:U=>{HQ(L.name,U.name,L.exact)&&qQ(U,L.formState||d,fs,L.reRenderRoot)&&L.callback({values:{...i},...n,...U})}}).unsubscribe,Qe=L=>(o.mount=!0,f={...f,...L.formState},pe({...L,formState:f})),Ye=(L,U={})=>{for(const q of L?Un(L):a.mount)a.mount.delete(q),a.array.delete(q),U.keepValue||(Ot(r,q),Ot(i,q)),!U.keepError&&Ot(n.errors,q),!U.keepDirty&&Ot(n.dirtyFields,q),!U.keepTouched&&Ot(n.touchedFields,q),!U.keepIsValidating&&Ot(n.validatingFields,q),!e.shouldUnregister&&!U.keepDefaultValue&&Ot(s,q);p.state.next({values:St(i)}),p.state.next({...n,...U.keepDirty?{isDirty:P()}:{}}),!U.keepIsValid&&E()},Le=({disabled:L,name:U})=>{(qr(L)&&o.mount||L||a.disabled.has(U))&&(L?a.disabled.add(U):a.disabled.delete(U))},Ve=(L,U={})=>{let q=ae(r,L);const oe=qr(U.disabled)||qr(e.disabled);return Je(r,L,{...q||{},_f:{...q&&q._f?q._f:{ref:{name:L}},name:L,mount:!0,...U}}),a.mount.add(L),q?Le({disabled:qr(U.disabled)?U.disabled:e.disabled,name:L}):M(L,!0,U.value),{...oe?{disabled:U.disabled||e.disabled}:{},...e.progressive?{required:!!U.required,min:Vc(U.min),max:Vc(U.max),minLength:Vc(U.minLength),maxLength:Vc(U.maxLength),pattern:Vc(U.pattern)}:{},name:L,onChange:W,onBlur:W,ref:J=>{if(J){Ve(L,U),q=ae(r,L);const Z=ht(J.value)&&J.querySelectorAll&&J.querySelectorAll("input,select,textarea")[0]||J,he=FQ(Z),Be=q._f.refs||[];if(he?Be.find(pt=>pt===Z):Z===q._f.ref)return;Je(r,L,{_f:{...q._f,...he?{refs:[...Be.filter(ry),Z,...Array.isArray(ae(s,L))?[{}]:[]],ref:{type:Z.type,name:L}}:{ref:Z}}}),M(L,!1,void 0,Z)}else q=ae(r,L,{}),q._f&&(q._f.mount=!1),(e.shouldUnregister||U.shouldUnregister)&&!(DQ(a.array,L)&&o.action)&&a.unMount.add(L)}}},ze=()=>e.shouldFocusError&&ol(r,re,a.mount),jt=L=>{qr(L)&&(p.state.next({disabled:L}),ol(r,(U,q)=>{const oe=ae(r,q);oe&&(U.disabled=oe._f.disabled||L,Array.isArray(oe._f.refs)&&oe._f.refs.forEach(J=>{J.disabled=oe._f.disabled||L}))},0,!1))},Zt=(L,U)=>async q=>{let oe;q&&(q.preventDefault&&q.preventDefault(),q.persist&&q.persist());let J=St(i);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:Z,values:he}=await C();n.errors=Z,J=he}else await O(r);if(a.disabled.size)for(const Z of a.disabled)Je(J,Z,void 0);if(Ot(n.errors,"root"),fn(n.errors)){p.state.next({errors:{}});try{await L(J,q)}catch(Z){oe=Z}}else U&&await U({...n.errors},q),ze(),setTimeout(ze);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:fn(n.errors)&&!oe,submitCount:n.submitCount+1,errors:n.errors}),oe)throw oe},mr=(L,U={})=>{ae(r,L)&&(ht(U.defaultValue)?$(L,St(ae(s,L))):($(L,U.defaultValue),Je(s,L,St(U.defaultValue))),U.keepTouched||Ot(n.touchedFields,L),U.keepDirty||(Ot(n.dirtyFields,L),n.isDirty=U.defaultValue?P(L,St(ae(s,L))):P()),U.keepError||(Ot(n.errors,L),d.isValid&&E()),p.state.next({...n}))},gr=(L,U={})=>{const q=L?St(L):s,oe=St(q),J=fn(L),Z=J?s:oe;if(U.keepDefaultValues||(s=q),!U.keepValues){if(U.keepDirtyValues){const he=new Set([...a.mount,...Object.keys(Lc(s,i))]);for(const Be of Array.from(he))ae(n.dirtyFields,Be)?Je(Z,Be,ae(i,Be)):$(Be,ae(Z,Be))}else{if(Y0&&ht(L))for(const he of a.mount){const Be=ae(r,he);if(Be&&Be._f){const pt=Array.isArray(Be._f.refs)?Be._f.refs[0]:Be._f.ref;if(pp(pt)){const Wt=pt.closest("form");if(Wt){Wt.reset();break}}}}for(const he of a.mount)$(he,ae(Z,he))}i=St(Z),p.array.next({values:{...Z}}),p.state.next({values:{...Z}})}a={mount:U.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!U.keepIsValid||!!U.keepDirtyValues,o.watch=!!e.shouldUnregister,p.state.next({submitCount:U.keepSubmitCount?n.submitCount:0,isDirty:J?!1:U.keepDirty?n.isDirty:!!(U.keepDefaultValues&&!hi(L,s)),isSubmitted:U.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:J?{}:U.keepDirtyValues?U.keepDefaultValues&&i?Lc(s,i):n.dirtyFields:U.keepDefaultValues&&L?Lc(s,L):U.keepDirty?n.dirtyFields:{},touchedFields:U.keepTouched?n.touchedFields:{},errors:U.keepErrors?n.errors:{},isSubmitSuccessful:U.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Ur=(L,U)=>gr(Ir(L)?L(i):L,U),dc=(L,U={})=>{const q=ae(r,L),oe=q&&q._f;if(oe){const J=oe.refs?oe.refs[0]:oe.ref;J.focus&&(J.focus(),U.shouldSelect&&Ir(J.select)&&J.select())}},fs=L=>{n={...n,...L}},hc={control:{register:Ve,unregister:Ye,getFieldState:De,handleSubmit:Zt,setError:Et,_subscribe:pe,_runSchema:C,_getWatch:H,_getDirty:P,_setValid:E,_setFieldArray:x,_setDisabledField:Le,_setErrors:k,_getFieldArray:B,_reset:gr,_resetDefaultValues:()=>Ir(e.defaultValues)&&e.defaultValues().then(L=>{Ur(L,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:D,_disableForm:jt,_subjects:p,_proxyFormState:d,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(L){o=L},get _defaultValues(){return s},get _names(){return a},set _names(L){a=L},get _formState(){return n},get _options(){return e},set _options(L){e={...e,...L}}},subscribe:Qe,trigger:me,register:Ve,handleSubmit:Zt,watch:ot,setValue:$,getValues:_e,reset:Ur,resetField:mr,clearErrors:rt,unregister:Ye,setError:Et,setFocus:dc,getFieldState:De};return{...hc,formControl:hc}}var ti=()=>{const t=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const n=(Math.random()*16+t)%16|0;return(e=="x"?n:n&3|8).toString(16)})},sy=(t,e,n={})=>n.shouldFocus||ht(n.shouldFocus)?n.focusName||`${t}.${ht(n.focusIndex)?e:n.focusIndex}.`:"",iy=(t,e)=>[...t,...Un(e)],oy=t=>Array.isArray(t)?t.map(()=>{}):void 0;function ay(t,e,n){return[...t.slice(0,e),...Un(n),...t.slice(e)]}var ly=(t,e,n)=>Array.isArray(t)?(ht(t[n])&&(t[n]=void 0),t.splice(n,0,t.splice(e,1)[0]),t):[],cy=(t,e)=>[...Un(e),...Un(t)];function ZQ(t,e){let n=0;const r=[...t];for(const s of e)r.splice(s-n,1),n++;return Vd(r).length?r:[]}var uy=(t,e)=>ht(e)?[]:ZQ(t,Un(e).sort((n,r)=>n-r)),dy=(t,e,n)=>{[t[e],t[n]]=[t[n],t[e]]},HS=(t,e,n)=>(t[e]=n,t);function XM(t){const e=LQ(),{control:n=e.control,name:r,keyName:s="id",shouldUnregister:i,rules:o}=t,[a,l]=Me.useState(n._getFieldArray(r)),u=Me.useRef(n._getFieldArray(r).map(ti)),d=Me.useRef(a),f=Me.useRef(r),p=Me.useRef(!1);f.current=r,d.current=a,n._names.array.add(r),o&&n.register(r,o),Me.useEffect(()=>n._subjects.array.subscribe({next:({values:M,name:T})=>{if(T===f.current||!T){const b=ae(M,f.current);Array.isArray(b)&&(l(b),u.current=b.map(ti))}}}).unsubscribe,[n]);const v=Me.useCallback(M=>{p.current=!0,n._setFieldArray(r,M)},[n,r]),I=(M,T)=>{const b=Un(St(M)),C=iy(n._getFieldArray(r),b);n._names.focus=sy(r,C.length-1,T),u.current=iy(u.current,b.map(ti)),v(C),l(C),n._setFieldArray(r,C,iy,{argA:oy(M)})},_=(M,T)=>{const b=Un(St(M)),C=cy(n._getFieldArray(r),b);n._names.focus=sy(r,0,T),u.current=cy(u.current,b.map(ti)),v(C),l(C),n._setFieldArray(r,C,cy,{argA:oy(M)})},S=M=>{const T=uy(n._getFieldArray(r),M);u.current=uy(u.current,M),v(T),l(T),!Array.isArray(ae(n._fields,r))&&Je(n._fields,r,void 0),n._setFieldArray(r,T,uy,{argA:M})},E=(M,T,b)=>{const C=Un(St(T)),R=ay(n._getFieldArray(r),M,C);n._names.focus=sy(r,M,b),u.current=ay(u.current,M,C.map(ti)),v(R),l(R),n._setFieldArray(r,R,ay,{argA:M,argB:oy(T)})},g=(M,T)=>{const b=n._getFieldArray(r);dy(b,M,T),dy(u.current,M,T),v(b),l(b),n._setFieldArray(r,b,dy,{argA:M,argB:T},!1)},x=(M,T)=>{const b=n._getFieldArray(r);ly(b,M,T),ly(u.current,M,T),v(b),l(b),n._setFieldArray(r,b,ly,{argA:M,argB:T},!1)},N=(M,T)=>{const b=St(T),C=HS(n._getFieldArray(r),M,b);u.current=[...C].map((R,O)=>!R||O===M?ti():u.current[O]),v(C),l([...C]),n._setFieldArray(r,C,HS,{argA:M,argB:b},!0,!1)},k=M=>{const T=Un(St(M));u.current=T.map(ti),v([...T]),l([...T]),n._setFieldArray(r,[...T],b=>b,{},!0,!1)};return Me.useEffect(()=>{if(n._state.action=!1,h_(r,n._names)&&n._subjects.state.next({...n._formState}),p.current&&(!$a(n._options.mode).isOnSubmit||n._formState.isSubmitted)&&!$a(n._options.reValidateMode).isOnSubmit)if(n._options.resolver)n._runSchema([r]).then(M=>{const T=ae(M.errors,r),b=ae(n._formState.errors,r);(b?!T&&b.type||T&&(b.type!==T.type||b.message!==T.message):T&&T.type)&&(T?Je(n._formState.errors,r,T):Ot(n._formState.errors,r),n._subjects.state.next({errors:n._formState.errors}))});else{const M=ae(n._fields,r);M&&M._f&&!($a(n._options.reValidateMode).isOnSubmit&&$a(n._options.mode).isOnSubmit)&&f_(M,n._names.disabled,n._formValues,n._options.criteriaMode===lr.all,n._options.shouldUseNativeValidation,!0).then(T=>!fn(T)&&n._subjects.state.next({errors:ZM(n._formState.errors,T,r)}))}n._subjects.state.next({name:r,values:St(n._formValues)}),n._names.focus&&ol(n._fields,(M,T)=>{if(n._names.focus&&T.startsWith(n._names.focus)&&M.focus)return M.focus(),1}),n._names.focus="",n._setValid(),p.current=!1},[a,r,n]),Me.useEffect(()=>(!ae(n._formValues,r)&&n._setFieldArray(r),()=>{const M=(T,b)=>{const C=ae(n._fields,T);C&&C._f&&(C._f.mount=b)};n._options.shouldUnregister||i?n.unregister(r):M(r,!1)}),[r,n,s,i]),{swap:Me.useCallback(g,[v,r,n]),move:Me.useCallback(x,[v,r,n]),prepend:Me.useCallback(_,[v,r,n]),append:Me.useCallback(I,[v,r,n]),remove:Me.useCallback(S,[v,r,n]),insert:Me.useCallback(E,[v,r,n]),update:Me.useCallback(N,[v,r,n]),replace:Me.useCallback(k,[v,r,n]),fields:Me.useMemo(()=>a.map((M,T)=>({...M,[s]:u.current[T]||ti()})),[a,s])}}function yp(t={}){const e=Me.useRef(void 0),n=Me.useRef(void 0),[r,s]=Me.useState({isDirty:!1,isValidating:!1,isLoading:Ir(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Ir(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:YQ(t),formState:r},t.formControl&&t.defaultValues&&!Ir(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const i=e.current.control;return i._options=t,Me.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0}),[i]),Me.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),Me.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),Me.useEffect(()=>{t.values&&!hi(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),Me.useEffect(()=>{t.errors&&!fn(t.errors)&&i._setErrors(t.errors)},[t.errors,i]),Me.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),Me.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[t.shouldUnregister,i]),e.current.formState=VQ(r,i),e.current}const KS=(t,e,n)=>{if(t&&"reportValidity"in t){const r=ae(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},JM=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?KS(r.ref,n,t):r.refs&&r.refs.forEach(s=>KS(s,n,t))}},XQ=(t,e)=>{e.shouldUseNativeValidation&&JM(t,e);const n={};for(const r in t){const s=ae(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(JQ(e.names||Object.keys(t),r)){const o=Object.assign({},ae(n,r));Je(o,"root",i),Je(n,r,o)}else Je(n,r,i)}return n},JQ=(t,e)=>t.some(n=>n.startsWith(e+"."));var eY=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[o]={message:a.message,type:a.code}}else n[o]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var l=n[o].types,u=l&&l[r.code];n[o]=WM(o,e,n,s,u?[].concat(u,r.message):r.message)}t.shift()}return n},vp=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(u){return i.shouldUseNativeValidation&&JM({},i),{errors:{},values:n.raw?r:u}})}catch(u){return a(u)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:XQ(eY(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},He;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(He||(He={}));var p_;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(p_||(p_={}));const ce=He.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Es=t=>{switch(typeof t){case"undefined":return ce.undefined;case"string":return ce.string;case"number":return isNaN(t)?ce.nan:ce.number;case"boolean":return ce.boolean;case"function":return ce.function;case"bigint":return ce.bigint;case"symbol":return ce.symbol;case"object":return Array.isArray(t)?ce.array:t===null?ce.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ce.promise:typeof Map<"u"&&t instanceof Map?ce.map:typeof Set<"u"&&t instanceof Set?ce.set:typeof Date<"u"&&t instanceof Date?ce.date:ce.object;default:return ce.unknown}},X=He.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),tY=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Xn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(o))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return s(this),r}static assert(e){if(!(e instanceof Xn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,He.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Xn.create=t=>new Xn(t);const zl=(t,e)=>{let n;switch(t.code){case X.invalid_type:t.received===ce.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case X.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,He.jsonStringifyReplacer)}`;break;case X.unrecognized_keys:n=`Unrecognized key(s) in object: ${He.joinValues(t.keys,", ")}`;break;case X.invalid_union:n="Invalid input";break;case X.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${He.joinValues(t.options)}`;break;case X.invalid_enum_value:n=`Invalid enum value. Expected ${He.joinValues(t.options)}, received '${t.received}'`;break;case X.invalid_arguments:n="Invalid function arguments";break;case X.invalid_return_type:n="Invalid function return type";break;case X.invalid_date:n="Invalid date";break;case X.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:He.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case X.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case X.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case X.custom:n="Invalid input";break;case X.invalid_intersection_types:n="Intersection results could not be merged";break;case X.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case X.not_finite:n="Number must be finite";break;default:n=e.defaultError,He.assertNever(t)}return{message:n}};let eL=zl;function nY(t){eL=t}function _p(){return eL}const wp=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)a=u(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}},rY=[];function se(t,e){const n=_p(),r=wp({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===zl?void 0:zl].filter(s=>!!s)});t.common.issues.push(r)}class xn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return Te;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return xn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Te;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const Te=Object.freeze({status:"aborted"}),za=t=>({status:"dirty",value:t}),Pn=t=>({status:"valid",value:t}),m_=t=>t.status==="aborted",g_=t=>t.status==="dirty",Yo=t=>t.status==="valid",Gu=t=>typeof Promise<"u"&&t instanceof Promise;function xp(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function tL(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var ge;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ge||(ge={}));var Zc,Xc;class cs{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const GS=(t,e)=>{if(Yo(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Xn(t.common.issues);return this._error=n,this._error}}};function Ce(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{var l,u;const{message:d}=t;return o.code==="invalid_enum_value"?{message:d??a.defaultError}:typeof a.data>"u"?{message:(l=d??r)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(u=d??n)!==null&&u!==void 0?u:a.defaultError}},description:s}}class ke{get description(){return this._def.description}_getType(e){return Es(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Es(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new xn,ctx:{common:e.parent.common,data:e.data,parsedType:Es(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Gu(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Es(e)},i=this._parseSync({data:e,path:s.path,parent:s});return GS(s,i)}"~validate"(e){var n,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Es(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:s});return Yo(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((r=(n=i==null?void 0:i.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(i=>Yo(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Es(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Gu(s)?s:Promise.resolve(s));return GS(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:X.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new jr({schema:this,typeName:Ee.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return os.create(this,this._def)}nullable(){return Xi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Nr.create(this)}promise(){return Wl.create(this,this._def)}or(e){return Xu.create([this,e],this._def)}and(e){return Ju.create(this,e,this._def)}transform(e){return new jr({...Ce(this._def),schema:this,typeName:Ee.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new sd({...Ce(this._def),innerType:this,defaultValue:n,typeName:Ee.ZodDefault})}brand(){return new ex({typeName:Ee.ZodBranded,type:this,...Ce(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new id({...Ce(this._def),innerType:this,catchValue:n,typeName:Ee.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return jd.create(this,e)}readonly(){return od.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const sY=/^c[^\s-]{8,}$/i,iY=/^[0-9a-z]+$/,oY=/^[0-9A-HJKMNP-TV-Z]{26}$/i,aY=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,lY=/^[a-z0-9_-]{21}$/i,cY=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,uY=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,dY=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,hY="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let hy;const fY=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,pY=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,mY=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,gY=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,yY=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,vY=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nL="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",_Y=new RegExp(`^${nL}$`);function rL(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function wY(t){return new RegExp(`^${rL(t)}$`)}function sL(t){let e=`${nL}T${rL(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function xY(t,e){return!!((e==="v4"||!e)&&fY.test(t)||(e==="v6"||!e)&&mY.test(t))}function EY(t,e){if(!cY.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}function TY(t,e){return!!((e==="v4"||!e)&&pY.test(t)||(e==="v6"||!e)&&gY.test(t))}class Ar extends ke{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ce.string){const i=this._getOrReturnCtx(e);return se(i,{code:X.invalid_type,expected:ce.string,received:i.parsedType}),Te}const r=new xn;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),se(s,{code:X.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),se(s,{code:X.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?se(s,{code:X.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&se(s,{code:X.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")dY.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"email",code:X.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")hy||(hy=new RegExp(hY,"u")),hy.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"emoji",code:X.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")aY.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"uuid",code:X.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")lY.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"nanoid",code:X.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")sY.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"cuid",code:X.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")iY.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"cuid2",code:X.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")oY.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"ulid",code:X.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),se(s,{validation:"url",code:X.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"regex",code:X.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),se(s,{code:X.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),se(s,{code:X.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),se(s,{code:X.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?sL(i).test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{code:X.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?_Y.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{code:X.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?wY(i).test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{code:X.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?uY.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"duration",code:X.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?xY(e.data,i.version)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"ip",code:X.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?EY(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"jwt",code:X.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?TY(e.data,i.version)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"cidr",code:X.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?yY.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"base64",code:X.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?vY.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"base64url",code:X.invalid_string,message:i.message}),r.dirty()):He.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:X.invalid_string,...ge.errToObj(r)})}_addCheck(e){return new Ar({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ge.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ge.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ge.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ge.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ge.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ge.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ge.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ge.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ge.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ge.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ge.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ge.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ge.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...ge.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ge.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ge.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ge.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ge.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ge.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ge.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ge.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ge.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ge.errToObj(n)})}nonempty(e){return this.min(1,ge.errToObj(e))}trim(){return new Ar({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ar({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ar({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ar.create=t=>{var e;return new Ar({checks:[],typeName:Ee.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ce(t)})};function bY(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class Qi extends ke{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ce.number){const i=this._getOrReturnCtx(e);return se(i,{code:X.invalid_type,expected:ce.number,received:i.parsedType}),Te}let r;const s=new xn;for(const i of this._def.checks)i.kind==="int"?He.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),se(r,{code:X.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),se(r,{code:X.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),se(r,{code:X.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?bY(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),se(r,{code:X.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),se(r,{code:X.not_finite,message:i.message}),s.dirty()):He.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ge.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ge.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ge.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ge.toString(n))}setLimit(e,n,r,s){return new Qi({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ge.toString(s)}]})}_addCheck(e){return new Qi({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ge.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ge.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ge.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ge.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ge.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ge.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ge.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ge.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ge.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&He.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Qi.create=t=>new Qi({checks:[],typeName:Ee.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ce(t)});class Yi extends ke{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ce.bigint)return this._getInvalidInput(e);let r;const s=new xn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),se(r,{code:X.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),se(r,{code:X.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),se(r,{code:X.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):He.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return se(n,{code:X.invalid_type,expected:ce.bigint,received:n.parsedType}),Te}gte(e,n){return this.setLimit("min",e,!0,ge.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ge.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ge.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ge.toString(n))}setLimit(e,n,r,s){return new Yi({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ge.toString(s)}]})}_addCheck(e){return new Yi({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ge.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ge.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ge.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ge.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ge.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Yi.create=t=>{var e;return new Yi({checks:[],typeName:Ee.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ce(t)})};class Qu extends ke{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ce.boolean){const r=this._getOrReturnCtx(e);return se(r,{code:X.invalid_type,expected:ce.boolean,received:r.parsedType}),Te}return Pn(e.data)}}Qu.create=t=>new Qu({typeName:Ee.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ce(t)});class Zo extends ke{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ce.date){const i=this._getOrReturnCtx(e);return se(i,{code:X.invalid_type,expected:ce.date,received:i.parsedType}),Te}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return se(i,{code:X.invalid_date}),Te}const r=new xn;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),se(s,{code:X.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),se(s,{code:X.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):He.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Zo({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ge.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ge.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Zo.create=t=>new Zo({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ee.ZodDate,...Ce(t)});class Ep extends ke{_parse(e){if(this._getType(e)!==ce.symbol){const r=this._getOrReturnCtx(e);return se(r,{code:X.invalid_type,expected:ce.symbol,received:r.parsedType}),Te}return Pn(e.data)}}Ep.create=t=>new Ep({typeName:Ee.ZodSymbol,...Ce(t)});class Yu extends ke{_parse(e){if(this._getType(e)!==ce.undefined){const r=this._getOrReturnCtx(e);return se(r,{code:X.invalid_type,expected:ce.undefined,received:r.parsedType}),Te}return Pn(e.data)}}Yu.create=t=>new Yu({typeName:Ee.ZodUndefined,...Ce(t)});class Zu extends ke{_parse(e){if(this._getType(e)!==ce.null){const r=this._getOrReturnCtx(e);return se(r,{code:X.invalid_type,expected:ce.null,received:r.parsedType}),Te}return Pn(e.data)}}Zu.create=t=>new Zu({typeName:Ee.ZodNull,...Ce(t)});class Bl extends ke{constructor(){super(...arguments),this._any=!0}_parse(e){return Pn(e.data)}}Bl.create=t=>new Bl({typeName:Ee.ZodAny,...Ce(t)});class Oo extends ke{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Pn(e.data)}}Oo.create=t=>new Oo({typeName:Ee.ZodUnknown,...Ce(t)});class Ws extends ke{_parse(e){const n=this._getOrReturnCtx(e);return se(n,{code:X.invalid_type,expected:ce.never,received:n.parsedType}),Te}}Ws.create=t=>new Ws({typeName:Ee.ZodNever,...Ce(t)});class Tp extends ke{_parse(e){if(this._getType(e)!==ce.undefined){const r=this._getOrReturnCtx(e);return se(r,{code:X.invalid_type,expected:ce.void,received:r.parsedType}),Te}return Pn(e.data)}}Tp.create=t=>new Tp({typeName:Ee.ZodVoid,...Ce(t)});class Nr extends ke{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==ce.array)return se(n,{code:X.invalid_type,expected:ce.array,received:n.parsedType}),Te;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(se(n,{code:o?X.too_big:X.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(se(n,{code:X.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(se(n,{code:X.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new cs(n,o,n.path,a)))).then(o=>xn.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new cs(n,o,n.path,a)));return xn.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new Nr({...this._def,minLength:{value:e,message:ge.toString(n)}})}max(e,n){return new Nr({...this._def,maxLength:{value:e,message:ge.toString(n)}})}length(e,n){return new Nr({...this._def,exactLength:{value:e,message:ge.toString(n)}})}nonempty(e){return this.min(1,e)}}Nr.create=(t,e)=>new Nr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ee.ZodArray,...Ce(e)});function Ca(t){if(t instanceof gt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=os.create(Ca(r))}return new gt({...t._def,shape:()=>e})}else return t instanceof Nr?new Nr({...t._def,type:Ca(t.element)}):t instanceof os?os.create(Ca(t.unwrap())):t instanceof Xi?Xi.create(Ca(t.unwrap())):t instanceof us?us.create(t.items.map(e=>Ca(e))):t}class gt extends ke{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=He.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==ce.object){const u=this._getOrReturnCtx(e);return se(u,{code:X.invalid_type,expected:ce.object,received:u.parsedType}),Te}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Ws&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||a.push(u);const l=[];for(const u of o){const d=i[u],f=s.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new cs(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Ws){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of a)l.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")a.length>0&&(se(s,{code:X.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of a){const f=s.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new cs(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const f=await d.key,p=await d.value;u.push({key:f,value:p,alwaysSet:d.alwaysSet})}return u}).then(u=>xn.mergeObjectSync(r,u)):xn.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return ge.errToObj,new gt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const l=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=ge.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new gt({...this._def,unknownKeys:"strip"})}passthrough(){return new gt({...this._def,unknownKeys:"passthrough"})}extend(e){return new gt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new gt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ee.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new gt({...this._def,catchall:e})}pick(e){const n={};return He.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new gt({...this._def,shape:()=>n})}omit(e){const n={};return He.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new gt({...this._def,shape:()=>n})}deepPartial(){return Ca(this)}partial(e){const n={};return He.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new gt({...this._def,shape:()=>n})}required(e){const n={};return He.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof os;)i=i._def.innerType;n[r]=i}}),new gt({...this._def,shape:()=>n})}keyof(){return iL(He.objectKeys(this.shape))}}gt.create=(t,e)=>new gt({shape:()=>t,unknownKeys:"strip",catchall:Ws.create(),typeName:Ee.ZodObject,...Ce(e)});gt.strictCreate=(t,e)=>new gt({shape:()=>t,unknownKeys:"strict",catchall:Ws.create(),typeName:Ee.ZodObject,...Ce(e)});gt.lazycreate=(t,e)=>new gt({shape:t,unknownKeys:"strip",catchall:Ws.create(),typeName:Ee.ZodObject,...Ce(e)});class Xu extends ke{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new Xn(a.ctx.common.issues));return se(n,{code:X.invalid_union,unionErrors:o}),Te}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new Xn(l));return se(n,{code:X.invalid_union,unionErrors:a}),Te}}get options(){return this._def.options}}Xu.create=(t,e)=>new Xu({options:t,typeName:Ee.ZodUnion,...Ce(e)});const _s=t=>t instanceof td?_s(t.schema):t instanceof jr?_s(t.innerType()):t instanceof nd?[t.value]:t instanceof Zi?t.options:t instanceof rd?He.objectValues(t.enum):t instanceof sd?_s(t._def.innerType):t instanceof Yu?[void 0]:t instanceof Zu?[null]:t instanceof os?[void 0,..._s(t.unwrap())]:t instanceof Xi?[null,..._s(t.unwrap())]:t instanceof ex||t instanceof od?_s(t.unwrap()):t instanceof id?_s(t._def.innerType):[];class Lm extends ke{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ce.object)return se(n,{code:X.invalid_type,expected:ce.object,received:n.parsedType}),Te;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(se(n,{code:X.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Te)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=_s(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new Lm({typeName:Ee.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...Ce(r)})}}function y_(t,e){const n=Es(t),r=Es(e);if(t===e)return{valid:!0,data:t};if(n===ce.object&&r===ce.object){const s=He.objectKeys(e),i=He.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const l=y_(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===ce.array&&r===ce.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],l=y_(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===ce.date&&r===ce.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Ju extends ke{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(m_(i)||m_(o))return Te;const a=y_(i.value,o.value);return a.valid?((g_(i)||g_(o))&&n.dirty(),{status:n.value,value:a.data}):(se(r,{code:X.invalid_intersection_types}),Te)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Ju.create=(t,e,n)=>new Ju({left:t,right:e,typeName:Ee.ZodIntersection,...Ce(n)});class us extends ke{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ce.array)return se(r,{code:X.invalid_type,expected:ce.array,received:r.parsedType}),Te;if(r.data.length<this._def.items.length)return se(r,{code:X.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Te;!this._def.rest&&r.data.length>this._def.items.length&&(se(r,{code:X.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new cs(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>xn.mergeArray(n,o)):xn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new us({...this._def,rest:e})}}us.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new us({items:t,typeName:Ee.ZodTuple,rest:null,...Ce(e)})};class ed extends ke{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ce.object)return se(r,{code:X.invalid_type,expected:ce.object,received:r.parsedType}),Te;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new cs(r,a,r.path,a)),value:o._parse(new cs(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?xn.mergeObjectAsync(n,s):xn.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof ke?new ed({keyType:e,valueType:n,typeName:Ee.ZodRecord,...Ce(r)}):new ed({keyType:Ar.create(),valueType:e,typeName:Ee.ZodRecord,...Ce(n)})}}class bp extends ke{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ce.map)return se(r,{code:X.invalid_type,expected:ce.map,received:r.parsedType}),Te;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,l],u)=>({key:s._parse(new cs(r,a,r.path,[u,"key"])),value:i._parse(new cs(r,l,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return Te;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return Te;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}}}}bp.create=(t,e,n)=>new bp({valueType:e,keyType:t,typeName:Ee.ZodMap,...Ce(n)});class Xo extends ke{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ce.set)return se(r,{code:X.invalid_type,expected:ce.set,received:r.parsedType}),Te;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(se(r,{code:X.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(se(r,{code:X.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(l){const u=new Set;for(const d of l){if(d.status==="aborted")return Te;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((l,u)=>i._parse(new cs(r,l,r.path,u)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new Xo({...this._def,minSize:{value:e,message:ge.toString(n)}})}max(e,n){return new Xo({...this._def,maxSize:{value:e,message:ge.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Xo.create=(t,e)=>new Xo({valueType:t,minSize:null,maxSize:null,typeName:Ee.ZodSet,...Ce(e)});class al extends ke{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ce.function)return se(n,{code:X.invalid_type,expected:ce.function,received:n.parsedType}),Te;function r(a,l){return wp({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,_p(),zl].filter(u=>!!u),issueData:{code:X.invalid_arguments,argumentsError:l}})}function s(a,l){return wp({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,_p(),zl].filter(u=>!!u),issueData:{code:X.invalid_return_type,returnTypeError:l}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Wl){const a=this;return Pn(async function(...l){const u=new Xn([]),d=await a._def.args.parseAsync(l,i).catch(v=>{throw u.addIssue(r(l,v)),u}),f=await Reflect.apply(o,this,d);return await a._def.returns._def.type.parseAsync(f,i).catch(v=>{throw u.addIssue(s(f,v)),u})})}else{const a=this;return Pn(function(...l){const u=a._def.args.safeParse(l,i);if(!u.success)throw new Xn([r(l,u.error)]);const d=Reflect.apply(o,this,u.data),f=a._def.returns.safeParse(d,i);if(!f.success)throw new Xn([s(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new al({...this._def,args:us.create(e).rest(Oo.create())})}returns(e){return new al({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new al({args:e||us.create([]).rest(Oo.create()),returns:n||Oo.create(),typeName:Ee.ZodFunction,...Ce(r)})}}class td extends ke{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}td.create=(t,e)=>new td({getter:t,typeName:Ee.ZodLazy,...Ce(e)});class nd extends ke{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return se(n,{received:n.data,code:X.invalid_literal,expected:this._def.value}),Te}return{status:"valid",value:e.data}}get value(){return this._def.value}}nd.create=(t,e)=>new nd({value:t,typeName:Ee.ZodLiteral,...Ce(e)});function iL(t,e){return new Zi({values:t,typeName:Ee.ZodEnum,...Ce(e)})}class Zi extends ke{constructor(){super(...arguments),Zc.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return se(n,{expected:He.joinValues(r),received:n.parsedType,code:X.invalid_type}),Te}if(xp(this,Zc)||tL(this,Zc,new Set(this._def.values)),!xp(this,Zc).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return se(n,{received:n.data,code:X.invalid_enum_value,options:r}),Te}return Pn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Zi.create(e,{...this._def,...n})}exclude(e,n=this._def){return Zi.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Zc=new WeakMap;Zi.create=iL;class rd extends ke{constructor(){super(...arguments),Xc.set(this,void 0)}_parse(e){const n=He.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ce.string&&r.parsedType!==ce.number){const s=He.objectValues(n);return se(r,{expected:He.joinValues(s),received:r.parsedType,code:X.invalid_type}),Te}if(xp(this,Xc)||tL(this,Xc,new Set(He.getValidEnumValues(this._def.values))),!xp(this,Xc).has(e.data)){const s=He.objectValues(n);return se(r,{received:r.data,code:X.invalid_enum_value,options:s}),Te}return Pn(e.data)}get enum(){return this._def.values}}Xc=new WeakMap;rd.create=(t,e)=>new rd({values:t,typeName:Ee.ZodNativeEnum,...Ce(e)});class Wl extends ke{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ce.promise&&n.common.async===!1)return se(n,{code:X.invalid_type,expected:ce.promise,received:n.parsedType}),Te;const r=n.parsedType===ce.promise?n.data:Promise.resolve(n.data);return Pn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Wl.create=(t,e)=>new Wl({type:t,typeName:Ee.ZodPromise,...Ce(e)});class jr extends ke{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ee.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{se(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return Te;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?Te:l.status==="dirty"||n.value==="dirty"?za(l.value):l});{if(n.value==="aborted")return Te;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?Te:a.status==="dirty"||n.value==="dirty"?za(a.value):a}}if(s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Te:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Te:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Yo(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Yo(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);He.assertNever(s)}}jr.create=(t,e,n)=>new jr({schema:t,typeName:Ee.ZodEffects,effect:e,...Ce(n)});jr.createWithPreprocess=(t,e,n)=>new jr({schema:e,effect:{type:"preprocess",transform:t},typeName:Ee.ZodEffects,...Ce(n)});class os extends ke{_parse(e){return this._getType(e)===ce.undefined?Pn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}os.create=(t,e)=>new os({innerType:t,typeName:Ee.ZodOptional,...Ce(e)});class Xi extends ke{_parse(e){return this._getType(e)===ce.null?Pn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Xi.create=(t,e)=>new Xi({innerType:t,typeName:Ee.ZodNullable,...Ce(e)});class sd extends ke{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ce.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}sd.create=(t,e)=>new sd({innerType:t,typeName:Ee.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ce(e)});class id extends ke{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Gu(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Xn(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Xn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}id.create=(t,e)=>new id({innerType:t,typeName:Ee.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ce(e)});class Sp extends ke{_parse(e){if(this._getType(e)!==ce.nan){const r=this._getOrReturnCtx(e);return se(r,{code:X.invalid_type,expected:ce.nan,received:r.parsedType}),Te}return{status:"valid",value:e.data}}}Sp.create=t=>new Sp({typeName:Ee.ZodNaN,...Ce(t)});const SY=Symbol("zod_brand");class ex extends ke{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class jd extends ke{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Te:i.status==="dirty"?(n.dirty(),za(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Te:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new jd({in:e,out:n,typeName:Ee.ZodPipeline})}}class od extends ke{_parse(e){const n=this._def.innerType._parse(e),r=s=>(Yo(s)&&(s.value=Object.freeze(s.value)),s);return Gu(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}od.create=(t,e)=>new od({innerType:t,typeName:Ee.ZodReadonly,...Ce(e)});function QS(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function oL(t,e={},n){return t?Bl.create().superRefine((r,s)=>{var i,o;const a=t(r);if(a instanceof Promise)return a.then(l=>{var u,d;if(!l){const f=QS(e,r),p=(d=(u=f.fatal)!==null&&u!==void 0?u:n)!==null&&d!==void 0?d:!0;s.addIssue({code:"custom",...f,fatal:p})}});if(!a){const l=QS(e,r),u=(o=(i=l.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0;s.addIssue({code:"custom",...l,fatal:u})}}):Bl.create()}const IY={object:gt.lazycreate};var Ee;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ee||(Ee={}));const CY=(t,e={message:`Input not instance of ${t.name}`})=>oL(n=>n instanceof t,e),aL=Ar.create,lL=Qi.create,AY=Sp.create,RY=Yi.create,cL=Qu.create,PY=Zo.create,NY=Ep.create,kY=Yu.create,DY=Zu.create,OY=Bl.create,MY=Oo.create,LY=Ws.create,VY=Tp.create,jY=Nr.create,FY=gt.create,UY=gt.strictCreate,$Y=Xu.create,zY=Lm.create,BY=Ju.create,WY=us.create,qY=ed.create,HY=bp.create,KY=Xo.create,GY=al.create,QY=td.create,YY=nd.create,ZY=Zi.create,XY=rd.create,JY=Wl.create,YS=jr.create,eZ=os.create,tZ=Xi.create,nZ=jr.createWithPreprocess,rZ=jd.create,sZ=()=>aL().optional(),iZ=()=>lL().optional(),oZ=()=>cL().optional(),aZ={string:t=>Ar.create({...t,coerce:!0}),number:t=>Qi.create({...t,coerce:!0}),boolean:t=>Qu.create({...t,coerce:!0}),bigint:t=>Yi.create({...t,coerce:!0}),date:t=>Zo.create({...t,coerce:!0})},lZ=Te;var Se=Object.freeze({__proto__:null,defaultErrorMap:zl,setErrorMap:nY,getErrorMap:_p,makeIssue:wp,EMPTY_PATH:rY,addIssueToContext:se,ParseStatus:xn,INVALID:Te,DIRTY:za,OK:Pn,isAborted:m_,isDirty:g_,isValid:Yo,isAsync:Gu,get util(){return He},get objectUtil(){return p_},ZodParsedType:ce,getParsedType:Es,ZodType:ke,datetimeRegex:sL,ZodString:Ar,ZodNumber:Qi,ZodBigInt:Yi,ZodBoolean:Qu,ZodDate:Zo,ZodSymbol:Ep,ZodUndefined:Yu,ZodNull:Zu,ZodAny:Bl,ZodUnknown:Oo,ZodNever:Ws,ZodVoid:Tp,ZodArray:Nr,ZodObject:gt,ZodUnion:Xu,ZodDiscriminatedUnion:Lm,ZodIntersection:Ju,ZodTuple:us,ZodRecord:ed,ZodMap:bp,ZodSet:Xo,ZodFunction:al,ZodLazy:td,ZodLiteral:nd,ZodEnum:Zi,ZodNativeEnum:rd,ZodPromise:Wl,ZodEffects:jr,ZodTransformer:jr,ZodOptional:os,ZodNullable:Xi,ZodDefault:sd,ZodCatch:id,ZodNaN:Sp,BRAND:SY,ZodBranded:ex,ZodPipeline:jd,ZodReadonly:od,custom:oL,Schema:ke,ZodSchema:ke,late:IY,get ZodFirstPartyTypeKind(){return Ee},coerce:aZ,any:OY,array:jY,bigint:RY,boolean:cL,date:PY,discriminatedUnion:zY,effect:YS,enum:ZY,function:GY,instanceof:CY,intersection:BY,lazy:QY,literal:YY,map:HY,nan:AY,nativeEnum:XY,never:LY,null:DY,nullable:tZ,number:lL,object:FY,oboolean:oZ,onumber:iZ,optional:eZ,ostring:sZ,pipeline:rZ,preprocess:nZ,promise:JY,record:qY,set:KY,strictObject:UY,string:aL,symbol:NY,transformer:YS,tuple:WY,undefined:kY,union:$Y,unknown:MY,void:VY,NEVER:lZ,ZodIssueCode:X,quotelessJson:tY,ZodError:Xn});const cZ=Pw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Mt=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?b$:"button";return h.jsx(o,{className:je(cZ({variant:e,size:n,className:t})),ref:i,...s})});Mt.displayName="Button";var tx="Dialog",[uL,kJ]=Hs(tx),[uZ,Fr]=uL(tx),dL=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=y.useRef(null),l=y.useRef(null),[u=!1,d]=Nl({prop:r,defaultProp:s,onChange:i});return h.jsx(uZ,{scope:e,triggerRef:a,contentRef:l,contentId:Ps(),titleId:Ps(),descriptionId:Ps(),open:u,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};dL.displayName=tx;var hL="DialogTrigger",dZ=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Fr(hL,n),i=Xe(e,s.triggerRef);return h.jsx(Pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":sx(s.open),...r,ref:i,onClick:ie(t.onClick,s.onOpenToggle)})});dZ.displayName=hL;var nx="DialogPortal",[hZ,fL]=uL(nx,{forceMount:void 0}),pL=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Fr(nx,e);return h.jsx(hZ,{scope:e,forceMount:n,children:y.Children.map(r,o=>h.jsx(ds,{present:n||i.open,children:h.jsx(_d,{asChild:!0,container:s,children:o})}))})};pL.displayName=nx;var Ip="DialogOverlay",mL=y.forwardRef((t,e)=>{const n=fL(Ip,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Fr(Ip,t.__scopeDialog);return i.modal?h.jsx(ds,{present:r||i.open,children:h.jsx(pZ,{...s,ref:e})}):null});mL.displayName=Ip;var fZ=zo("DialogOverlay.RemoveScroll"),pZ=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Fr(Ip,n);return h.jsx(Dm,{as:fZ,allowPinchZoom:!0,shards:[s.contentRef],children:h.jsx(Pe.div,{"data-state":sx(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Jo="DialogContent",gL=y.forwardRef((t,e)=>{const n=fL(Jo,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Fr(Jo,t.__scopeDialog);return h.jsx(ds,{present:r||i.open,children:i.modal?h.jsx(mZ,{...s,ref:e}):h.jsx(gZ,{...s,ref:e})})});gL.displayName=Jo;var mZ=y.forwardRef((t,e)=>{const n=Fr(Jo,t.__scopeDialog),r=y.useRef(null),s=Xe(e,n.contentRef,r);return y.useEffect(()=>{const i=r.current;if(i)return U0(i)},[]),h.jsx(yL,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ie(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ie(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ie(t.onFocusOutside,i=>i.preventDefault())})}),gZ=y.forwardRef((t,e)=>{const n=Fr(Jo,t.__scopeDialog),r=y.useRef(!1),s=y.useRef(!1);return h.jsx(yL,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),yL=y.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Fr(Jo,n),l=y.useRef(null),u=Xe(e,l);return F0(),h.jsxs(h.Fragment,{children:[h.jsx(Pm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:h.jsx(Yl,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":sx(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(yZ,{titleId:a.titleId}),h.jsx(_Z,{contentRef:l,descriptionId:a.descriptionId})]})]})}),rx="DialogTitle",vL=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Fr(rx,n);return h.jsx(Pe.h2,{id:s.titleId,...r,ref:e})});vL.displayName=rx;var _L="DialogDescription",wL=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Fr(_L,n);return h.jsx(Pe.p,{id:s.descriptionId,...r,ref:e})});wL.displayName=_L;var xL="DialogClose",EL=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Fr(xL,n);return h.jsx(Pe.button,{type:"button",...r,ref:e,onClick:ie(t.onClick,()=>s.onOpenChange(!1))})});EL.displayName=xL;function sx(t){return t?"open":"closed"}var TL="DialogTitleWarning",[DJ,bL]=E$(TL,{contentName:Jo,titleName:rx,docsSlug:"dialog"}),yZ=({titleId:t})=>{const e=bL(TL),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},vZ="DialogDescriptionWarning",_Z=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${bL(vZ).contentName}}.`;return y.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},wZ=dL,xZ=pL,SL=mL,IL=gL,CL=vL,AL=wL,EZ=EL;const RL=wZ,TZ=xZ,PL=y.forwardRef(({className:t,...e},n)=>h.jsx(SL,{ref:n,className:je("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));PL.displayName=SL.displayName;const ix=y.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(TZ,{children:[h.jsx(PL,{}),h.jsxs(IL,{ref:r,className:je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,h.jsxs(EZ,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[h.jsx(Eo,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ix.displayName=IL.displayName;const NL=({className:t,...e})=>h.jsx("div",{className:je("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});NL.displayName="DialogHeader";const ox=y.forwardRef(({className:t,...e},n)=>h.jsx(CL,{ref:n,className:je("text-lg font-semibold leading-none tracking-tight",t),...e}));ox.displayName=CL.displayName;const bZ=y.forwardRef(({className:t,...e},n)=>h.jsx(AL,{ref:n,className:je("text-sm text-muted-foreground",t),...e}));bZ.displayName=AL.displayName;const Pt=y.forwardRef(({className:t,type:e,...n},r)=>h.jsx("input",{type:e,className:je("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Pt.displayName="Input";var SZ="Label",kL=y.forwardRef((t,e)=>h.jsx(Pe.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));kL.displayName=SZ;var DL=kL;const IZ=Pw("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Kt=y.forwardRef(({className:t,...e},n)=>h.jsx(DL,{ref:n,className:je(IZ(),t),...e}));Kt.displayName=DL.displayName;const CZ=Se.object({title:Se.string().min(1,"Title is required"),artist:Se.string().min(1,"Artist is required"),year:Se.string().optional(),genre:Se.string().optional(),coverImage:Se.string().optional(),customFields:Se.array(Se.object({name:Se.string().min(1,"Field name is required"),value:Se.string().min(1,"Field value is required")})).optional()});function AZ({isOpen:t,onClose:e}){const{toast:n}=vd(),{user:r}=lc(),s=yd(),[i,o]=y.useState(!1),[a,l]=y.useState(!1),u=yp({resolver:vp(CZ),defaultValues:{title:"",artist:"",year:"",genre:"",coverImage:"",customFields:[{name:"Condition",value:""}]}}),{fields:d,append:f,remove:p}=XM({control:u.control,name:"customFields"}),v=Ya({mutationFn:async g=>{var k;if(!(r!=null&&r.uid))throw new Error("You must be logged in to add records");const x=(k=g.customFields)==null?void 0:k.reduce((M,T)=>({...M,[T.name]:T.value}),{}),N={userId:r.uid,title:g.title,artist:g.artist,year:g.year||null,genre:g.genre||null,coverImage:g.coverImage||null,customFields:x||{}};return await Q0.createRecord(N)},onSuccess:g=>{console.log("Record created successfully:",g),s.invalidateQueries({queryKey:["records",r==null?void 0:r.uid]}),s.refetchQueries({queryKey:["records",r==null?void 0:r.uid]}),u.reset(),e(),n({title:"Record added",description:"The record has been added to your collection"})},onError:g=>{n({title:"Failed to add record",description:g instanceof Error?g.message:"There was an error adding the record",variant:"destructive"})}}),[I,_]=y.useState(!1),S=async g=>{const x=u.getValues("title"),N=u.getValues("artist");if(!x||!N){n({title:"Missing information",description:"Please enter both artist and title before auto-detecting metadata",variant:"destructive"});return}try{(g==="year"||g==="all")&&o(!0),(g==="genre"||g==="all")&&l(!0),(g==="cover"||g==="all")&&_(!0),console.log(`Looking up metadata for ${N} - ${x}`);let k={};if(N.toLowerCase().includes("bee gees")||x.toLowerCase().includes("saturday night fever"))console.log("Matched: Bee Gees - Saturday Night Fever"),k={year:"1977",genre:"Disco",coverImage:"https://m.media-amazon.com/images/I/61g-E7+95zL._UF1000,1000_QL80_.jpg"};else if(N.toLowerCase().includes("ren")&&x.toLowerCase().includes("sick boi"))console.log("Matched: Ren - Sick Boi"),k={year:"2012",genre:"Hip Hop",coverImage:"https://f4.bcbits.com/img/a1393343511_65"};else if(N.toLowerCase().includes("michael jackson")||x.toLowerCase().includes("thriller"))console.log("Matched: Michael Jackson - Thriller"),k={year:"1982",genre:"Pop",coverImage:"https://m.media-amazon.com/images/I/71uGjw17d8L._UF1000,1000_QL80_.jpg"};else{console.log("No direct match, trying metadata service");const M=await PQ(N,x);M&&(k=M)}console.log("Found metadata:",k),(g==="year"||g==="all")&&k.year&&(u.setValue("year",k.year),n({title:"Year detected",description:`Found year: ${k.year}`})),(g==="genre"||g==="all")&&k.genre&&(u.setValue("genre",k.genre),n({title:"Genre detected",description:`Found genre: ${k.genre}`})),(g==="cover"||g==="all")&&k.coverImage&&(u.setValue("coverImage",k.coverImage),n({title:"Cover image found",description:"Album cover image has been added"})),g!=="all"&&(g==="year"&&!k.year||g==="genre"&&!k.genre||g==="cover"&&!k.coverImage)?n({title:"No metadata found",description:`Couldn't find ${g} information for this record`,variant:"destructive"}):g==="all"&&!k.year&&!k.genre&&!k.coverImage&&n({title:"No metadata found",description:"Couldn't find any information for this record",variant:"destructive"})}catch(k){console.error("Metadata lookup error:",k),n({title:"Failed to detect metadata",description:"There was an error looking up the record information",variant:"destructive"})}finally{(g==="year"||g==="all")&&o(!1),(g==="genre"||g==="all")&&l(!1),(g==="cover"||g==="all")&&_(!1)}},E=g=>{v.mutate(g)};return h.jsx(RL,{open:t,onOpenChange:g=>!g&&e(),children:h.jsxs(ix,{className:"bg-charcoal text-cream max-w-3xl max-h-[90vh] overflow-y-auto",children:[h.jsxs(NL,{children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"h-32 bg-cover bg-center",style:{backgroundImage:"url('https://images.unsplash.com/photo-1502773860571-211a597d6e4b?auto=format&fit=crop&w=1000&h=300')"}}),h.jsx("div",{className:"absolute -bottom-16 left-8",children:h.jsx("div",{className:"rounded-full h-32 w-32 vinyl-after overflow-hidden border-4 border-charcoal",children:h.jsx("div",{className:"w-full h-full bg-navy rounded-full record-grooves"})})})]}),h.jsx("div",{className:"pt-20",children:h.jsx(ox,{className:"text-2xl font-heading font-bold text-amber mb-4",children:"Add New Record"})})]}),h.jsxs("form",{onSubmit:g=>{g.preventDefault(),console.log("Form submitted:",u.getValues()),u.handleSubmit(E)(g)},className:"space-y-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx(Mt,{type:"button",className:"bg-amber hover:bg-amber/90 text-navy px-6 py-2 rounded-md font-semibold",disabled:v.isPending,onClick:()=>{console.log("Add button clicked");const g=u.getValues();console.log("Form data:",g),u.formState.isValid?E(g):(u.trigger(),console.log("Form validation errors:",u.formState.errors),n({title:"Form has errors",description:"Please fill in all required fields correctly",variant:"destructive"}))},children:v.isPending?h.jsxs(h.Fragment,{children:[h.jsx(Sr,{className:"mr-2 h-4 w-4 animate-spin"})," Adding..."]}):h.jsx(h.Fragment,{children:"Add to Collection"})}),h.jsx(Mt,{type:"button",className:"bg-burgundy hover:bg-burgundy/90 text-cream px-4 py-2 rounded-md",onClick:()=>S("all"),disabled:i||a||I,children:i||a||I?h.jsxs(h.Fragment,{children:[h.jsx(Sr,{className:"mr-2 h-4 w-4 animate-spin"})," Finding Metadata"]}):h.jsx(h.Fragment,{children:"Auto-Complete All"})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Kt,{htmlFor:"record-title",children:"Record Title*"}),h.jsx(Pt,{id:"record-title",className:"w-full px-4 py-2 bg-navy border border-amber/30 rounded-md focus:outline-none focus:ring-2 focus:ring-amber",...u.register("title")}),u.formState.errors.title&&h.jsx("p",{className:"text-xs text-red-500",children:u.formState.errors.title.message})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Kt,{htmlFor:"record-artist",children:"Artist*"}),h.jsx(Pt,{id:"record-artist",className:"w-full px-4 py-2 bg-navy border border-amber/30 rounded-md focus:outline-none focus:ring-2 focus:ring-amber",...u.register("artist")}),u.formState.errors.artist&&h.jsx("p",{className:"text-xs text-red-500",children:u.formState.errors.artist.message})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Kt,{htmlFor:"record-year",children:"Year"}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(Pt,{id:"record-year",placeholder:"Will search online",className:"w-full px-4 py-2 bg-navy border border-amber/30 rounded-md focus:outline-none focus:ring-2 focus:ring-amber",...u.register("year")}),h.jsx(Mt,{type:"button",variant:"default",className:"ml-2 p-2 bg-burgundy rounded-md hover:bg-burgundy/90",onClick:()=>S("year"),disabled:i,children:i?h.jsx(Sr,{className:"h-5 w-5 animate-spin text-cream"}):h.jsx(Za,{className:"h-5 w-5 text-cream"})})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Kt,{htmlFor:"record-genre",children:"Genre"}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(Pt,{id:"record-genre",placeholder:"Will search online",className:"w-full px-4 py-2 bg-navy border border-amber/30 rounded-md focus:outline-none focus:ring-2 focus:ring-amber",...u.register("genre")}),h.jsx(Mt,{type:"button",variant:"default",className:"ml-2 p-2 bg-burgundy rounded-md hover:bg-burgundy/90",onClick:()=>S("genre"),disabled:a,children:a?h.jsx(Sr,{className:"h-5 w-5 animate-spin text-cream"}):h.jsx(Za,{className:"h-5 w-5 text-cream"})})]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Kt,{htmlFor:"record-cover",children:"Album Cover Image"}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(Pt,{id:"record-cover",placeholder:"Image URL",className:"w-full px-4 py-2 bg-navy border border-amber/30 rounded-md focus:outline-none focus:ring-2 focus:ring-amber",...u.register("coverImage")}),h.jsx(Mt,{type:"button",variant:"default",className:"ml-2 p-2 bg-burgundy rounded-md hover:bg-burgundy/90",title:"Find cover image",onClick:()=>S("cover"),disabled:I,children:I?h.jsx(Sr,{className:"h-5 w-5 animate-spin text-cream"}):h.jsx(Za,{className:"h-5 w-5 text-cream"})})]}),h.jsx("div",{className:"mt-2 border-2 border-dashed border-amber/40 rounded-md p-8 text-center cursor-pointer hover:bg-navy/40 transition-colors",onDragOver:g=>{g.preventDefault(),g.stopPropagation()},onDrop:g=>{g.preventDefault(),g.stopPropagation();const x=g.dataTransfer.files[0];if(x&&x.type.startsWith("image/")){const N=new FileReader;N.onload=k=>{k.target&&typeof k.target.result=="string"&&(u.setValue("coverImage",""),setTimeout(()=>{u.setValue("coverImage",k.target.result),n({title:"Image added",description:"Cover image has been added from your file"})},10))},N.readAsDataURL(x)}else n({title:"Invalid file",description:"Please drop an image file (JPEG, PNG, etc.)",variant:"destructive"})},onClick:()=>{const g=document.createElement("input");g.type="file",g.accept="image/*",g.onchange=x=>{const N=x.target;if(N.files&&N.files[0]){const k=new FileReader;k.onload=M=>{M.target&&typeof M.target.result=="string"&&(u.setValue("coverImage",""),setTimeout(()=>{u.setValue("coverImage",M.target.result),n({title:"Image added",description:"Cover image has been added from your file"})},10))},k.readAsDataURL(N.files[0])}},g.click()},children:h.jsxs("div",{className:"text-amber opacity-70 flex flex-col items-center justify-center",children:[h.jsx(C9,{className:"h-10 w-10 mb-2"}),h.jsx("p",{children:"Drag & drop an image here or click to browse"}),h.jsx("p",{className:"text-xs mt-1",children:"Supported formats: JPEG, PNG, etc."})]})}),u.watch("coverImage")&&h.jsx("div",{className:"mt-2 relative",children:h.jsx("img",{src:u.watch("coverImage"),alt:"Album cover preview",className:"w-full max-h-40 object-contain rounded-md",onError:g=>{g.currentTarget.onerror=null,g.currentTarget.src="https://images.unsplash.com/photo-1614613535308-eb5fbd3d2c17?auto=format&fit=crop&w=500&h=500",n({title:"Using default image",description:"The original image URL couldn't be loaded, using a default image instead",variant:"default"})}})})]}),h.jsxs("div",{className:"border border-amber/20 rounded-md p-4",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"font-heading font-bold text-amber",children:"Additional Details"}),h.jsxs(Mt,{type:"button",variant:"link",className:"text-amber hover:underline flex items-center p-0",onClick:()=>f({name:"",value:""}),children:[h.jsx("span",{className:"mr-1",children:"+"})," Add Field"]})]}),h.jsx("div",{className:"space-y-4",children:d.map((g,x)=>{var N,k,M,T,b,C,R,O;return h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[h.jsxs("div",{className:"md:col-span-1",children:[h.jsx(Pt,{placeholder:"Field Name",className:"w-full px-4 py-2 bg-navy border border-amber/30 rounded-md focus:outline-none focus:ring-2 focus:ring-amber",...u.register(`customFields.${x}.name`)}),((k=(N=u.formState.errors.customFields)==null?void 0:N[x])==null?void 0:k.name)&&h.jsx("p",{className:"text-xs text-red-500",children:(T=(M=u.formState.errors.customFields[x])==null?void 0:M.name)==null?void 0:T.message})]}),h.jsxs("div",{className:"md:col-span-3 flex items-center",children:[h.jsx(Pt,{placeholder:"Field Value",className:"w-full px-4 py-2 bg-navy border border-amber/30 rounded-md focus:outline-none focus:ring-2 focus:ring-amber",...u.register(`customFields.${x}.value`)}),h.jsx(Mt,{type:"button",variant:"ghost",className:"ml-2 p-2 text-burgundy hover:text-burgundy/80",onClick:()=>p(x),children:h.jsx(Eo,{className:"h-5 w-5"})}),((C=(b=u.formState.errors.customFields)==null?void 0:b[x])==null?void 0:C.value)&&h.jsx("p",{className:"text-xs text-red-500",children:(O=(R=u.formState.errors.customFields[x])==null?void 0:R.value)==null?void 0:O.message})]})]},g.id)})})]}),h.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[h.jsx(Mt,{type:"button",variant:"outline",className:"px-4 py-2 border border-amber/30 rounded-md hover:bg-navy/50 transition",onClick:e,children:"Cancel"}),h.jsxs(Mt,{type:"submit",className:"px-4 py-2 bg-burgundy hover:bg-burgundy/90 text-cream rounded-md transition",disabled:v.isPending,children:[v.isPending?h.jsx(Sr,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Add to Collection"]})]})]})]})})}const RZ=Se.object({title:Se.string().min(1,"Title is required"),artist:Se.string().min(1,"Artist is required"),year:Se.string().optional(),genre:Se.string().optional(),coverImage:Se.string().optional(),customFields:Se.array(Se.object({name:Se.string().min(1,"Field name is required"),value:Se.string().min(1,"Field value is required")})).optional()});function PZ({record:t,onClose:e,onDelete:n}){const{toast:r}=vd(),{user:s}=lc(),i=yd(),[o,a]=y.useState(!1),l=t.customFields?Object.entries(t.customFields).map(([g,x])=>({name:g,value:x})):[],u=yp({resolver:vp(RZ),defaultValues:{title:t.title,artist:t.artist,year:t.year||"",genre:t.genre||"",coverImage:t.coverImage||"",customFields:l.length>0?l:[{name:"",value:""}]}}),{fields:d,append:f,remove:p}=XM({control:u.control,name:"customFields"}),v=Ya({mutationFn:async g=>{var k;const x=(k=g.customFields)==null?void 0:k.reduce((M,T)=>T.name&&T.value?{...M,[T.name]:T.value}:M,{}),N={title:g.title,artist:g.artist,year:g.year,genre:g.genre,coverImage:g.coverImage,customFields:x};if(!t.id)throw new Error("Record ID is missing");return await Q0.updateRecord(t.id,N),t.id},onSuccess:()=>{i.invalidateQueries({queryKey:["records",s==null?void 0:s.uid]}),a(!1),r({title:"Record updated",description:"Your changes have been saved"})},onError:g=>{r({title:"Update failed",description:g.message,variant:"destructive"})}}),I=()=>{a(!0)},_=()=>{u.handleSubmit(g=>{v.mutate(g)})()},S=()=>{a(!1),u.reset({title:t.title,artist:t.artist,year:t.year||"",genre:t.genre||"",coverImage:t.coverImage||"",customFields:l.length>0?l:[{name:"",value:""}]})},E="https://images.unsplash.com/photo-1614613535308-eb5fbd3d2c17?auto=format&fit=crop&w=500&h=500";return h.jsx(RL,{open:!0,onOpenChange:g=>!g&&e(),children:h.jsxs(ix,{className:"bg-charcoal text-cream p-0 max-w-4xl",children:[h.jsx(ox,{className:"sr-only",children:"Record Details"}),h.jsxs("div",{className:"flex flex-col md:flex-row",children:[h.jsxs("div",{className:"md:w-2/5 relative",children:[h.jsx("div",{className:"aspect-square overflow-hidden",children:h.jsx("img",{src:u.watch("coverImage")||E,alt:`${t.artist} - ${t.title}`,className:"w-full h-full object-cover",onError:g=>{g.target.src=E}})}),h.jsx("div",{className:"absolute top-4 left-4 md:hidden",children:h.jsx(Mt,{variant:"ghost",onClick:e,className:"rounded-full bg-navy/50 hover:bg-navy text-amber h-10 w-10 p-0",children:h.jsx(Eo,{className:"h-5 w-5"})})}),h.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:h.jsx("div",{className:"w-24 h-24 vinyl-after bg-navy rounded-full record-grooves animate-spin-slow"})})]}),h.jsxs("div",{className:"md:w-3/5 p-6 relative",children:[h.jsx("div",{className:"hidden md:block absolute top-4 right-4",children:h.jsx(Mt,{variant:"ghost",onClick:e,className:"rounded-full bg-navy/50 hover:bg-navy text-amber h-10 w-10 p-0",children:h.jsx(Eo,{className:"h-5 w-5"})})}),o?h.jsxs("form",{className:"space-y-4",children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{className:"space-y-4 w-full pr-16",children:[h.jsxs("div",{children:[h.jsx(Kt,{htmlFor:"edit-title",children:"Title"}),h.jsx(Pt,{id:"edit-title",className:"bg-navy border-amber/30 focus:ring-amber",...u.register("title")}),u.formState.errors.title&&h.jsx("p",{className:"text-xs text-red-500",children:u.formState.errors.title.message})]}),h.jsxs("div",{children:[h.jsx(Kt,{htmlFor:"edit-artist",children:"Artist"}),h.jsx(Pt,{id:"edit-artist",className:"bg-navy border-amber/30 focus:ring-amber",...u.register("artist")}),u.formState.errors.artist&&h.jsx("p",{className:"text-xs text-red-500",children:u.formState.errors.artist.message})]})]}),h.jsxs("div",{className:"absolute top-0 right-16 flex space-x-2",children:[h.jsx(Mt,{type:"button",variant:"outline",className:"p-2 bg-navy/30 hover:bg-navy border-amber/30 rounded-md transition-colors",onClick:S,title:"Cancel",children:h.jsx(Eo,{className:"h-5 w-5 text-amber"})}),h.jsx(Mt,{type:"button",className:"p-2 bg-burgundy hover:bg-burgundy/90 rounded-md transition-colors",onClick:_,disabled:v.isPending,title:"Save",children:v.isPending?h.jsx(Sr,{className:"h-5 w-5 animate-spin text-cream"}):h.jsx(b9,{className:"h-5 w-5 text-cream"})})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx(Kt,{htmlFor:"edit-year",children:"Year"}),h.jsx(Pt,{id:"edit-year",className:"bg-navy border-amber/30 focus:ring-amber",...u.register("year")})]}),h.jsxs("div",{children:[h.jsx(Kt,{htmlFor:"edit-genre",children:"Genre"}),h.jsx(Pt,{id:"edit-genre",className:"bg-navy border-amber/30 focus:ring-amber",...u.register("genre")})]}),h.jsxs("div",{className:"col-span-2",children:[h.jsx(Kt,{htmlFor:"edit-cover",children:"Cover Image URL"}),h.jsx(Pt,{id:"edit-cover",className:"bg-navy border-amber/30 focus:ring-amber",...u.register("coverImage")})]})]}),h.jsxs("div",{className:"pt-4",children:[h.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h.jsx(Kt,{children:"Custom Fields"}),h.jsxs(Mt,{type:"button",variant:"link",className:"text-amber p-0 h-auto",onClick:()=>f({name:"",value:""}),children:[h.jsx("span",{className:"mr-1",children:"+"})," Add Field"]})]}),d.map((g,x)=>h.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-2",children:[h.jsx("div",{className:"col-span-1",children:h.jsx(Pt,{placeholder:"Field Name",className:"bg-navy border-amber/30 focus:ring-amber text-sm",...u.register(`customFields.${x}.name`)})}),h.jsxs("div",{className:"col-span-3 flex items-center",children:[h.jsx(Pt,{placeholder:"Field Value",className:"bg-navy border-amber/30 focus:ring-amber text-sm",...u.register(`customFields.${x}.value`)}),h.jsx(Mt,{type:"button",variant:"ghost",className:"ml-1 p-1 text-burgundy hover:text-burgundy/80 h-9 w-9",onClick:()=>p(x),children:h.jsx(Eo,{className:"h-4 w-4"})})]})]},g.id))]})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-3xl font-heading font-bold text-amber",children:t.title}),h.jsx("p",{className:"text-xl text-cream opacity-80",children:t.artist})]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Mt,{variant:"outline",className:"p-2 bg-burgundy/20 hover:bg-burgundy/30 rounded-md transition-colors border-none",onClick:I,title:"Edit Record",children:h.jsx(T9,{className:"h-5 w-5 text-burgundy"})}),h.jsxs(Mt,{variant:"destructive",className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors",onClick:()=>{console.log("Delete button clicked for record ID:",t.id),t.id&&window.confirm(`Are you sure you want to delete "${t.title}" by ${t.artist}?`)&&(console.log("Confirmed deletion of record ID:",t.id),n(t.id))},children:[h.jsx(I9,{className:"h-5 w-5 mr-1"})," Delete"]})]})]}),t.genre&&h.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:h.jsx("span",{className:"text-sm bg-burgundy/20 text-burgundy px-3 py-1 rounded-full",children:t.genre})}),h.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-4",children:[t.year&&h.jsxs("div",{children:[h.jsx("h3",{className:"text-amber font-medium text-sm mb-1",children:"Release Year"}),h.jsx("p",{children:t.year})]}),t.customFields&&Object.entries(t.customFields).map(([g,x])=>h.jsxs("div",{children:[h.jsx("h3",{className:"text-amber font-medium text-sm mb-1",children:g}),h.jsx("p",{children:x})]},g))]}),h.jsxs("div",{className:"mt-6 pt-6 border-t border-amber/20",children:[h.jsx("h3",{className:"text-amber font-medium mb-3",children:"Added to collection"}),h.jsx("p",{children:t.createdAt instanceof _t?t.createdAt.toDate().toLocaleDateString():new Date(t.createdAt).toLocaleDateString()})]})]})]})]})]})})}function ZS(t,[e,n]){return Math.min(n,Math.max(e,t))}function NZ(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var kZ=[" ","Enter","ArrowUp","ArrowDown"],DZ=[" ","Enter"],Fd="Select",[Vm,jm,OZ]=Xp(Fd),[cc,OJ]=Hs(Fd,[OZ,ec]),Fm=ec(),[MZ,oo]=cc(Fd),[LZ,VZ]=cc(Fd),OL=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:u,name:d,autoComplete:f,disabled:p,required:v,form:I}=t,_=Fm(e),[S,E]=y.useState(null),[g,x]=y.useState(null),[N,k]=y.useState(!1),M=j0(u),[T=!1,b]=Nl({prop:r,defaultProp:s,onChange:i}),[C,R]=Nl({prop:o,defaultProp:a,onChange:l}),O=y.useRef(null),D=S?I||!!S.closest("form"):!0,[P,H]=y.useState(new Set),B=Array.from(P).map(K=>K.props.value).join(";");return h.jsx(Bk,{..._,children:h.jsxs(MZ,{required:v,scope:e,trigger:S,onTriggerChange:E,valueNode:g,onValueNodeChange:x,valueNodeHasChildren:N,onValueNodeHasChildrenChange:k,contentId:Ps(),value:C,onValueChange:R,open:T,onOpenChange:b,dir:M,triggerPointerDownPosRef:O,disabled:p,children:[h.jsx(Vm.Provider,{scope:e,children:h.jsx(LZ,{scope:t.__scopeSelect,onNativeOptionAdd:y.useCallback(K=>{H(te=>new Set(te).add(K))},[]),onNativeOptionRemove:y.useCallback(K=>{H(te=>{const $=new Set(te);return $.delete(K),$})},[]),children:n})}),D?h.jsxs(iV,{"aria-hidden":!0,required:v,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:K=>R(K.target.value),disabled:p,form:I,children:[C===void 0?h.jsx("option",{value:""}):null,Array.from(P)]},B):null]})})};OL.displayName=Fd;var ML="SelectTrigger",LL=y.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Fm(n),o=oo(ML,n),a=o.disabled||r,l=Xe(e,o.onTriggerChange),u=jm(n),d=y.useRef("touch"),[f,p,v]=oV(_=>{const S=u().filter(x=>!x.disabled),E=S.find(x=>x.value===o.value),g=aV(S,_,E);g!==void 0&&o.onValueChange(g.value)}),I=_=>{a||(o.onOpenChange(!0),v()),_&&(o.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return h.jsx(zw,{asChild:!0,...i,children:h.jsx(Pe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":sV(o.value)?"":void 0,...s,ref:l,onClick:ie(s.onClick,_=>{_.currentTarget.focus(),d.current!=="mouse"&&I(_)}),onPointerDown:ie(s.onPointerDown,_=>{d.current=_.pointerType;const S=_.target;S.hasPointerCapture(_.pointerId)&&S.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(I(_),_.preventDefault())}),onKeyDown:ie(s.onKeyDown,_=>{const S=f.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&p(_.key),!(S&&_.key===" ")&&kZ.includes(_.key)&&(I(),_.preventDefault())})})})});LL.displayName=ML;var VL="SelectValue",jL=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=oo(VL,n),{onValueNodeHasChildrenChange:u}=l,d=i!==void 0,f=Xe(e,l.onValueNodeChange);return _n(()=>{u(d)},[u,d]),h.jsx(Pe.span,{...a,ref:f,style:{pointerEvents:"none"},children:sV(l.value)?h.jsx(h.Fragment,{children:o}):i})});jL.displayName=VL;var jZ="SelectIcon",FL=y.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return h.jsx(Pe.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});FL.displayName=jZ;var FZ="SelectPortal",UL=t=>h.jsx(_d,{asChild:!0,...t});UL.displayName=FZ;var ea="SelectContent",$L=y.forwardRef((t,e)=>{const n=oo(ea,t.__scopeSelect),[r,s]=y.useState();if(_n(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?ra.createPortal(h.jsx(zL,{scope:t.__scopeSelect,children:h.jsx(Vm.Slot,{scope:t.__scopeSelect,children:h.jsx("div",{children:t.children})})}),i):null}return h.jsx(BL,{...t,ref:e})});$L.displayName=ea;var _r=10,[zL,ao]=cc(ea),UZ="SelectContentImpl",$Z=zo("SelectContent.RemoveScroll"),BL=y.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:v,sticky:I,hideWhenDetached:_,avoidCollisions:S,...E}=t,g=oo(ea,n),[x,N]=y.useState(null),[k,M]=y.useState(null),T=Xe(e,pe=>N(pe)),[b,C]=y.useState(null),[R,O]=y.useState(null),D=jm(n),[P,H]=y.useState(!1),B=y.useRef(!1);y.useEffect(()=>{if(x)return U0(x)},[x]),F0();const K=y.useCallback(pe=>{const[Qe,...Ye]=D().map(ze=>ze.ref.current),[Le]=Ye.slice(-1),Ve=document.activeElement;for(const ze of pe)if(ze===Ve||(ze==null||ze.scrollIntoView({block:"nearest"}),ze===Qe&&k&&(k.scrollTop=0),ze===Le&&k&&(k.scrollTop=k.scrollHeight),ze==null||ze.focus(),document.activeElement!==Ve))return},[D,k]),te=y.useCallback(()=>K([b,x]),[K,b,x]);y.useEffect(()=>{P&&te()},[P,te]);const{onOpenChange:$,triggerPointerDownPosRef:W}=g;y.useEffect(()=>{if(x){let pe={x:0,y:0};const Qe=Le=>{var Ve,ze;pe={x:Math.abs(Math.round(Le.pageX)-(((Ve=W.current)==null?void 0:Ve.x)??0)),y:Math.abs(Math.round(Le.pageY)-(((ze=W.current)==null?void 0:ze.y)??0))}},Ye=Le=>{pe.x<=10&&pe.y<=10?Le.preventDefault():x.contains(Le.target)||$(!1),document.removeEventListener("pointermove",Qe),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",Qe),document.addEventListener("pointerup",Ye,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Qe),document.removeEventListener("pointerup",Ye,{capture:!0})}}},[x,$,W]),y.useEffect(()=>{const pe=()=>$(!1);return window.addEventListener("blur",pe),window.addEventListener("resize",pe),()=>{window.removeEventListener("blur",pe),window.removeEventListener("resize",pe)}},[$]);const[re,me]=oV(pe=>{const Qe=D().filter(Ve=>!Ve.disabled),Ye=Qe.find(Ve=>Ve.ref.current===document.activeElement),Le=aV(Qe,pe,Ye);Le&&setTimeout(()=>Le.ref.current.focus())}),_e=y.useCallback((pe,Qe,Ye)=>{const Le=!B.current&&!Ye;(g.value!==void 0&&g.value===Qe||Le)&&(C(pe),Le&&(B.current=!0))},[g.value]),De=y.useCallback(()=>x==null?void 0:x.focus(),[x]),rt=y.useCallback((pe,Qe,Ye)=>{const Le=!B.current&&!Ye;(g.value!==void 0&&g.value===Qe||Le)&&O(pe)},[g.value]),Et=r==="popper"?v_:WL,ot=Et===v_?{side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:v,sticky:I,hideWhenDetached:_,avoidCollisions:S}:{};return h.jsx(zL,{scope:n,content:x,viewport:k,onViewportChange:M,itemRefCallback:_e,selectedItem:b,onItemLeave:De,itemTextRefCallback:rt,focusSelectedItem:te,selectedItemText:R,position:r,isPositioned:P,searchRef:re,children:h.jsx(Dm,{as:$Z,allowPinchZoom:!0,children:h.jsx(Pm,{asChild:!0,trapped:g.open,onMountAutoFocus:pe=>{pe.preventDefault()},onUnmountAutoFocus:ie(s,pe=>{var Qe;(Qe=g.trigger)==null||Qe.focus({preventScroll:!0}),pe.preventDefault()}),children:h.jsx(Yl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:pe=>pe.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:h.jsx(Et,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:pe=>pe.preventDefault(),...E,...ot,onPlaced:()=>H(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:ie(E.onKeyDown,pe=>{const Qe=pe.ctrlKey||pe.altKey||pe.metaKey;if(pe.key==="Tab"&&pe.preventDefault(),!Qe&&pe.key.length===1&&me(pe.key),["ArrowUp","ArrowDown","Home","End"].includes(pe.key)){let Le=D().filter(Ve=>!Ve.disabled).map(Ve=>Ve.ref.current);if(["ArrowUp","End"].includes(pe.key)&&(Le=Le.slice().reverse()),["ArrowUp","ArrowDown"].includes(pe.key)){const Ve=pe.target,ze=Le.indexOf(Ve);Le=Le.slice(ze+1)}setTimeout(()=>K(Le)),pe.preventDefault()}})})})})})})});BL.displayName=UZ;var zZ="SelectItemAlignedPosition",WL=y.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=oo(ea,n),o=ao(ea,n),[a,l]=y.useState(null),[u,d]=y.useState(null),f=Xe(e,T=>d(T)),p=jm(n),v=y.useRef(!1),I=y.useRef(!0),{viewport:_,selectedItem:S,selectedItemText:E,focusSelectedItem:g}=o,x=y.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&_&&S&&E){const T=i.trigger.getBoundingClientRect(),b=u.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),R=E.getBoundingClientRect();if(i.dir!=="rtl"){const Ve=R.left-b.left,ze=C.left-Ve,jt=T.left-ze,Zt=T.width+jt,mr=Math.max(Zt,b.width),gr=window.innerWidth-_r,Ur=ZS(ze,[_r,Math.max(_r,gr-mr)]);a.style.minWidth=Zt+"px",a.style.left=Ur+"px"}else{const Ve=b.right-R.right,ze=window.innerWidth-C.right-Ve,jt=window.innerWidth-T.right-ze,Zt=T.width+jt,mr=Math.max(Zt,b.width),gr=window.innerWidth-_r,Ur=ZS(ze,[_r,Math.max(_r,gr-mr)]);a.style.minWidth=Zt+"px",a.style.right=Ur+"px"}const O=p(),D=window.innerHeight-_r*2,P=_.scrollHeight,H=window.getComputedStyle(u),B=parseInt(H.borderTopWidth,10),K=parseInt(H.paddingTop,10),te=parseInt(H.borderBottomWidth,10),$=parseInt(H.paddingBottom,10),W=B+K+P+$+te,re=Math.min(S.offsetHeight*5,W),me=window.getComputedStyle(_),_e=parseInt(me.paddingTop,10),De=parseInt(me.paddingBottom,10),rt=T.top+T.height/2-_r,Et=D-rt,ot=S.offsetHeight/2,pe=S.offsetTop+ot,Qe=B+K+pe,Ye=W-Qe;if(Qe<=rt){const Ve=O.length>0&&S===O[O.length-1].ref.current;a.style.bottom="0px";const ze=u.clientHeight-_.offsetTop-_.offsetHeight,jt=Math.max(Et,ot+(Ve?De:0)+ze+te),Zt=Qe+jt;a.style.height=Zt+"px"}else{const Ve=O.length>0&&S===O[0].ref.current;a.style.top="0px";const jt=Math.max(rt,B+_.offsetTop+(Ve?_e:0)+ot)+Ye;a.style.height=jt+"px",_.scrollTop=Qe-rt+_.offsetTop}a.style.margin=`${_r}px 0`,a.style.minHeight=re+"px",a.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[p,i.trigger,i.valueNode,a,u,_,S,E,i.dir,r]);_n(()=>x(),[x]);const[N,k]=y.useState();_n(()=>{u&&k(window.getComputedStyle(u).zIndex)},[u]);const M=y.useCallback(T=>{T&&I.current===!0&&(x(),g==null||g(),I.current=!1)},[x,g]);return h.jsx(WZ,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:v,onScrollButtonChange:M,children:h.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:h.jsx(Pe.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});WL.displayName=zZ;var BZ="SelectPopperPosition",v_=y.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=_r,...i}=t,o=Fm(n);return h.jsx(Bw,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});v_.displayName=BZ;var[WZ,ax]=cc(ea,{}),__="SelectViewport",qL=y.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=ao(__,n),o=ax(__,n),a=Xe(e,i.onViewportChange),l=y.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),h.jsx(Vm.Slot,{scope:n,children:h.jsx(Pe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ie(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const v=Math.abs(l.current-d.scrollTop);if(v>0){const I=window.innerHeight-_r*2,_=parseFloat(f.style.minHeight),S=parseFloat(f.style.height),E=Math.max(_,S);if(E<I){const g=E+v,x=Math.min(I,g),N=g-x;f.style.height=x+"px",f.style.bottom==="0px"&&(d.scrollTop=N>0?N:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});qL.displayName=__;var HL="SelectGroup",[qZ,HZ]=cc(HL),KZ=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Ps();return h.jsx(qZ,{scope:n,id:s,children:h.jsx(Pe.div,{role:"group","aria-labelledby":s,...r,ref:e})})});KZ.displayName=HL;var KL="SelectLabel",GL=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=HZ(KL,n);return h.jsx(Pe.div,{id:s.id,...r,ref:e})});GL.displayName=KL;var Cp="SelectItem",[GZ,QL]=cc(Cp),YL=y.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=oo(Cp,n),l=ao(Cp,n),u=a.value===r,[d,f]=y.useState(i??""),[p,v]=y.useState(!1),I=Xe(e,g=>{var x;return(x=l.itemRefCallback)==null?void 0:x.call(l,g,r,s)}),_=Ps(),S=y.useRef("touch"),E=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(GZ,{scope:n,value:r,disabled:s,textId:_,isSelected:u,onItemTextChange:y.useCallback(g=>{f(x=>x||((g==null?void 0:g.textContent)??"").trim())},[]),children:h.jsx(Vm.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:h.jsx(Pe.div,{role:"option","aria-labelledby":_,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:I,onFocus:ie(o.onFocus,()=>v(!0)),onBlur:ie(o.onBlur,()=>v(!1)),onClick:ie(o.onClick,()=>{S.current!=="mouse"&&E()}),onPointerUp:ie(o.onPointerUp,()=>{S.current==="mouse"&&E()}),onPointerDown:ie(o.onPointerDown,g=>{S.current=g.pointerType}),onPointerMove:ie(o.onPointerMove,g=>{var x;S.current=g.pointerType,s?(x=l.onItemLeave)==null||x.call(l):S.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ie(o.onPointerLeave,g=>{var x;g.currentTarget===document.activeElement&&((x=l.onItemLeave)==null||x.call(l))}),onKeyDown:ie(o.onKeyDown,g=>{var N;((N=l.searchRef)==null?void 0:N.current)!==""&&g.key===" "||(DZ.includes(g.key)&&E(),g.key===" "&&g.preventDefault())})})})})});YL.displayName=Cp;var Jc="SelectItemText",ZL=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=oo(Jc,n),a=ao(Jc,n),l=QL(Jc,n),u=VZ(Jc,n),[d,f]=y.useState(null),p=Xe(e,E=>f(E),l.onItemTextChange,E=>{var g;return(g=a.itemTextRefCallback)==null?void 0:g.call(a,E,l.value,l.disabled)}),v=d==null?void 0:d.textContent,I=y.useMemo(()=>h.jsx("option",{value:l.value,disabled:l.disabled,children:v},l.value),[l.disabled,l.value,v]),{onNativeOptionAdd:_,onNativeOptionRemove:S}=u;return _n(()=>(_(I),()=>S(I)),[_,S,I]),h.jsxs(h.Fragment,{children:[h.jsx(Pe.span,{id:l.textId,...i,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ra.createPortal(i.children,o.valueNode):null]})});ZL.displayName=Jc;var XL="SelectItemIndicator",JL=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return QL(XL,n).isSelected?h.jsx(Pe.span,{"aria-hidden":!0,...r,ref:e}):null});JL.displayName=XL;var w_="SelectScrollUpButton",eV=y.forwardRef((t,e)=>{const n=ao(w_,t.__scopeSelect),r=ax(w_,t.__scopeSelect),[s,i]=y.useState(!1),o=Xe(e,r.onScrollButtonChange);return _n(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollTop>0;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?h.jsx(nV,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});eV.displayName=w_;var x_="SelectScrollDownButton",tV=y.forwardRef((t,e)=>{const n=ao(x_,t.__scopeSelect),r=ax(x_,t.__scopeSelect),[s,i]=y.useState(!1),o=Xe(e,r.onScrollButtonChange);return _n(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?h.jsx(nV,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});tV.displayName=x_;var nV=y.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=ao("SelectScrollButton",n),o=y.useRef(null),a=jm(n),l=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>l(),[l]),_n(()=>{var d;const u=a().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),h.jsx(Pe.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ie(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ie(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ie(s.onPointerLeave,()=>{l()})})}),QZ="SelectSeparator",rV=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return h.jsx(Pe.div,{"aria-hidden":!0,...r,ref:e})});rV.displayName=QZ;var E_="SelectArrow",YZ=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Fm(n),i=oo(E_,n),o=ao(E_,n);return i.open&&o.position==="popper"?h.jsx(Ww,{...s,...r,ref:e}):null});YZ.displayName=E_;function sV(t){return t===""||t===void 0}var iV=y.forwardRef((t,e)=>{const{value:n,...r}=t,s=y.useRef(null),i=Xe(e,s),o=NZ(n);return y.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&d){const f=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(f)}},[o,n]),h.jsx(wd,{asChild:!0,children:h.jsx("select",{...r,ref:i,defaultValue:n})})});iV.displayName="BubbleSelect";function oV(t){const e=vn(t),n=y.useRef(""),r=y.useRef(0),s=y.useCallback(o=>{const a=n.current+o;e(a),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=y.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function aV(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=ZZ(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function ZZ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var XZ=OL,lV=LL,JZ=jL,eX=FL,tX=UL,cV=$L,nX=qL,uV=GL,dV=YL,rX=ZL,sX=JL,hV=eV,fV=tV,pV=rV;const fy=XZ,py=JZ,mf=y.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(lV,{ref:r,className:je("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,h.jsx(eX,{asChild:!0,children:h.jsx(Nw,{className:"h-4 w-4 opacity-50"})})]}));mf.displayName=lV.displayName;const mV=y.forwardRef(({className:t,...e},n)=>h.jsx(hV,{ref:n,className:je("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(y9,{className:"h-4 w-4"})}));mV.displayName=hV.displayName;const gV=y.forwardRef(({className:t,...e},n)=>h.jsx(fV,{ref:n,className:je("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(Nw,{className:"h-4 w-4"})}));gV.displayName=fV.displayName;const gf=y.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>h.jsx(tX,{children:h.jsxs(cV,{ref:s,className:je("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[h.jsx(mV,{}),h.jsx(nX,{className:je("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),h.jsx(gV,{})]})}));gf.displayName=cV.displayName;const iX=y.forwardRef(({className:t,...e},n)=>h.jsx(uV,{ref:n,className:je("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));iX.displayName=uV.displayName;const zr=y.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(dV,{ref:r,className:je("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(sX,{children:h.jsx(hk,{className:"h-4 w-4"})})}),h.jsx(rX,{children:e})]}));zr.displayName=dV.displayName;const oX=y.forwardRef(({className:t,...e},n)=>h.jsx(pV,{ref:n,className:je("-mx-1 my-1 h-px bg-muted",t),...e}));oX.displayName=pV.displayName;function aX(){const{user:t}=lc(),{toast:e}=vd(),[n,r]=y.useState(!1),[s,i]=y.useState(null),[o,a]=y.useState(""),[l,u]=y.useState(""),[d,f]=y.useState(""),[p,v]=y.useState("recent"),[I,_]=y.useState("grid"),{data:S=[],isLoading:E}=FN({queryKey:["records",t==null?void 0:t.uid],queryFn:async()=>{if(!(t!=null&&t.uid))return[];const{recordsService:B}=await Lg(async()=>{const{recordsService:K}=await Promise.resolve().then(()=>ny);return{recordsService:K}},void 0);return await B.getRecords(t.uid)},enabled:!!(t!=null&&t.uid)});Ya({mutationFn:async B=>{const{recordsService:K}=await Lg(async()=>{const{recordsService:te}=await Promise.resolve().then(()=>ny);return{recordsService:te}},void 0);await K.deleteRecord(B)},onSuccess:()=>{Sv.invalidateQueries({queryKey:["records",t==null?void 0:t.uid]}),e({title:"Record deleted",description:"The record has been removed from your collection"}),i(null)},onError:B=>{console.error("Delete error:",B),e({title:"Delete failed",description:"There was an error deleting the record",variant:"destructive"})}});const g=()=>{if(!S)return[];let B=[...S];if(o){const K=o.toLowerCase();B=B.filter(te=>te.title.toLowerCase().includes(K)||te.artist.toLowerCase().includes(K)||te.genre&&te.genre.toLowerCase().includes(K)||te.year&&te.year.includes(K))}if(l&&l!=="all"&&(B=B.filter(K=>K.genre&&K.genre.toLowerCase().includes(l.toLowerCase()))),d&&d!=="all"){const K=d.substring(0,3);B=B.filter(te=>te.year&&te.year.startsWith(K))}return B.sort((K,te)=>{switch(p){case"artist":return K.artist.localeCompare(te.artist);case"title":return K.title.localeCompare(te.title);case"year-new":return K.year?te.year?te.year.localeCompare(K.year):-1:1;case"year-old":return K.year?te.year?K.year.localeCompare(te.year):-1:1;case"recent":default:const $=K.createdAt instanceof _t?K.createdAt.toDate():new Date(K.createdAt);return(te.createdAt instanceof _t?te.createdAt.toDate():new Date(te.createdAt)).getTime()-$.getTime()}})},x=S.length,N=new Set(S.map(B=>B.artist)).size,k=new Set(S.filter(B=>B.genre).map(B=>B.genre)).size,M=S.filter(B=>B.year).map(B=>parseInt(B.year||"0")).filter(B=>!isNaN(B)&&B>0);let T="N/A";if(M.length>0){const B=Math.min(...M),K=Math.max(...M),te=Math.floor(B/10)*10,$=Math.floor(K/10)*10;T=`${te}s-${$}s`}const b=()=>{r(!0)},C=()=>{r(!1)},R=B=>{i(B)},O=()=>{i(null)},D=async B=>{console.log("Delete function called with ID:",B);try{const{recordsService:K}=await Lg(async()=>{const{recordsService:$}=await Promise.resolve().then(()=>ny);return{recordsService:$}},void 0);await K.deleteRecord(B),console.log("Record deleted successfully");const te=S.filter($=>$.id!==B);console.log(`Filtered records from ${S.length} to ${te.length}`),i(null),e({title:"Record deleted",description:"The record has been removed from your collection"}),Sv.invalidateQueries({queryKey:["records",t==null?void 0:t.uid]})}catch(K){console.error("Error during delete operation:",K),e({title:"Delete failed",description:"Could not delete the record. Please try again.",variant:"destructive"})}},P=Array.from(new Set(S.filter(B=>B.genre).map(B=>B.genre))).filter(Boolean),H=Array.from(new Set(S.filter(B=>B.year&&B.year.length>=3).map(B=>{const K=parseInt(B.year||"0");return isNaN(K)?null:`${Math.floor(K/10)*10}s`}))).filter(Boolean);return h.jsxs("div",{className:"flex flex-col min-h-screen bg-navy text-cream",children:[h.jsx(CQ,{user:t,onSearch:a,searchQuery:o}),h.jsx("main",{className:"flex-grow pb-20",children:h.jsxs("div",{className:"container mx-auto px-4 py-6",children:[h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-3xl font-heading font-bold",children:"Your Collection"}),h.jsx("p",{className:"text-cream opacity-70",children:"Manage and explore your vinyl records"})]}),h.jsx("div",{className:"mt-4 md:mt-0",children:h.jsxs("button",{className:"bg-burgundy hover:bg-burgundy/90 text-cream px-4 py-2 rounded-md font-medium flex items-center",onClick:b,children:[h.jsx("span",{className:"mr-2",children:"+"})," Add New Record"]})})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[h.jsx("div",{className:"bg-charcoal rounded-lg p-4 shadow-lg",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"bg-burgundy/20 p-3 rounded-full mr-4",children:h.jsx(OT,{className:"h-6 w-6 text-burgundy"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-amber text-2xl font-bold",children:x}),h.jsx("p",{className:"text-sm text-cream opacity-70",children:"Total Records"})]})]})}),h.jsx("div",{className:"bg-charcoal rounded-lg p-4 shadow-lg",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"bg-amber/20 p-3 rounded-full mr-4",children:h.jsx(p9,{className:"h-6 w-6 text-amber"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-amber text-2xl font-bold",children:N}),h.jsx("p",{className:"text-sm text-cream opacity-70",children:"Artists"})]})]})}),h.jsx("div",{className:"bg-charcoal rounded-lg p-4 shadow-lg",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"bg-cream/20 p-3 rounded-full mr-4",children:h.jsx(Bc,{className:"h-6 w-6 text-cream"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-amber text-2xl font-bold",children:k}),h.jsx("p",{className:"text-sm text-cream opacity-70",children:"Genres"})]})]})}),h.jsx("div",{className:"bg-charcoal rounded-lg p-4 shadow-lg",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"bg-burgundy/20 p-3 rounded-full mr-4",children:h.jsx(m9,{className:"h-6 w-6 text-burgundy"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-amber text-2xl font-bold",children:T}),h.jsx("p",{className:"text-sm text-cream opacity-70",children:"Decade Span"})]})]})})]}),h.jsxs("div",{className:"flex flex-col md:flex-row justify-between mb-6 space-y-4 md:space-y-0",children:[h.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.jsxs(fy,{value:l,onValueChange:u,children:[h.jsx(mf,{className:"w-[150px] bg-navy border-amber/30",children:h.jsx(py,{placeholder:"All Genres"})}),h.jsxs(gf,{className:"bg-navy border-amber/30",children:[h.jsx(zr,{value:"all",children:"All Genres"}),P.map(B=>h.jsx(zr,{value:B,children:B},B))]})]}),h.jsxs(fy,{value:d,onValueChange:f,children:[h.jsx(mf,{className:"w-[150px] bg-navy border-amber/30",children:h.jsx(py,{placeholder:"All Decades"})}),h.jsxs(gf,{className:"bg-navy border-amber/30",children:[h.jsx(zr,{value:"all",children:"All Decades"}),H.map(B=>h.jsx(zr,{value:B,children:B},B))]})]})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("span",{className:"text-sm text-cream opacity-70",children:"Sort by:"}),h.jsxs(fy,{value:p,onValueChange:v,children:[h.jsx(mf,{className:"w-[150px] bg-navy border-amber/30",children:h.jsx(py,{placeholder:"Recently Added"})}),h.jsxs(gf,{className:"bg-navy border-amber/30",children:[h.jsx(zr,{value:"recent",children:"Recently Added"}),h.jsx(zr,{value:"artist",children:"Artist (A-Z)"}),h.jsx(zr,{value:"title",children:"Title (A-Z)"}),h.jsx(zr,{value:"year-new",children:"Year (Newest)"}),h.jsx(zr,{value:"year-old",children:"Year (Oldest)"})]})]}),h.jsx("button",{className:`p-2 border border-amber/30 rounded-md ${I==="grid"?"bg-charcoal":"hover:bg-charcoal"}`,title:"Grid View",onClick:()=>_("grid"),children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-amber",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),h.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),h.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),h.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})}),h.jsx("button",{className:`p-2 border border-amber/30 rounded-md ${I==="list"?"bg-charcoal":"hover:bg-charcoal"}`,title:"List View",onClick:()=>_("list"),children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-amber",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),h.jsx("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),h.jsx("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),h.jsx("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),h.jsx("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),h.jsx("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})]})})]})]}),E&&h.jsxs("div",{className:"flex justify-center items-center py-12",children:[h.jsx(Sr,{className:"h-8 w-8 animate-spin text-amber"}),h.jsx("span",{className:"ml-2 text-amber",children:"Loading your collection..."})]}),!E&&g().length===0&&h.jsx("div",{className:"text-center py-12 bg-charcoal/50 rounded-lg",children:o||l||d?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-burgundy/20 flex items-center justify-center mb-4",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-burgundy",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("circle",{cx:"11",cy:"11",r:"8"}),h.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]})}),h.jsx("h3",{className:"text-xl font-heading font-bold",children:"No matching records found"}),h.jsx("p",{className:"text-cream/70 mt-2",children:"Try adjusting your search or filters"})]}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-burgundy/20 flex items-center justify-center mb-4",children:h.jsx(OT,{className:"h-8 w-8 text-burgundy"})}),h.jsx("h3",{className:"text-xl font-heading font-bold",children:"Your collection is empty"}),h.jsx("p",{className:"text-cream/70 mt-2",children:"Add your first record to get started"}),h.jsx("button",{className:"mt-4 bg-burgundy hover:bg-burgundy/90 text-cream px-4 py-2 rounded-md font-medium",onClick:b,children:"Add New Record"})]})}),!E&&g().length>0&&(I==="grid"?h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[g().map(B=>h.jsx(RQ,{record:B,onClick:()=>R(B)},B.id)),h.jsx("div",{className:"bg-charcoal/50 border-2 border-dashed border-amber/30 rounded-lg overflow-hidden shadow-lg flex items-center justify-center h-full min-h-[300px] hover:border-amber transition-colors duration-300 cursor-pointer",onClick:b,children:h.jsxs("div",{className:"text-center p-6",children:[h.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-burgundy/20 flex items-center justify-center mb-4",children:h.jsx("span",{className:"text-3xl text-burgundy",children:"+"})}),h.jsx("h3",{className:"font-heading font-bold text-lg text-amber",children:"Add New Record"}),h.jsx("p",{className:"text-cream opacity-70 text-sm mt-2",children:"Expand your collection"})]})})]}):h.jsxs("div",{className:"bg-charcoal rounded-lg overflow-hidden",children:[h.jsxs("div",{className:"grid grid-cols-12 p-4 font-medium text-amber border-b border-amber/10",children:[h.jsx("div",{className:"col-span-5 md:col-span-4",children:"Title / Artist"}),h.jsx("div",{className:"col-span-3 md:col-span-2 text-center",children:"Year"}),h.jsx("div",{className:"hidden md:block md:col-span-2 text-center",children:"Genre"}),h.jsx("div",{className:"col-span-3 md:col-span-3 text-center",children:"Custom Fields"}),h.jsx("div",{className:"col-span-1 text-right",children:"Actions"})]}),g().map(B=>h.jsxs("div",{className:"grid grid-cols-12 p-4 hover:bg-navy/30 cursor-pointer border-b border-amber/10",onClick:()=>R(B),children:[h.jsxs("div",{className:"col-span-5 md:col-span-4",children:[h.jsx("div",{className:"font-bold truncate",children:B.title}),h.jsx("div",{className:"text-sm text-cream/70",children:B.artist})]}),h.jsx("div",{className:"col-span-3 md:col-span-2 text-center self-center",children:B.year||"-"}),h.jsx("div",{className:"hidden md:block md:col-span-2 text-center self-center",children:B.genre?h.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-burgundy/20 text-burgundy",children:B.genre}):"-"}),h.jsx("div",{className:"col-span-3 md:col-span-3 text-center self-center",children:B.customFields&&Object.keys(B.customFields).length>0?`${Object.keys(B.customFields).length} fields`:"-"}),h.jsx("div",{className:"col-span-1 text-right self-center",children:h.jsx("button",{className:"text-amber hover:text-burgundy",onClick:K=>{K.stopPropagation(),R(B)},children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("circle",{cx:"12",cy:"12",r:"1"}),h.jsx("circle",{cx:"19",cy:"12",r:"1"}),h.jsx("circle",{cx:"5",cy:"12",r:"1"})]})})})]},B.id))]}))]})}),h.jsx(AQ,{}),h.jsx(AZ,{isOpen:n,onClose:C}),s&&h.jsx(PZ,{record:s,onClose:O,onDelete:D})]})}const Y=Symbol.for("drizzle:entityKind");function en(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,Y))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(t).constructor;if(n)for(;n;){if(Y in n&&n[Y]===e[Y])return!0;n=Object.getPrototypeOf(n)}return!1}var gI;gI=Y;class ql{constructor(e,n){j(this,"name");j(this,"keyAsName");j(this,"primary");j(this,"notNull");j(this,"default");j(this,"defaultFn");j(this,"onUpdateFn");j(this,"hasDefault");j(this,"isUnique");j(this,"uniqueName");j(this,"uniqueType");j(this,"dataType");j(this,"columnType");j(this,"enumValues");j(this,"generated");j(this,"generatedIdentity");j(this,"config");this.table=e,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}j(ql,gI,"Column");var yI;yI=Y;class yV{constructor(e,n,r){j(this,"config");j(this,"$default",this.$defaultFn);j(this,"$onUpdate",this.$onUpdateFn);this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}j(yV,yI,"ColumnBuilder");const ll=Symbol.for("drizzle:Name");var vI;vI=Y;class vV{constructor(e,n){j(this,"reference");j(this,"_onUpdate","no action");j(this,"_onDelete","no action");this.reference=()=>{const{name:r,columns:s,foreignColumns:i}=e();return{name:r,columns:s,foreignTable:i[0].table,foreignColumns:i}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new _V(e,this)}}j(vV,vI,"PgForeignKeyBuilder");var _I;_I=Y;class _V{constructor(e,n){j(this,"reference");j(this,"onUpdate");j(this,"onDelete");this.table=e,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}getName(){const{name:e,columns:n,foreignColumns:r}=this.reference(),s=n.map(a=>a.name),i=r.map(a=>a.name),o=[this.table[ll],...s,r[0].table[ll],...i];return e??`${o.join("_")}_fk`}}j(_V,_I,"PgForeignKey");function lX(t,...e){return t(...e)}function cX(t,e){return`${t[ll]}_${e.join("_")}_unique`}function XS(t,e,n){for(let r=e;r<t.length;r++){const s=t[r];if(s==="\\"){r++;continue}if(s==='"')return[t.slice(e,r).replace(/\\/g,""),r+1];if(!n&&(s===","||s==="}"))return[t.slice(e,r).replace(/\\/g,""),r]}return[t.slice(e).replace(/\\/g,""),t.length]}function wV(t,e=0){const n=[];let r=e,s=!1;for(;r<t.length;){const i=t[r];if(i===","){(s||r===e)&&n.push(""),s=!0,r++;continue}if(s=!1,i==="\\"){r+=2;continue}if(i==='"'){const[l,u]=XS(t,r+1,!0);n.push(l),r=u;continue}if(i==="}")return[n,r+1];if(i==="{"){const[l,u]=wV(t,r+1);n.push(l),r=u;continue}const[o,a]=XS(t,r,!1);n.push(o),r=a}return[n,r]}function uX(t){const[e]=wV(t,1);return e}function xV(t){return`{${t.map(e=>Array.isArray(e)?xV(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}var wI,xI;class Ke extends(xI=yV,wI=Y,xI){constructor(){super(...arguments);j(this,"foreignKeyConfigs",[])}array(n){return new TV(this.config.name,this,n)}references(n,r={}){return this.foreignKeyConfigs.push({ref:n,actions:r}),this}unique(n,r){return this.config.isUnique=!0,this.config.uniqueName=n,this.config.uniqueType=r==null?void 0:r.nulls,this}generatedAlwaysAs(n){return this.config.generated={as:n,type:"always",mode:"stored"},this}buildForeignKeys(n,r){return this.foreignKeyConfigs.map(({ref:s,actions:i})=>lX((o,a)=>{const l=new vV(()=>{const u=o();return{columns:[n],foreignColumns:[u]}});return a.onUpdate&&l.onUpdate(a.onUpdate),a.onDelete&&l.onDelete(a.onDelete),l.build(r)},s,i))}buildExtraConfigColumn(n){return new EV(n,this.config)}}j(Ke,wI,"PgColumnBuilder");var EI,TI;class Ae extends(TI=ql,EI=Y,TI){constructor(e,n){n.uniqueName||(n.uniqueName=cX(e,[n.name])),super(e,n),this.table=e}}j(Ae,EI,"PgColumn");var bI,SI;class EV extends(SI=Ae,bI=Y,SI){constructor(){super(...arguments);j(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});j(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(n){return this.indexConfig.opClass=n,this}}j(EV,bI,"ExtraConfigColumn");var II,CI;class TV extends(CI=Ke,II=Y,CI){constructor(e,n,r){super(e,"array","PgArray"),this.config.baseBuilder=n,this.config.size=r}build(e){const n=this.config.baseBuilder.build(e);return new T_(e,this.config,n)}}j(TV,II,"PgArrayBuilder");var AI,RI;const Dp=class Dp extends(RI=Ae,AI=Y,RI){constructor(n,r,s,i){super(n,r);j(this,"size");this.baseColumn=s,this.range=i,this.size=r.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(n){return typeof n=="string"&&(n=uX(n)),n.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(n,r=!1){const s=n.map(i=>i===null?null:en(this.baseColumn,Dp)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return r?s:xV(s)}};j(Dp,AI,"PgArray");let T_=Dp;const JS=Symbol.for("drizzle:isPgEnum");function dX(t){return!!t&&typeof t=="function"&&JS in t&&t[JS]===!0}var PI;PI=Y;class lx{constructor(e,n,r,s=!1){this._={brand:"Subquery",sql:e,selectedFields:n,alias:r,isWith:s}}}j(lx,PI,"Subquery");const hX={startActiveSpan(t,e){return e()}},cl=Symbol.for("drizzle:ViewBaseConfig"),my=Symbol.for("drizzle:Schema"),eI=Symbol.for("drizzle:Columns"),tI=Symbol.for("drizzle:ExtraConfigColumns"),gy=Symbol.for("drizzle:OriginalName"),yy=Symbol.for("drizzle:BaseName"),Ap=Symbol.for("drizzle:IsAlias"),nI=Symbol.for("drizzle:ExtraConfigBuilder"),bV=Symbol.for("drizzle:IsDrizzleTable");var NI,kI,DI,OI,MI,LI,VI,jI,FI,UI;UI=Y,FI=ll,jI=gy,VI=my,LI=eI,MI=tI,OI=yy,DI=Ap,kI=bV,NI=nI;class Cn{constructor(e,n,r){j(this,FI);j(this,jI);j(this,VI);j(this,LI);j(this,MI);j(this,OI);j(this,DI,!1);j(this,kI,!0);j(this,NI);this[ll]=this[gy]=e,this[my]=n,this[yy]=r}}j(Cn,UI,"Table"),j(Cn,"Symbol",{Name:ll,Schema:my,OriginalName:gy,Columns:eI,ExtraConfigColumns:tI,BaseName:yy,IsAlias:Ap,ExtraConfigBuilder:nI});function SV(t){return typeof t=="object"&&t!==null&&bV in t}function fX(t){return t!=null&&typeof t.getSQL=="function"}function pX(t){var n;const e={sql:"",params:[]};for(const r of t)e.sql+=r.sql,e.params.push(...r.params),(n=r.typings)!=null&&n.length&&(e.typings||(e.typings=[]),e.typings.push(...r.typings));return e}var $I;$I=Y;class sr{constructor(e){j(this,"value");this.value=Array.isArray(e)?e:[e]}getSQL(){return new zt([this])}}j(sr,$I,"StringChunk");var zI;zI=Y;const vo=class vo{constructor(e){j(this,"decoder",IV);j(this,"shouldInlineParams",!1);this.queryChunks=e}append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return hX.startActiveSpan("drizzle.buildSQL",n=>{const r=this.buildQueryFromSourceParams(this.queryChunks,e);return n==null||n.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(e,n){const r=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:s,escapeName:i,escapeParam:o,prepareTyping:a,inlineParams:l,paramStartIndex:u}=r;return pX(e.map(d=>{var f;if(en(d,sr))return{sql:d.value.join(""),params:[]};if(en(d,Rp))return{sql:i(d.value),params:[]};if(d===void 0)return{sql:"",params:[]};if(Array.isArray(d)){const p=[new sr("(")];for(const[v,I]of d.entries())p.push(I),v<d.length-1&&p.push(new sr(", "));return p.push(new sr(")")),this.buildQueryFromSourceParams(p,r)}if(en(d,vo))return this.buildQueryFromSourceParams(d.queryChunks,{...r,inlineParams:l||d.shouldInlineParams});if(en(d,Cn)){const p=d[Cn.Symbol.Schema],v=d[Cn.Symbol.Name];return{sql:p===void 0||d[Ap]?i(v):i(p)+"."+i(v),params:[]}}if(en(d,ql)){const p=s.getColumnCasing(d);if(n.invokeSource==="indexes")return{sql:i(p),params:[]};const v=d.table[Cn.Symbol.Schema];return{sql:d.table[Ap]||v===void 0?i(d.table[Cn.Symbol.Name])+"."+i(p):i(v)+"."+i(d.table[Cn.Symbol.Name])+"."+i(p),params:[]}}if(en(d,RV)){const p=d[cl].schema,v=d[cl].name;return{sql:p===void 0||d[cl].isAlias?i(v):i(p)+"."+i(v),params:[]}}if(en(d,cx)){if(en(d.value,Np))return{sql:o(u.value++,d),params:[d],typings:["none"]};const p=d.value===null?null:d.encoder.mapToDriverValue(d.value);if(en(p,vo))return this.buildQueryFromSourceParams([p],r);if(l)return{sql:this.mapInlineParam(p,r),params:[]};let v=["none"];return a&&(v=[a(d.encoder)]),{sql:o(u.value++,p),params:[p],typings:v}}return en(d,Np)?{sql:o(u.value++,d),params:[d],typings:["none"]}:en(d,vo.Aliased)&&d.fieldAlias!==void 0?{sql:i(d.fieldAlias),params:[]}:en(d,lx)?d._.isWith?{sql:i(d._.alias),params:[]}:this.buildQueryFromSourceParams([new sr("("),d._.sql,new sr(") "),new Rp(d._.alias)],r):dX(d)?d.schema?{sql:i(d.schema)+"."+i(d.enumName),params:[]}:{sql:i(d.enumName),params:[]}:fX(d)?(f=d.shouldOmitSQLParens)!=null&&f.call(d)?this.buildQueryFromSourceParams([d.getSQL()],r):this.buildQueryFromSourceParams([new sr("("),d.getSQL(),new sr(")")],r):l?{sql:this.mapInlineParam(d,r),params:[]}:{sql:o(u.value++,d),params:[d],typings:["none"]}}))}mapInlineParam(e,{escapeString:n}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return n(e);if(typeof e=="object"){const r=e.toString();return n(r==="[object Object]"?JSON.stringify(e):r)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new vo.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}};j(vo,zI,"SQL");let zt=vo;var BI;BI=Y;class Rp{constructor(e){j(this,"brand");this.value=e}getSQL(){return new zt([this])}}j(Rp,BI,"Name");const IV={mapFromDriverValue:t=>t},CV={mapToDriverValue:t=>t};({...IV,...CV});var WI;WI=Y;class cx{constructor(e,n=CV){j(this,"brand");this.value=e,this.encoder=n}getSQL(){return new zt([this])}}j(cx,WI,"Param");function Pp(t,...e){const n=[];(e.length>0||t.length>0&&t[0]!=="")&&n.push(new sr(t[0]));for(const[r,s]of e.entries())n.push(s,new sr(t[r+1]));return new zt(n)}(t=>{function e(){return new zt([])}t.empty=e;function n(l){return new zt(l)}t.fromList=n;function r(l){return new zt([new sr(l)])}t.raw=r;function s(l,u){const d=[];for(const[f,p]of l.entries())f>0&&u!==void 0&&d.push(u),d.push(p);return new zt(d)}t.join=s;function i(l){return new Rp(l)}t.identifier=i;function o(l){return new Np(l)}t.placeholder=o;function a(l,u){return new cx(l,u)}t.param=a})(Pp||(Pp={}));(t=>{var n;n=Y;const r=class r{constructor(i,o){j(this,"isSelectionField",!1);this.sql=i,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new r(this.sql,this.fieldAlias)}};j(r,n,"SQL.Aliased");let e=r;t.Aliased=e})(zt||(zt={}));var qI;qI=Y;class Np{constructor(e){this.name=e}getSQL(){return new zt([this])}}j(Np,qI,"Placeholder");const AV=Symbol.for("drizzle:IsDrizzleView");var HI,KI,GI;GI=Y,KI=cl,HI=AV;class RV{constructor({name:e,schema:n,selectedFields:r,query:s}){j(this,KI);j(this,HI,!0);this[cl]={name:e,originalName:e,schema:n,selectedFields:r,query:s,isExisting:!s,isAlias:!1}}getSQL(){return new zt([this])}}j(RV,GI,"View");function mX(t){return typeof t=="object"&&t!==null&&AV in t}ql.prototype.getSQL=function(){return new zt([this])};Cn.prototype.getSQL=function(){return new zt([this])};lx.prototype.getSQL=function(){return new zt([this])};function gX(t){return t[Cn.Symbol.Columns]}function yX(t){return t[cl].selectedFields}function Yt(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}var QI,YI;class Ud extends(YI=Ke,QI=Y,YI){generatedAlwaysAsIdentity(e){if(e){const{name:n,...r}=e;this.config.generatedIdentity={type:"always",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:n,...r}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}j(Ud,QI,"PgIntColumnBaseBuilder");var ZI,XI;class PV extends(XI=Ud,ZI=Y,XI){constructor(e){super(e,"number","PgBigInt53")}build(e){return new NV(e,this.config)}}j(PV,ZI,"PgBigInt53Builder");var JI,e1;class NV extends(e1=Ae,JI=Y,e1){getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}j(NV,JI,"PgBigInt53");var t1,n1;class kV extends(n1=Ud,t1=Y,n1){constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new DV(e,this.config)}}j(kV,t1,"PgBigInt64Builder");var r1,s1;class DV extends(s1=Ae,r1=Y,s1){getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}j(DV,r1,"PgBigInt64");function vX(t,e){const{name:n,config:r}=Yt(t,e);return r.mode==="number"?new PV(n):new kV(n)}var i1,o1;class OV extends(o1=Ke,i1=Y,o1){constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new MV(e,this.config)}}j(OV,i1,"PgBigSerial53Builder");var a1,l1;class MV extends(l1=Ae,a1=Y,l1){getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}j(MV,a1,"PgBigSerial53");var c1,u1;class LV extends(u1=Ke,c1=Y,u1){constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new VV(e,this.config)}}j(LV,c1,"PgBigSerial64Builder");var d1,h1;class VV extends(h1=Ae,d1=Y,h1){getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}j(VV,d1,"PgBigSerial64");function _X(t,e){const{name:n,config:r}=Yt(t,e);return r.mode==="number"?new OV(n):new LV(n)}var f1,p1;class jV extends(p1=Ke,f1=Y,p1){constructor(e){super(e,"boolean","PgBoolean")}build(e){return new FV(e,this.config)}}j(jV,f1,"PgBooleanBuilder");var m1,g1;class FV extends(g1=Ae,m1=Y,g1){getSQLType(){return"boolean"}}j(FV,m1,"PgBoolean");function wX(t){return new jV(t??"")}var y1,v1;class UV extends(v1=Ke,y1=Y,v1){constructor(e,n){super(e,"string","PgChar"),this.config.length=n.length,this.config.enumValues=n.enum}build(e){return new $V(e,this.config)}}j(UV,y1,"PgCharBuilder");var _1,w1;class $V extends(w1=Ae,_1=Y,w1){constructor(){super(...arguments);j(this,"length",this.config.length);j(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}j($V,_1,"PgChar");function xX(t,e={}){const{name:n,config:r}=Yt(t,e);return new UV(n,r)}var x1,E1;class zV extends(E1=Ke,x1=Y,E1){constructor(e){super(e,"string","PgCidr")}build(e){return new BV(e,this.config)}}j(zV,x1,"PgCidrBuilder");var T1,b1;class BV extends(b1=Ae,T1=Y,b1){getSQLType(){return"cidr"}}j(BV,T1,"PgCidr");function EX(t){return new zV(t??"")}var S1,I1;class WV extends(I1=Ke,S1=Y,I1){constructor(e,n,r){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=r}build(e){return new qV(e,this.config)}}j(WV,S1,"PgCustomColumnBuilder");var C1,A1;class qV extends(A1=Ae,C1=Y,A1){constructor(n,r){super(n,r);j(this,"sqlName");j(this,"mapTo");j(this,"mapFrom");this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(n){return typeof this.mapFrom=="function"?this.mapFrom(n):n}mapToDriverValue(n){return typeof this.mapTo=="function"?this.mapTo(n):n}}j(qV,C1,"PgCustomColumn");function TX(t){return(e,n)=>{const{name:r,config:s}=Yt(e,n);return new WV(r,s,t)}}var R1,P1;class uc extends(P1=Ke,R1=Y,P1){defaultNow(){return this.default(Pp`now()`)}}j(uc,R1,"PgDateColumnBaseBuilder");var N1,k1;class HV extends(k1=uc,N1=Y,k1){constructor(e){super(e,"date","PgDate")}build(e){return new KV(e,this.config)}}j(HV,N1,"PgDateBuilder");var D1,O1;class KV extends(O1=Ae,D1=Y,O1){getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}j(KV,D1,"PgDate");var M1,L1;class GV extends(L1=uc,M1=Y,L1){constructor(e){super(e,"string","PgDateString")}build(e){return new QV(e,this.config)}}j(GV,M1,"PgDateStringBuilder");var V1,j1;class QV extends(j1=Ae,V1=Y,j1){getSQLType(){return"date"}}j(QV,V1,"PgDateString");function bX(t,e){const{name:n,config:r}=Yt(t,e);return(r==null?void 0:r.mode)==="date"?new HV(n):new GV(n)}var F1,U1;class YV extends(U1=Ke,F1=Y,U1){constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new ZV(e,this.config)}}j(YV,F1,"PgDoublePrecisionBuilder");var $1,z1;class ZV extends(z1=Ae,$1=Y,z1){getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}j(ZV,$1,"PgDoublePrecision");function SX(t){return new YV(t??"")}var B1,W1;class XV extends(W1=Ke,B1=Y,W1){constructor(e){super(e,"string","PgInet")}build(e){return new JV(e,this.config)}}j(XV,B1,"PgInetBuilder");var q1,H1;class JV extends(H1=Ae,q1=Y,H1){getSQLType(){return"inet"}}j(JV,q1,"PgInet");function IX(t){return new XV(t??"")}var K1,G1;class ej extends(G1=Ud,K1=Y,G1){constructor(e){super(e,"number","PgInteger")}build(e){return new tj(e,this.config)}}j(ej,K1,"PgIntegerBuilder");var Q1,Y1;class tj extends(Y1=Ae,Q1=Y,Y1){getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}j(tj,Q1,"PgInteger");function nj(t){return new ej(t??"")}var Z1,X1;class rj extends(X1=Ke,Z1=Y,X1){constructor(e,n){super(e,"string","PgInterval"),this.config.intervalConfig=n}build(e){return new sj(e,this.config)}}j(rj,Z1,"PgIntervalBuilder");var J1,eC;class sj extends(eC=Ae,J1=Y,eC){constructor(){super(...arguments);j(this,"fields",this.config.intervalConfig.fields);j(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const n=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${n}${r}`}}j(sj,J1,"PgInterval");function CX(t,e={}){const{name:n,config:r}=Yt(t,e);return new rj(n,r)}var tC,nC;class ij extends(nC=Ke,tC=Y,nC){constructor(e){super(e,"json","PgJson")}build(e){return new oj(e,this.config)}}j(ij,tC,"PgJsonBuilder");var rC,sC;class oj extends(sC=Ae,rC=Y,sC){constructor(e,n){super(e,n)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}j(oj,rC,"PgJson");function AX(t){return new ij(t??"")}var iC,oC;class aj extends(oC=Ke,iC=Y,oC){constructor(e){super(e,"json","PgJsonb")}build(e){return new lj(e,this.config)}}j(aj,iC,"PgJsonbBuilder");var aC,lC;class lj extends(lC=Ae,aC=Y,lC){constructor(e,n){super(e,n)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}j(lj,aC,"PgJsonb");function cj(t){return new aj(t??"")}var cC,uC;class uj extends(uC=Ke,cC=Y,uC){constructor(e){super(e,"array","PgLine")}build(e){return new dj(e,this.config)}}j(uj,cC,"PgLineBuilder");var dC,hC;class dj extends(hC=Ae,dC=Y,hC){getSQLType(){return"line"}mapFromDriverValue(e){const[n,r,s]=e.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r),Number.parseFloat(s)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}j(dj,dC,"PgLine");var fC,pC;class hj extends(pC=Ke,fC=Y,pC){constructor(e){super(e,"json","PgLineABC")}build(e){return new fj(e,this.config)}}j(hj,fC,"PgLineABCBuilder");var mC,gC;class fj extends(gC=Ae,mC=Y,gC){getSQLType(){return"line"}mapFromDriverValue(e){const[n,r,s]=e.slice(1,-1).split(",");return{a:Number.parseFloat(n),b:Number.parseFloat(r),c:Number.parseFloat(s)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}j(fj,mC,"PgLineABC");function RX(t,e){const{name:n,config:r}=Yt(t,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new uj(n):new hj(n)}var yC,vC;class pj extends(vC=Ke,yC=Y,vC){constructor(e){super(e,"string","PgMacaddr")}build(e){return new mj(e,this.config)}}j(pj,yC,"PgMacaddrBuilder");var _C,wC;class mj extends(wC=Ae,_C=Y,wC){getSQLType(){return"macaddr"}}j(mj,_C,"PgMacaddr");function PX(t){return new pj(t??"")}var xC,EC;class gj extends(EC=Ke,xC=Y,EC){constructor(e){super(e,"string","PgMacaddr8")}build(e){return new yj(e,this.config)}}j(gj,xC,"PgMacaddr8Builder");var TC,bC;class yj extends(bC=Ae,TC=Y,bC){getSQLType(){return"macaddr8"}}j(yj,TC,"PgMacaddr8");function NX(t){return new gj(t??"")}var SC,IC;class vj extends(IC=Ke,SC=Y,IC){constructor(e,n,r){super(e,"string","PgNumeric"),this.config.precision=n,this.config.scale=r}build(e){return new _j(e,this.config)}}j(vj,SC,"PgNumericBuilder");var CC,AC;class _j extends(AC=Ae,CC=Y,AC){constructor(n,r){super(n,r);j(this,"precision");j(this,"scale");this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}j(_j,CC,"PgNumeric");function kX(t,e){const{name:n,config:r}=Yt(t,e);return new vj(n,r==null?void 0:r.precision,r==null?void 0:r.scale)}var RC,PC;class wj extends(PC=Ke,RC=Y,PC){constructor(e){super(e,"array","PgPointTuple")}build(e){return new xj(e,this.config)}}j(wj,RC,"PgPointTupleBuilder");var NC,kC;class xj extends(kC=Ae,NC=Y,kC){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[n,r]=e.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}j(xj,NC,"PgPointTuple");var DC,OC;class Ej extends(OC=Ke,DC=Y,OC){constructor(e){super(e,"json","PgPointObject")}build(e){return new Tj(e,this.config)}}j(Ej,DC,"PgPointObjectBuilder");var MC,LC;class Tj extends(LC=Ae,MC=Y,LC){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[n,r]=e.slice(1,-1).split(",");return{x:Number.parseFloat(n),y:Number.parseFloat(r)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}j(Tj,MC,"PgPointObject");function DX(t,e){const{name:n,config:r}=Yt(t,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new wj(n):new Ej(n)}function OX(t){const e=[];for(let n=0;n<t.length;n+=2)e.push(Number.parseInt(t.slice(n,n+2),16));return new Uint8Array(e)}function rI(t,e){const n=new ArrayBuffer(8),r=new DataView(n);for(let s=0;s<8;s++)r.setUint8(s,t[e+s]);return r.getFloat64(0,!0)}function bj(t){const e=OX(t);let n=0;const r=e[n];n+=1;const s=new DataView(e.buffer),i=s.getUint32(n,r===1);if(n+=4,i&536870912&&(s.getUint32(n,r===1),n+=4),(i&65535)===1){const o=rI(e,n);n+=8;const a=rI(e,n);return n+=8,[o,a]}throw new Error("Unsupported geometry type")}var VC,jC;class Sj extends(jC=Ke,VC=Y,jC){constructor(e){super(e,"array","PgGeometry")}build(e){return new Ij(e,this.config)}}j(Sj,VC,"PgGeometryBuilder");var FC,UC;class Ij extends(UC=Ae,FC=Y,UC){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return bj(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}j(Ij,FC,"PgGeometry");var $C,zC;class Cj extends(zC=Ke,$C=Y,zC){constructor(e){super(e,"json","PgGeometryObject")}build(e){return new Aj(e,this.config)}}j(Cj,$C,"PgGeometryObjectBuilder");var BC,WC;class Aj extends(WC=Ae,BC=Y,WC){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const n=bj(e);return{x:n[0],y:n[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}j(Aj,BC,"PgGeometryObject");function MX(t,e){const{name:n,config:r}=Yt(t,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new Sj(n):new Cj(n)}var qC,HC;class Rj extends(HC=Ke,qC=Y,HC){constructor(e,n){super(e,"number","PgReal"),this.config.length=n}build(e){return new Pj(e,this.config)}}j(Rj,qC,"PgRealBuilder");var KC,GC;class Pj extends(GC=Ae,KC=Y,GC){constructor(n,r){super(n,r);j(this,"mapFromDriverValue",n=>typeof n=="string"?Number.parseFloat(n):n)}getSQLType(){return"real"}}j(Pj,KC,"PgReal");function LX(t){return new Rj(t??"")}var QC,YC;class Nj extends(YC=Ke,QC=Y,YC){constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new kj(e,this.config)}}j(Nj,QC,"PgSerialBuilder");var ZC,XC;class kj extends(XC=Ae,ZC=Y,XC){getSQLType(){return"serial"}}j(kj,ZC,"PgSerial");function ux(t){return new Nj(t??"")}var JC,eA;class Dj extends(eA=Ud,JC=Y,eA){constructor(e){super(e,"number","PgSmallInt")}build(e){return new Oj(e,this.config)}}j(Dj,JC,"PgSmallIntBuilder");var tA,nA;class Oj extends(nA=Ae,tA=Y,nA){constructor(){super(...arguments);j(this,"mapFromDriverValue",n=>typeof n=="string"?Number(n):n)}getSQLType(){return"smallint"}}j(Oj,tA,"PgSmallInt");function VX(t){return new Dj(t??"")}var rA,sA;class Mj extends(sA=Ke,rA=Y,sA){constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new Lj(e,this.config)}}j(Mj,rA,"PgSmallSerialBuilder");var iA,oA;class Lj extends(oA=Ae,iA=Y,oA){getSQLType(){return"smallserial"}}j(Lj,iA,"PgSmallSerial");function jX(t){return new Mj(t??"")}var aA,lA;class Vj extends(lA=Ke,aA=Y,lA){constructor(e,n){super(e,"string","PgText"),this.config.enumValues=n.enum}build(e){return new jj(e,this.config)}}j(Vj,aA,"PgTextBuilder");var cA,uA;class jj extends(uA=Ae,cA=Y,uA){constructor(){super(...arguments);j(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}j(jj,cA,"PgText");function bs(t,e={}){const{name:n,config:r}=Yt(t,e);return new Vj(n,r)}var dA,hA;class Fj extends(hA=uc,dA=Y,hA){constructor(e,n,r){super(e,"string","PgTime"),this.withTimezone=n,this.precision=r,this.config.withTimezone=n,this.config.precision=r}build(e){return new Uj(e,this.config)}}j(Fj,dA,"PgTimeBuilder");var fA,pA;class Uj extends(pA=Ae,fA=Y,pA){constructor(n,r){super(n,r);j(this,"withTimezone");j(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}j(Uj,fA,"PgTime");function FX(t,e={}){const{name:n,config:r}=Yt(t,e);return new Fj(n,r.withTimezone??!1,r.precision)}var mA,gA;class $j extends(gA=uc,mA=Y,gA){constructor(e,n,r){super(e,"date","PgTimestamp"),this.config.withTimezone=n,this.config.precision=r}build(e){return new zj(e,this.config)}}j($j,mA,"PgTimestampBuilder");var yA,vA;class zj extends(vA=Ae,yA=Y,vA){constructor(n,r){super(n,r);j(this,"withTimezone");j(this,"precision");j(this,"mapFromDriverValue",n=>new Date(this.withTimezone?n:n+"+0000"));j(this,"mapToDriverValue",n=>n.toISOString());this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}j(zj,yA,"PgTimestamp");var _A,wA;class Bj extends(wA=uc,_A=Y,wA){constructor(e,n,r){super(e,"string","PgTimestampString"),this.config.withTimezone=n,this.config.precision=r}build(e){return new Wj(e,this.config)}}j(Bj,_A,"PgTimestampStringBuilder");var xA,EA;class Wj extends(EA=Ae,xA=Y,EA){constructor(n,r){super(n,r);j(this,"withTimezone");j(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}j(Wj,xA,"PgTimestampString");function dx(t,e={}){const{name:n,config:r}=Yt(t,e);return(r==null?void 0:r.mode)==="string"?new Bj(n,r.withTimezone??!1,r.precision):new $j(n,(r==null?void 0:r.withTimezone)??!1,r==null?void 0:r.precision)}var TA,bA;class qj extends(bA=Ke,TA=Y,bA){constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(Pp`gen_random_uuid()`)}build(e){return new Hj(e,this.config)}}j(qj,TA,"PgUUIDBuilder");var SA,IA;class Hj extends(IA=Ae,SA=Y,IA){getSQLType(){return"uuid"}}j(Hj,SA,"PgUUID");function UX(t){return new qj(t??"")}var CA,AA;class Kj extends(AA=Ke,CA=Y,AA){constructor(e,n){super(e,"string","PgVarchar"),this.config.length=n.length,this.config.enumValues=n.enum}build(e){return new Gj(e,this.config)}}j(Kj,CA,"PgVarcharBuilder");var RA,PA;class Gj extends(PA=Ae,RA=Y,PA){constructor(){super(...arguments);j(this,"length",this.config.length);j(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}j(Gj,RA,"PgVarchar");function $X(t,e={}){const{name:n,config:r}=Yt(t,e);return new Kj(n,r)}var NA,kA;class Qj extends(kA=Ke,NA=Y,kA){constructor(e,n){super(e,"string","PgBinaryVector"),this.config.dimensions=n.dimensions}build(e){return new Yj(e,this.config)}}j(Qj,NA,"PgBinaryVectorBuilder");var DA,OA;class Yj extends(OA=Ae,DA=Y,OA){constructor(){super(...arguments);j(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}j(Yj,DA,"PgBinaryVector");function zX(t,e){const{name:n,config:r}=Yt(t,e);return new Qj(n,r)}var MA,LA;class Zj extends(LA=Ke,MA=Y,LA){constructor(e,n){super(e,"array","PgHalfVector"),this.config.dimensions=n.dimensions}build(e){return new Xj(e,this.config)}}j(Zj,MA,"PgHalfVectorBuilder");var VA,jA;class Xj extends(jA=Ae,VA=Y,jA){constructor(){super(...arguments);j(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}j(Xj,VA,"PgHalfVector");function BX(t,e){const{name:n,config:r}=Yt(t,e);return new Zj(n,r)}var FA,UA;class Jj extends(UA=Ke,FA=Y,UA){constructor(e,n){super(e,"string","PgSparseVector"),this.config.dimensions=n.dimensions}build(e){return new eF(e,this.config)}}j(Jj,FA,"PgSparseVectorBuilder");var $A,zA;class eF extends(zA=Ae,$A=Y,zA){constructor(){super(...arguments);j(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}j(eF,$A,"PgSparseVector");function WX(t,e){const{name:n,config:r}=Yt(t,e);return new Jj(n,r)}var BA,WA;class tF extends(WA=Ke,BA=Y,WA){constructor(e,n){super(e,"array","PgVector"),this.config.dimensions=n.dimensions}build(e){return new nF(e,this.config)}}j(tF,BA,"PgVectorBuilder");var qA,HA;class nF extends(HA=Ae,qA=Y,HA){constructor(){super(...arguments);j(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}j(nF,qA,"PgVector");function qX(t,e){const{name:n,config:r}=Yt(t,e);return new tF(n,r)}function HX(){return{bigint:vX,bigserial:_X,boolean:wX,char:xX,cidr:EX,customType:TX,date:bX,doublePrecision:SX,inet:IX,integer:nj,interval:CX,json:AX,jsonb:cj,line:RX,macaddr:PX,macaddr8:NX,numeric:kX,point:DX,geometry:MX,real:LX,serial:ux,smallint:VX,smallserial:jX,text:bs,time:FX,timestamp:dx,uuid:UX,varchar:$X,bit:zX,halfvec:BX,sparsevec:WX,vector:qX}}const b_=Symbol.for("drizzle:PgInlineForeignKeys"),sI=Symbol.for("drizzle:EnableRLS");var KA,GA,QA,YA,ZA;class kp extends(ZA=Cn,YA=Y,QA=b_,GA=sI,KA=Cn.Symbol.ExtraConfigBuilder,ZA){constructor(){super(...arguments);j(this,QA,[]);j(this,GA,!1);j(this,KA)}}j(kp,YA,"PgTable"),j(kp,"Symbol",Object.assign({},Cn.Symbol,{InlineForeignKeys:b_,EnableRLS:sI}));function KX(t,e,n,r,s=t){const i=new kp(t,r,s),o=typeof e=="function"?e(HX()):e,a=Object.fromEntries(Object.entries(o).map(([d,f])=>{const p=f;p.setName(d);const v=p.build(i);return i[b_].push(...p.buildForeignKeys(v,i)),[d,v]})),l=Object.fromEntries(Object.entries(o).map(([d,f])=>{const p=f;p.setName(d);const v=p.buildExtraConfigColumn(i);return[d,v]})),u=Object.assign(i,a);return u[Cn.Symbol.Columns]=a,u[Cn.Symbol.ExtraConfigColumns]=l,Object.assign(u,{enableRLS:()=>(u[kp.Symbol.EnableRLS]=!0,u)})}const rF=(t,e,n)=>KX(t,e,n,void 0),mt={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function At(t,e){return e.includes(t.columnType)}function GX(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const QX=Se.union([Se.string(),Se.number(),Se.boolean(),Se.null()]),YX=Se.union([QX,Se.record(Se.any()),Se.array(Se.any())]),ZX=Se.custom(t=>t instanceof Buffer);function sF(t,e){const n=(e==null?void 0:e.zodInstance)??Se,r=(e==null?void 0:e.coerce)??{};let s;return GX(t)&&(s=t.enumValues.length?n.enum(t.enumValues):n.string()),s||(At(t,["PgGeometry","PgPointTuple"])?s=n.tuple([n.number(),n.number()]):At(t,["PgGeometryObject","PgPointObject"])?s=n.object({x:n.number(),y:n.number()}):At(t,["PgHalfVector","PgVector"])?(s=n.array(n.number()),s=t.dimensions?s.length(t.dimensions):s):At(t,["PgLine"])?s=n.tuple([n.number(),n.number(),n.number()]):At(t,["PgLineABC"])?s=n.object({a:n.number(),b:n.number(),c:n.number()}):At(t,["PgArray"])?(s=n.array(sF(t.baseColumn,n)),s=t.size?s.length(t.size):s):t.dataType==="array"?s=n.array(n.any()):t.dataType==="number"?s=XX(t,n,r):t.dataType==="bigint"?s=JX(t,n,r):t.dataType==="boolean"?s=r===!0||r.boolean?n.coerce.boolean():n.boolean():t.dataType==="date"?s=r===!0||r.date?n.coerce.date():n.date():t.dataType==="string"?s=eJ(t,n,r):t.dataType==="json"?s=YX:t.dataType==="custom"?s=n.any():t.dataType==="buffer"&&(s=ZX)),s||(s=n.any()),s}function XX(t,e,n){let r=t.getSQLType().includes("unsigned"),s,i,o=!1;At(t,["MySqlTinyInt","SingleStoreTinyInt"])?(s=r?0:mt.INT8_MIN,i=r?mt.INT8_UNSIGNED_MAX:mt.INT8_MAX,o=!0):At(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(s=r?0:mt.INT16_MIN,i=r?mt.INT16_UNSIGNED_MAX:mt.INT16_MAX,o=!0):At(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(s=r?0:mt.INT24_MIN,i=r?mt.INT24_UNSIGNED_MAX:mt.INT24_MAX,o=At(t,["MySqlMediumInt","SingleStoreMediumInt"])):At(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(s=r?0:mt.INT32_MIN,i=r?mt.INT32_UNSIGNED_MAX:mt.INT32_MAX,o=!0):At(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(s=r?0:mt.INT48_MIN,i=r?mt.INT48_UNSIGNED_MAX:mt.INT48_MAX):At(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(r=r||At(t,["MySqlSerial","SingleStoreSerial"]),s=r?0:Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,o=!0):At(t,["MySqlYear","SingleStoreYear"])?(s=1901,i=2155,o=!0):(s=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER);let a=n===!0||n!=null&&n.number?e.coerce.number():e.number();return a=a.min(s).max(i),o?a.int():a}function JX(t,e,n){const r=t.getSQLType().includes("unsigned"),s=r?0n:mt.INT64_MIN,i=r?mt.INT64_UNSIGNED_MAX:mt.INT64_MAX;return(n===!0||n!=null&&n.bigint?e.coerce.bigint():e.bigint()).min(s).max(i)}function eJ(t,e,n){if(At(t,["PgUUID"]))return e.string().uuid();let r,s,i=!1;At(t,["PgVarchar","SQLiteText"])?r=t.length:At(t,["MySqlVarChar","SingleStoreVarChar"])?r=t.length??mt.INT16_UNSIGNED_MAX:At(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?r=mt.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?r=mt.INT24_UNSIGNED_MAX:t.textType==="text"?r=mt.INT16_UNSIGNED_MAX:r=mt.INT8_UNSIGNED_MAX),At(t,["PgChar","MySqlChar","SingleStoreChar"])&&(r=t.length,i=!0),At(t,["PgBinaryVector"])&&(s=/^[01]+$/,r=t.dimensions);let o=n===!0||n!=null&&n.string?e.coerce.string():e.string();return o=s?o.regex(s):o,r&&i?o.length(r):r?o.max(r):o}function iF(t){return SV(t)?gX(t):yX(t)}function oF(t,e,n,r){const s={};for(const[i,o]of Object.entries(t)){if(!en(o,ql)&&!en(o,zt)&&!en(o,zt.Aliased)&&typeof o=="object"){const f=SV(o)||mX(o)?iF(o):o;s[i]=oF(f,e[i]??{},n,r);continue}const a=e[i];if(a!==void 0&&typeof a!="function"){s[i]=a;continue}const l=en(o,ql)?o:void 0,u=l?sF(l,r):Se.any(),d=typeof a=="function"?a(u):u;n.never(l)||(s[i]=d,l&&(n.nullable(l)&&(s[i]=s[i].nullable()),n.optional(l)&&(s[i]=s[i].optional())))}return Se.object(s)}const tJ={never:t=>{var e,n;return((e=t==null?void 0:t.generated)==null?void 0:e.type)==="always"||((n=t==null?void 0:t.generatedIdentity)==null?void 0:n.type)==="always"},optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},aF=(t,e)=>{const n=iF(t);return oF(n,{},tJ)},nJ=rF("users",{id:ux("id").primaryKey(),username:bs("username").notNull().unique(),password:bs("password").notNull(),name:bs("name").notNull(),createdAt:dx("created_at").defaultNow().notNull()}),rJ=aF(nJ).pick({username:!0,password:!0,name:!0}),sJ=rF("records",{id:ux("id").primaryKey(),userId:nj("user_id").notNull(),title:bs("title").notNull(),artist:bs("artist").notNull(),year:bs("year"),genre:bs("genre"),coverImage:bs("cover_image"),customFields:cj("custom_fields"),createdAt:dx("created_at").defaultNow().notNull()});aF(sJ).omit({id:!0,createdAt:!0});Se.object({name:Se.string(),value:Se.string()});const iJ=Se.object({username:Se.string().email("Please enter a valid email"),password:Se.string().min(6,"Password must be at least 6 characters")}),oJ=rJ.extend({username:Se.string().email("Please enter a valid email"),password:Se.string().min(6,"Password must be at least 6 characters"),confirmPassword:Se.string(),name:Se.string().min(2,"Name must be at least 2 characters")}).refine(t=>t.password===t.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});function aJ(){const{user:t,loginMutation:e,registerMutation:n}=lc(),[r,s]=y.useState(!0),i=yp({resolver:vp(iJ),defaultValues:{username:"",password:""}}),o=yp({resolver:vp(oJ),defaultValues:{username:"",password:"",confirmPassword:"",name:""}}),a=u=>{e.mutate(u)},l=u=>{const{confirmPassword:d,...f}=u;n.mutate(f)};return t?h.jsx(SN,{to:"/"}):h.jsx("div",{className:"min-h-screen bg-navy flex items-center justify-center p-4",children:h.jsxs("div",{className:"w-full max-w-4xl flex flex-col md:flex-row shadow-2xl rounded-lg overflow-hidden",children:[h.jsxs("div",{className:"w-full md:w-1/2 bg-charcoal p-8",children:[h.jsxs("div",{className:"flex items-center justify-center mb-6",children:[h.jsx("div",{className:"relative w-10 h-10 mr-2",children:h.jsx("div",{className:"absolute inset-0 bg-burgundy rounded-full record-grooves"})}),h.jsx("h1",{className:"text-3xl font-heading font-bold text-amber",children:"VinylVault"})]}),r?h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-heading font-bold text-center mb-6",children:"Sign In"}),h.jsxs("form",{onSubmit:i.handleSubmit(a),className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Kt,{htmlFor:"username",children:"Email"}),h.jsx(Pt,{id:"username",type:"email",className:"bg-navy border-amber/30 focus:ring-amber",...i.register("username")}),i.formState.errors.username&&h.jsx("p",{className:"text-xs text-red-500",children:i.formState.errors.username.message})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Kt,{htmlFor:"password",children:"Password"}),h.jsx(Pt,{id:"password",type:"password",className:"bg-navy border-amber/30 focus:ring-amber",...i.register("password")}),i.formState.errors.password&&h.jsx("p",{className:"text-xs text-red-500",children:i.formState.errors.password.message})]}),h.jsxs(Mt,{type:"submit",className:"w-full bg-burgundy hover:bg-burgundy/90 text-white",disabled:e.isPending,children:[e.isPending?h.jsx(Sr,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Sign In"]})]}),h.jsx("div",{className:"mt-6 text-center",children:h.jsxs("p",{className:"text-sm text-cream",children:["Don't have an account?"," ",h.jsx("button",{type:"button",className:"text-amber hover:underline",onClick:()=>s(!1),children:"Register"})]})})]}):h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-heading font-bold text-center mb-6",children:"Create Account"}),h.jsxs("form",{onSubmit:o.handleSubmit(l),className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Kt,{htmlFor:"name",children:"Name"}),h.jsx(Pt,{id:"name",type:"text",className:"bg-navy border-amber/30 focus:ring-amber",...o.register("name")}),o.formState.errors.name&&h.jsx("p",{className:"text-xs text-red-500",children:o.formState.errors.name.message})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Kt,{htmlFor:"reg-username",children:"Email"}),h.jsx(Pt,{id:"reg-username",type:"email",className:"bg-navy border-amber/30 focus:ring-amber",...o.register("username")}),o.formState.errors.username&&h.jsx("p",{className:"text-xs text-red-500",children:o.formState.errors.username.message})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Kt,{htmlFor:"reg-password",children:"Password"}),h.jsx(Pt,{id:"reg-password",type:"password",className:"bg-navy border-amber/30 focus:ring-amber",...o.register("password")}),o.formState.errors.password&&h.jsx("p",{className:"text-xs text-red-500",children:o.formState.errors.password.message})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Kt,{htmlFor:"confirm-password",children:"Confirm Password"}),h.jsx(Pt,{id:"confirm-password",type:"password",className:"bg-navy border-amber/30 focus:ring-amber",...o.register("confirmPassword")}),o.formState.errors.confirmPassword&&h.jsx("p",{className:"text-xs text-red-500",children:o.formState.errors.confirmPassword.message})]}),h.jsxs(Mt,{type:"submit",className:"w-full bg-burgundy hover:bg-burgundy/90 text-white",disabled:n.isPending,children:[n.isPending?h.jsx(Sr,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Create Account"]})]}),h.jsx("div",{className:"mt-6 text-center",children:h.jsxs("p",{className:"text-sm text-cream",children:["Already have an account?"," ",h.jsx("button",{type:"button",className:"text-amber hover:underline",onClick:()=>s(!0),children:"Sign In"})]})})]})]}),h.jsxs("div",{className:"w-full md:w-1/2 bg-burgundy/90 p-8 flex flex-col justify-center",children:[h.jsxs("div",{className:"text-center mb-6",children:[h.jsx(w9,{className:"h-16 w-16 text-amber mx-auto mb-4"}),h.jsx("h2",{className:"text-3xl font-heading font-bold text-cream",children:"Your Digital Record Collection"})]}),h.jsxs("ul",{className:"space-y-4 mb-8",children:[h.jsxs("li",{className:"flex items-start",children:[h.jsx(Bc,{className:"h-5 w-5 text-amber mr-2 mt-0.5 flex-shrink-0"}),h.jsx("span",{className:"text-cream",children:"Catalog your vinyl records with detailed information"})]}),h.jsxs("li",{className:"flex items-start",children:[h.jsx(Bc,{className:"h-5 w-5 text-amber mr-2 mt-0.5 flex-shrink-0"}),h.jsx("span",{className:"text-cream",children:"Automatic lookup for release year and genre metadata"})]}),h.jsxs("li",{className:"flex items-start",children:[h.jsx(Bc,{className:"h-5 w-5 text-amber mr-2 mt-0.5 flex-shrink-0"}),h.jsx("span",{className:"text-cream",children:"Add custom fields for personalized record details"})]}),h.jsxs("li",{className:"flex items-start",children:[h.jsx(Bc,{className:"h-5 w-5 text-amber mr-2 mt-0.5 flex-shrink-0"}),h.jsx("span",{className:"text-cream",children:"Search, filter, and browse your collection with ease"})]})]}),h.jsx("p",{className:"text-cream/70 text-sm text-center",children:"Join other vinyl enthusiasts and start organizing your collection today!"})]})]})})}function lJ({path:t,component:e}){const{user:n,isLoading:r}=lc();return r?h.jsx(cu,{path:t,children:h.jsx("div",{className:"flex items-center justify-center min-h-screen bg-navy",children:h.jsx(Sr,{className:"h-8 w-8 animate-spin text-amber"})})}):n?h.jsx(cu,{path:t,component:e}):h.jsx(cu,{path:t,children:h.jsx(SN,{to:"/auth"})})}function cJ(){const[t,e]=EN();if(window.location.hostname.includes("github.io")){const n="/Vinyl-Vault";return[t.startsWith(n)?t.substring(n.length)||"/":t,i=>{e(i.startsWith("/")?`${n}${i}`:i)}]}return[t,e]}function uJ(){return h.jsxs(V3,{hook:cJ,children:[h.jsx(lJ,{path:"/",component:aX}),h.jsx(cu,{path:"/auth",component:aJ}),h.jsx(cu,{component:$z})]})}function dJ(){return h.jsx(r$,{client:Sv,children:h.jsx(oK,{children:h.jsxs(Mz,{children:[h.jsx(c5,{}),h.jsx(uJ,{})]})})})}var hJ=(t,e,n,r,s,i,o,a)=>{let l=document.documentElement,u=["light","dark"];function d(v){(Array.isArray(t)?t:[t]).forEach(I=>{let _=I==="class",S=_&&i?s.map(E=>i[E]||E):s;_?(l.classList.remove(...S),l.classList.add(i&&i[v]?i[v]:v)):l.setAttribute(I,v)}),f(v)}function f(v){a&&u.includes(v)&&(l.style.colorScheme=v)}function p(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)d(r);else try{let v=localStorage.getItem(e)||n,I=o&&v==="system"?p():v;d(I)}catch{}},iI=["light","dark"],lF="(prefers-color-scheme: dark)",fJ=typeof window>"u",cF=y.createContext(void 0),pJ=t=>y.useContext(cF)?y.createElement(y.Fragment,null,t.children):y.createElement(gJ,{...t}),mJ=["light","dark"],gJ=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:s="theme",themes:i=mJ,defaultTheme:o=n?"system":"light",attribute:a="data-theme",value:l,children:u,nonce:d,scriptProps:f})=>{let[p,v]=y.useState(()=>vJ(s,o)),[I,_]=y.useState(()=>p==="system"?vy():p),S=l?Object.values(l):i,E=y.useCallback(k=>{let M=k;if(!M)return;k==="system"&&n&&(M=vy());let T=l?l[M]:M,b=e?_J(d):null,C=document.documentElement,R=O=>{O==="class"?(C.classList.remove(...S),T&&C.classList.add(T)):O.startsWith("data-")&&(T?C.setAttribute(O,T):C.removeAttribute(O))};if(Array.isArray(a)?a.forEach(R):R(a),r){let O=iI.includes(o)?o:null,D=iI.includes(M)?M:O;C.style.colorScheme=D}b==null||b()},[d]),g=y.useCallback(k=>{let M=typeof k=="function"?k(p):k;v(M);try{localStorage.setItem(s,M)}catch{}},[p]),x=y.useCallback(k=>{let M=vy(k);_(M),p==="system"&&n&&!t&&E("system")},[p,t]);y.useEffect(()=>{let k=window.matchMedia(lF);return k.addListener(x),x(k),()=>k.removeListener(x)},[x]),y.useEffect(()=>{let k=M=>{M.key===s&&(M.newValue?v(M.newValue):g(o))};return window.addEventListener("storage",k),()=>window.removeEventListener("storage",k)},[g]),y.useEffect(()=>{E(t??p)},[t,p]);let N=y.useMemo(()=>({theme:p,setTheme:g,forcedTheme:t,resolvedTheme:p==="system"?I:p,themes:n?[...i,"system"]:i,systemTheme:n?I:void 0}),[p,g,t,I,n,i]);return y.createElement(cF.Provider,{value:N},y.createElement(yJ,{forcedTheme:t,storageKey:s,attribute:a,enableSystem:n,enableColorScheme:r,defaultTheme:o,value:l,themes:i,nonce:d,scriptProps:f}),u)},yJ=y.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,themes:a,nonce:l,scriptProps:u})=>{let d=JSON.stringify([n,e,i,t,a,o,r,s]).slice(1,-1);return y.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${hJ.toString()})(${d})`}})}),vJ=(t,e)=>{if(fJ)return;let n;try{n=localStorage.getItem(t)||void 0}catch{}return n||e},_J=t=>{let e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},vy=t=>(t||(t=window.matchMedia(lF)),t.matches?"dark":"light");hN(document.getElementById("root")).render(h.jsx(pJ,{defaultTheme:"dark",children:h.jsx(dJ,{})}));
